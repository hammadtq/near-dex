{"version":3,"sources":["assets/demo/demo3/base/scripts.bundle.js"],"names":["Element","ElementPrototype","matches","matchesSelector","webkitMatchesSelector","msMatchesSelector","selector","node","nodes","parentNode","document","querySelectorAll","i","prototype","closest","el","lastTime","vendors","x","length","window","requestAnimationFrame","cancelAnimationFrame","callback","currTime","Date","getTime","timeToCall","Math","max","id","setTimeout","clearTimeout","arr","forEach","item","hasOwnProperty","Object","defineProperty","configurable","enumerable","writable","value","prepend","argArr","Array","slice","call","arguments","docFrag","createDocumentFragment","argItem","isNode","Node","appendChild","createTextNode","String","insertBefore","firstChild","Document","DocumentFragment","KUtilElementDataStore","KUtilElementDataStoreID","KUtilDelegatedEventHandlers","KUtil","resizeHandlers","breakpoints","sm","md","lg","xl","_windowResizeHandler","_runResizeHandlers","each","timeout","delay","addEventListener","init","options","addResizeHandler","push","removeResizeHandler","runResizeHandlers","resize","Event","dispatchEvent","evt","createEvent","initUIEvent","getURLParam","paramName","searchString","location","search","substring","val","params","split","unescape","isMobileDevice","getViewPort","width","getBreakpoint","isDesktopDevice","e","a","documentElement","body","height","isInResponsiveRange","mode","breakpoint","getUniqueID","prefix","floor","random","isset","obj","keys","stone","indexOf","Error","undefined","shift","getHighestZindex","elem","get","position","css","parseInt","isNaN","hasFixedPositionedParent","sleep","milliseconds","start","getRandomInt","min","isAngularVersion","Zone","deepExtend","out","key","extend","query","nodeType","getElementById","getElementsByTagName","getElementsByClassName","getByID","getByClass","hasClasses","classes","classesArr","hasClass","trim","className","classList","contains","RegExp","test","addClass","classNames","add","removeClass","remove","replace","triggerCustomEvent","eventName","data","CustomEvent","event","detail","initCustomEvent","triggerEvent","doc","ownerDocument","eventClass","bubbles","initEvent","synthetic","fireEvent","createEventObject","index","elm","c","children","string","eventTriggered","currentTarget","dataset","triggered","removeChild","find","parent","querySelector","findAll","insertAfter","referenceNode","nextSibling","parents","collectionHas","b","len","findParentBySelector","all","cur","log","childNodes","result","l","child","p","f","mozMatchesSelector","s","tagName","element","set","name","customDataTag","has","outerWidth","margin","parseFloat","offsetWidth","offset","rect","win","getClientRects","top","left","getBoundingClientRect","defaultView","pageYOffset","pageXOffset","visible","offsetHeight","attr","setAttribute","getAttribute","hasAttr","removeAttr","removeAttribute","animate","from","to","duration","update","easing","done","easings","linear","t","d","rAF","canceled","change","loop","timestamp","time","performance","now","actualCss","prop","cache","HTMLElement","style","cssText","actualHeight","actualWidth","getScroll","method","self","browserSupportsBoxModel","styleProp","getComputedStyle","toLowerCase","getPropertyValue","currentStyle","str","letter","toUpperCase","oldLeft","oldRsLeft","runtimeStyle","pixelLeft","slide","dir","speed","recalcMaxHeight","calcHeight","calcPaddingTop","calcPaddingBottom","paddingTop","paddingBottom","display","overflow","slideUp","slideDown","show","hide","addEvent","type","handler","one","removeEvent","removeEventListener","on","eventId","targets","target","j","off","onetime","callee","hash","chr","charCodeAt","animateClass","animationName","animation","animations","OAnimation","MozAnimation","WebkitAnimation","msAnimation","transitionEnd","transition","transitions","OTransition","MozTransition","WebkitTransition","msTransition","animationEnd","animateDelay","animateDuration","scrollTo","targetPos","scrollPos","scrollTop","isArray","ready","attachEvent","readyState","isEmpty","numberString","nStr","x1","x2","rgx","detectIE","ua","navigator","userAgent","msie","trident","rv","edge","isRTL","scrollInit","ps","Function","disableForMobile","resetHeightOnDestroy","destroy","PerfectScrollbar","wheelSpeed","swipeEasing","wheelPropagation","minScrollbarLength","maxScrollbarLength","suppressScrollX","handleWindowResize","scrollUpdate","scrollUpdateAll","scrollers","scrollerUpdate","scrollDestroy","setHTML","html","innerHTML","getHTML","onload","KApp","colors","initTooltip","skin","triggerValue","placement","tooltip","trigger","template","initTooltips","$","initPopover","popover","initPopovers","initFileInput","fileName","next","initPortlet","portlet","KPortlet","initPortlets","initScroll","initAlerts","initSticky","sticky","Sticky","initAbsoluteDropdown","dropdown","dropdownMenu","append","detach","relatedTarget","initComponents","block","opacity","overlayColor","size","state","centerX","centerY","message","shadow","version","spinner","createElement","border","padding","backgroundColor","overlayCSS","cursor","zIndex","onUnblock","blockUI","unblock","unblockUI","blockPage","unblockPage","progress","alignment","unprogress","getStateColor","getBaseColor","level","KAppOptions","pluginName","pfx","util","app","fn","console","datatable","debug","API","record","Plugin","isInit","cellOffset","iconOffset","stateId","ajaxParams","isHtmlTable","source","extractTable","setupBaseDOM","setupDOM","table","setDataSourceQuery","getOption","afterRender","stateRemove","extName","extOptions","saveState","cookie","webstorage","dataSet","originalDataSet","dataMapCallback","dataRender","setHeadTitle","tableFoot","layout","header","footer","setupCellField","setupTemplateCell","setupSubDatatable","setupSystemColumn","redraw","initialWidth","fullRender","which","columns","headers","map","cell","field","text","column","title","ii","rowProp","td","rowProps","layoutUpdate","setupHover","getDepth","lockTable","resetScroll","dropdownFix","wrap","lock","lockEnabled","lockEnabledColumns","right","enable","enableLock","tablePart","lockLeft","lockScroll","lockRight","rowLeft","appendTo","rowScroll","rowRight","locked","tableHead","empty","spinnerCallback","insertData","screen","enabled","args","isLocked","isSubtable","autoHide","rowEvenOdd","tableBody","scrollbar","sorting","hoverTimer","isScrolling","scroll","row","adjustLockContainer","containerWidth","dragResize","pressed","startX","startWidth","mousedown","pageX","mousemove","ifLocked","lockedIndex","eq","tri","tr","mouseup","initHeight","theadHeight","outerHeight","tfootHeight","bodyHeight","initialDatatable","clone","theme","class","setOption","prependTo","tableParts","part","tdi","rowCallback","beforeTemplate","grep","n","finalValue","dataPlaceholder","DOMPurify","sanitize","span","afterTemplate","chk","is","setActive","setInactive","subtable","initCheckbox","setActiveAll","first","adjustCellsWidth","innerWidth","not","minWidth","dataWidth","ceil","adjustCellsHeight","totalRows","rows","maxHeight","apply","wrapInner","scrollable","tableLocked","initPosition","scrollHead","scrollFoot","initCustomScrollbar","initDefaultScrollbar","scrollLeft","onScrolling","initScrollbar","ths","th","textAlign","align","action","siblings","buildMeta","localDataUpdate","meta","getDataSourceParam","perpage","pageSize","total","page","end","afterGetData","localPagingCallback","ctx","pager","pagination","serverPaging","serverMeta","getObject","paging","serverSorting","serverFiltering","getData","pages","visibility","colLength","rowIndex","cellIndex","tds","join","errorSpan","replaceWith","updateTableComponents","dataType","url","ajax","response","textStatus","jqXHR","lastResponse","setAutoColumns","fail","errorThrown","always","pg","paginateEvent","pagerLayout","info","getTablePrefix","setDataSourceParam","serverCallback","addPaginateEvent","populate","pagingBreakpoint","icons","pagerNumber","gotoMorePage","prev","more","input","abs","pagesNumber","pageNumber","gotoPage","last","pageSizeSelect","updatePerpage","pageSizes","selectpicker","paste","unique","preventDefault","openPage","originalEvent","updateInfo","currentPage","getCurrentPage","pagerInput","option","paginationUpdate","pagerMorePrev","pagerMoreNext","pagerFirst","pagerPrev","pagerNext","pagerLast","morePrevPage","moreNextPage","nav","columnHide","responsive","hidden","subTableCallback","toggleSubTable","parentRow","subTableRow","getTotalColumns","after","toggle","subTable","primaryKey","icon","detailCell","raw","isSpinning","spinnerOptions","sortCallback","sort","format","aField","bField","moment","diff","Number","hiddenExist","hidDefault","scrollWidth","toggleHiddenColumns","detailRow","detailRowTd","detailSubTable","k","v","found","getExtraSpace","getTableId","suffix","depth","stateKeep","localStorage","setItem","JSON","stringify","Cookies","stateGet","defValue","getItem","parse","stateUpdate","ori","removeItem","getOneRow","tdOnly","hasOverflowY","innerHeight","sortColumn","int","hIndex","container","tda","tdb","sortObj","sortable","sortClick","setIcon","isEmptyObject","getColumnByField","nestedSearch","getGeneralSearchKey","filterArray","filter","list","operator","inArray","count","filtered","to_match","matched","m_key","m_value","match_property","lhs","toString","getDefaultSortColumn","getHiddenDimensions","includeMargin","props","dim","hiddenParents","addBack","oldProps","old","searchInput","path","object","reduce","extendObj","levels","createLevel","timer","load","reload","ms","getRecord","rowNumber","getColumn","columnName","setSelectedRecords","getValue","ids","active","checkboxes","getSelectedRecords","makeArray","getDataSourceQuery","param","getPageSize","getTotalRows","getDataSet","hideColumn","fieldName","showColumn","nodeTr","nodeTd","nodeCols","recentNode","context","cells","bool","scrollColumns","funcName","func","center","defaults","error","autoColumns","minHeight","customScrollbar","asc","desc","rowDetail","expand","collapse","resizable","filterable","editable","onEnter","toolbar","items","desktop","tablet","mobile","navigation","translate","records","processing","noRecords","default","select","extensions","jQuery","checkbox","Extension","selectedAllRows","selectedRows","unselectedRows","selectorEnabled","vars","requestIds","initVars","initSelect","storage","click","getSelectedId","rowIds","array","KDatatable","KHeader","elementId","the","defaultOptions","classic","minimize","construct","build","events","lastScrollTop","eventTriggerState","viewportHeight","st","eventTrigger","fired","setDefaults","KMenu","accordion","slideSpeed","autoScroll","autoScrollSpeed","expandAll","reset","eventHandlers","pauseDropdownHoverTime","uid","resetSubmenuProps","handleSubmenuAccordion","getSubmenuMode","isConditionalSubmenuDropdown","handleSubmenuDrodownHoverEnter","handleSubmenuDrodownHoverExit","handleSubmenuDropdownClick","handleSubmenuDropdownTabClick","submenu","submenus","resumeDropdownHover","showSubmenuDropdown","hideSubmenuDropdown","handleSubmenuDropdownClose","shown","li","hasClosables","subnav","closables","el_","submenu_","scrollToItem","classAlso","createSubmenuDropdownClickDropoff","dropoff","stopPropagation","pauseDropdownHover","date","resetActiveItem","i_","len_","setActiveItem","getBreadcrumbs","breadcrumbs","link","href","submenuLink","reverse","getPageTitle","scrollReInit","hideDropdown","cnt","KOffcanvas","overlay","classBase","baseClass","classShown","classOverlay","toggleBy","closeBy","isShown","togglerClass","bodyToggleSpeed","tooltips","tools","fullscreen","head","foot","setupTooltips","onScrollSticky","updateSticky","resetSticky","removeTooltips","setContent","getBody","getSelf","collapsed","fullscreenOn","tip","Tooltip","dispose","updateTitleContent","height1","height2","destroySticky","unFullscreen","KScrolltop","toggleClass","match","handle","pos","KToggle","togglerState","targetState","toggleOn","toggleOff","getState","KWizard","startStep","manualStepForward","steps","btnSubmit","btnNext","btnPrev","btnLast","btnFirst","currentStep","stopped","totalSteps","goTo","updateUI","goNext","goPrev","goFirst","goLast","number","getNextStep","stop","isLastStep","isFirstStep","isBetweenStep","getPrevStep","stepType","stepsInfo","stepsContent","getStep","KAvatar","holder","cancel","src","files","reader","FileReader","readAsDataURL","KLayout","headerMenu","headerMenuOffcanvas","mobileHeaderTopbarToggle","asideMenu","asideMenuOffcanvas","pageStickyPortlet","initHeader","tmp","headerEl","initHeaderMenu","initHeaderTopbar","initAside","asidBrandHover","aside","asideBrand","asideOffcanvasClass","insideTm","outsideTm","initAsideMenu","menu","menuDesktopMode","initScrolltop","scrolltop","initPageStickyPortlet","h","swal","getAsideMenu","closeMobileAsideMenuOffcanvas","closeMobileHeaderMenuOffcanvas"],"mappings":"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","file":"scripts.bundle.bdcc0f7b.js","sourceRoot":"../src","sourcesContent":["\"use strict\";\r\n/**\r\n * @class KUtil  base utilize class that privides helper functions\r\n */\r\n// Polyfill\r\n// matches polyfill\r\nthis.Element && function(ElementPrototype) {\r\n    ElementPrototype.matches = ElementPrototype.matches ||\r\n        ElementPrototype.matchesSelector ||\r\n        ElementPrototype.webkitMatchesSelector ||\r\n        ElementPrototype.msMatchesSelector ||\r\n        function(selector) {\r\n            var node = this,\r\n                nodes = (node.parentNode || node.document).querySelectorAll(selector),\r\n                i = -1;\r\n            while (nodes[++i] && nodes[i] != node);\r\n            return !!nodes[i];\r\n        }\r\n}(Element.prototype);\r\n\r\n// closest polyfill\r\nthis.Element && function(ElementPrototype) {\r\n    ElementPrototype.closest = ElementPrototype.closest ||\r\n        function(selector) {\r\n            var el = this;\r\n            while (el.matches && !el.matches(selector)) el = el.parentNode;\r\n            return el.matches ? el : null;\r\n        }\r\n}(Element.prototype);\r\n\r\n\r\n// matches polyfill\r\nthis.Element && function(ElementPrototype) {\r\n    ElementPrototype.matches = ElementPrototype.matches ||\r\n        ElementPrototype.matchesSelector ||\r\n        ElementPrototype.webkitMatchesSelector ||\r\n        ElementPrototype.msMatchesSelector ||\r\n        function(selector) {\r\n            var node = this,\r\n                nodes = (node.parentNode || node.document).querySelectorAll(selector),\r\n                i = -1;\r\n            while (nodes[++i] && nodes[i] != node);\r\n            return !!nodes[i];\r\n        }\r\n}(Element.prototype);\r\n\r\n//\r\n// requestAnimationFrame polyfill by Erik Mller.\r\n//  With fixes from Paul Irish and Tino Zijdel\r\n//\r\n//  http://paulirish.com/2011/requestanimationframe-for-smart-animating/\r\n//  http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating\r\n//\r\n//  MIT license\r\n//\r\n(function() {\r\n    var lastTime = 0;\r\n    var vendors = ['webkit', 'moz'];\r\n    for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\r\n        window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\r\n        window.cancelAnimationFrame =\r\n            window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\r\n    }\r\n\r\n    if (!window.requestAnimationFrame)\r\n        window.requestAnimationFrame = function(callback) {\r\n            var currTime = new Date().getTime();\r\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n            var id = window.setTimeout(function() {\r\n                callback(currTime + timeToCall);\r\n            }, timeToCall);\r\n            lastTime = currTime + timeToCall;\r\n            return id;\r\n        };\r\n\r\n    if (!window.cancelAnimationFrame)\r\n        window.cancelAnimationFrame = function(id) {\r\n            clearTimeout(id);\r\n        };\r\n}());\r\n\r\n// Source: https://github.com/jserz/js_piece/blob/master/DOM/ParentNode/prepend()/prepend().md\r\n(function(arr) {\r\n    arr.forEach(function(item) {\r\n        if (item.hasOwnProperty('prepend')) {\r\n            return;\r\n        }\r\n        Object.defineProperty(item, 'prepend', {\r\n            configurable: true,\r\n            enumerable: true,\r\n            writable: true,\r\n            value: function prepend() {\r\n                var argArr = Array.prototype.slice.call(arguments),\r\n                    docFrag = document.createDocumentFragment();\r\n\r\n                argArr.forEach(function(argItem) {\r\n                    var isNode = argItem instanceof Node;\r\n                    docFrag.appendChild(isNode ? argItem : document.createTextNode(String(argItem)));\r\n                });\r\n\r\n                this.insertBefore(docFrag, this.firstChild);\r\n            }\r\n        });\r\n    });\r\n})([Element.prototype, Document.prototype, DocumentFragment.prototype]);\r\n\r\n// Global variables \r\nwindow.KUtilElementDataStore = {};\r\nwindow.KUtilElementDataStoreID = 0;\r\nwindow.KUtilDelegatedEventHandlers = {};\r\n\r\nvar KUtil = function() {\r\n\r\n    var resizeHandlers = [];\r\n\r\n    /** @type {object} breakpoints The device width breakpoints **/\r\n    var breakpoints = {\r\n        sm: 544, // Small screen / phone           \r\n        md: 768, // Medium screen / tablet            \r\n        lg: 1024, // Large screen / desktop        \r\n        xl: 1200 // Extra large screen / wide desktop\r\n    };\r\n\r\n    /**\r\n     * Handle window resize event with some \r\n     * delay to attach event handlers upon resize complete \r\n     */\r\n    var _windowResizeHandler = function() {\r\n        var _runResizeHandlers = function() {\r\n            // reinitialize other subscribed elements\r\n            for (var i = 0; i < resizeHandlers.length; i++) {\r\n                var each = resizeHandlers[i];\r\n                each.call();\r\n            }\r\n        };\r\n\r\n        var timeout = false; // holder for timeout id\r\n        var delay = 250; // delay after event is \"complete\" to run callback\r\n\r\n        window.addEventListener('resize', function() {\r\n            clearTimeout(timeout);\r\n            timeout = setTimeout(function() {\r\n                _runResizeHandlers();\r\n            }, delay); // wait 50ms until window resize finishes.\r\n        });\r\n    };\r\n\r\n    return {\r\n        /**\r\n         * Class main initializer.\r\n         * @param {object} options.\r\n         * @returns null\r\n         */\r\n        //main function to initiate the theme\r\n        init: function(options) {\r\n            if (options && options.breakpoints) {\r\n                breakpoints = options.breakpoints;\r\n            }\r\n\r\n            _windowResizeHandler();\r\n        },\r\n\r\n        /**\r\n         * Adds window resize event handler.\r\n         * @param {function} callback function.\r\n         */\r\n        addResizeHandler: function(callback) {\r\n            resizeHandlers.push(callback);\r\n        },\r\n\r\n        /**\r\n         * Removes window resize event handler.\r\n         * @param {function} callback function.\r\n         */\r\n        removeResizeHandler: function(callback) {\r\n            for (var i = 0; i < resizeHandlers.length; i++) {\r\n                if (callback === resizeHandlers[i]) {\r\n                    delete resizeHandlers[i];\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Trigger window resize handlers.\r\n         */\r\n        runResizeHandlers: function() {\r\n            _runResizeHandlers();\r\n        },\r\n\r\n        resize: function() {\r\n            if (typeof(Event) === 'function') {\r\n                // modern browsers\r\n                window.dispatchEvent(new Event('resize'));\r\n            } else {\r\n                // for IE and other old browsers\r\n                // causes deprecation warning on modern browsers\r\n                var evt = window.document.createEvent('UIEvents'); \r\n                evt.initUIEvent('resize', true, false, window, 0); \r\n                window.dispatchEvent(evt);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get GET parameter value from URL.\r\n         * @param {string} paramName Parameter name.\r\n         * @returns {string}  \r\n         */\r\n        getURLParam: function(paramName) {\r\n            var searchString = window.location.search.substring(1),\r\n                i, val, params = searchString.split(\"&\");\r\n\r\n            for (i = 0; i < params.length; i++) {\r\n                val = params[i].split(\"=\");\r\n                if (val[0] == paramName) {\r\n                    return unescape(val[1]);\r\n                }\r\n            }\r\n\r\n            return null;\r\n        },\r\n\r\n        /**\r\n         * Checks whether current device is mobile touch.\r\n         * @returns {boolean}  \r\n         */\r\n        isMobileDevice: function() {\r\n            return (this.getViewPort().width < this.getBreakpoint('lg') ? true : false);\r\n        },\r\n\r\n        /**\r\n         * Checks whether current device is desktop.\r\n         * @returns {boolean}  \r\n         */\r\n        isDesktopDevice: function() {\r\n            return KUtil.isMobileDevice() ? false : true;\r\n        },\r\n\r\n        /**\r\n         * Gets browser window viewport size. Ref:\r\n         * http://andylangton.co.uk/articles/javascript/get-viewport-size-javascript/\r\n         * @returns {object}  \r\n         */\r\n        getViewPort: function() {\r\n            var e = window,\r\n                a = 'inner';\r\n            if (!('innerWidth' in window)) {\r\n                a = 'client';\r\n                e = document.documentElement || document.body;\r\n            }\r\n\r\n            return {\r\n                width: e[a + 'Width'],\r\n                height: e[a + 'Height']\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Checks whether given device mode is currently activated.\r\n         * @param {string} mode Responsive mode name(e.g: desktop,\r\n         *     desktop-and-tablet, tablet, tablet-and-mobile, mobile)\r\n         * @returns {boolean}  \r\n         */\r\n        isInResponsiveRange: function(mode) {\r\n            var breakpoint = this.getViewPort().width;\r\n\r\n            if (mode == 'general') {\r\n                return true;\r\n            } else if (mode == 'desktop' && breakpoint >= (this.getBreakpoint('lg') + 1)) {\r\n                return true;\r\n            } else if (mode == 'tablet' && (breakpoint >= (this.getBreakpoint('md') + 1) && breakpoint < this.getBreakpoint('lg'))) {\r\n                return true;\r\n            } else if (mode == 'mobile' && breakpoint <= this.getBreakpoint('md')) {\r\n                return true;\r\n            } else if (mode == 'desktop-and-tablet' && breakpoint >= (this.getBreakpoint('md') + 1)) {\r\n                return true;\r\n            } else if (mode == 'tablet-and-mobile' && breakpoint <= this.getBreakpoint('lg')) {\r\n                return true;\r\n            } else if (mode == 'minimal-desktop-and-below' && breakpoint <= this.getBreakpoint('xl')) {\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Generates unique ID for give prefix.\r\n         * @param {string} prefix Prefix for generated ID\r\n         * @returns {boolean}  \r\n         */\r\n        getUniqueID: function(prefix) {\r\n            return prefix + Math.floor(Math.random() * (new Date()).getTime());\r\n        },\r\n\r\n        /**\r\n         * Gets window width for give breakpoint mode.\r\n         * @param {string} mode Responsive mode name(e.g: xl, lg, md, sm)\r\n         * @returns {number}  \r\n         */\r\n        getBreakpoint: function(mode) {\r\n            return breakpoints[mode];\r\n        },\r\n\r\n        /**\r\n         * Checks whether object has property matchs given key path.\r\n         * @param {object} obj Object contains values paired with given key path\r\n         * @param {string} keys Keys path seperated with dots\r\n         * @returns {object}  \r\n         */\r\n        isset: function(obj, keys) {\r\n            var stone;\r\n\r\n            keys = keys || '';\r\n\r\n            if (keys.indexOf('[') !== -1) {\r\n                throw new Error('Unsupported object path notation.');\r\n            }\r\n\r\n            keys = keys.split('.');\r\n\r\n            do {\r\n                if (obj === undefined) {\r\n                    return false;\r\n                }\r\n\r\n                stone = keys.shift();\r\n\r\n                if (!obj.hasOwnProperty(stone)) {\r\n                    return false;\r\n                }\r\n\r\n                obj = obj[stone];\r\n\r\n            } while (keys.length);\r\n\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * Gets highest z-index of the given element parents\r\n         * @param {object} el jQuery element object\r\n         * @returns {number}  \r\n         */\r\n        getHighestZindex: function(el) {\r\n            var elem = KUtil.get(el),\r\n                position, value;\r\n\r\n            while (elem && elem !== document) {\r\n                // Ignore z-index if position is set to a value where z-index is ignored by the browser\r\n                // This makes behavior of this function consistent across browsers\r\n                // WebKit always returns auto if the element is positioned\r\n                position = KUtil.css(elem, 'position');\r\n\r\n                if (position === \"absolute\" || position === \"relative\" || position === \"fixed\") {\r\n                    // IE returns 0 when zIndex is not specified\r\n                    // other browsers return a string\r\n                    // we ignore the case of nested elements with an explicit value of 0\r\n                    // <div style=\"z-index: -10;\"><div style=\"z-index: 0;\"></div></div>\r\n                    value = parseInt(KUtil.css(elem, 'z-index'));\r\n\r\n                    if (!isNaN(value) && value !== 0) {\r\n                        return value;\r\n                    }\r\n                }\r\n\r\n                elem = elem.parentNode;\r\n            }\r\n\r\n            return null;\r\n        },\r\n\r\n        /**\r\n         * Checks whether the element has any parent with fixed positionfreg\r\n         * @param {object} el jQuery element object\r\n         * @returns {boolean}  \r\n         */\r\n        hasFixedPositionedParent: function(el) {\r\n            while (el && el !== document) {\r\n                position = KUtil.css(el, 'position');\r\n\r\n                if (position === \"fixed\") {\r\n                    return true;\r\n                }\r\n\r\n                el = el.parentNode;\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Simulates delay\r\n         */\r\n        sleep: function(milliseconds) {\r\n            var start = new Date().getTime();\r\n            for (var i = 0; i < 1e7; i++) {\r\n                if ((new Date().getTime() - start) > milliseconds) {\r\n                    break;\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Gets randomly generated integer value within given min and max range\r\n         * @param {number} min Range start value\r\n         * @param {number} min Range end value\r\n         * @returns {number}  \r\n         */\r\n        getRandomInt: function(min, max) {\r\n            return Math.floor(Math.random() * (max - min + 1)) + min;\r\n        },\r\n\r\n        /**\r\n         * Checks whether Angular library is included\r\n         * @returns {boolean}  \r\n         */\r\n        isAngularVersion: function() {\r\n            return window.Zone !== undefined ? true : false;\r\n        },\r\n\r\n        // jQuery Workarounds\r\n\r\n        // Deep extend:  $.extend(true, {}, objA, objB);\r\n        deepExtend: function(out) {\r\n            out = out || {};\r\n\r\n            for (var i = 1; i < arguments.length; i++) {\r\n                var obj = arguments[i];\r\n\r\n                if (!obj)\r\n                    continue;\r\n\r\n                for (var key in obj) {\r\n                    if (obj.hasOwnProperty(key)) {\r\n                        if (typeof obj[key] === 'object')\r\n                            out[key] = KUtil.deepExtend(out[key], obj[key]);\r\n                        else\r\n                            out[key] = obj[key];\r\n                    }\r\n                }\r\n            }\r\n\r\n            return out;\r\n        },\r\n\r\n        // extend:  $.extend({}, objA, objB); \r\n        extend: function(out) {\r\n            out = out || {};\r\n\r\n            for (var i = 1; i < arguments.length; i++) {\r\n                if (!arguments[i])\r\n                    continue;\r\n\r\n                for (var key in arguments[i]) {\r\n                    if (arguments[i].hasOwnProperty(key))\r\n                        out[key] = arguments[i][key];\r\n                }\r\n            }\r\n\r\n            return out;\r\n        },\r\n\r\n        get: function(query) {\r\n            var el;\r\n\r\n            if (query === document) {\r\n                return document;\r\n            }\r\n\r\n            if (!!(query && query.nodeType === 1)) {\r\n                return query;\r\n            }\r\n\r\n            if (el = document.getElementById(query)) {\r\n                return el;\r\n            } else if (el = document.getElementsByTagName(query)) {\r\n                return el[0];\r\n            } else if (el = document.getElementsByClassName(query)) {\r\n                return el[0];\r\n            } else {\r\n                return null;\r\n            }\r\n        },\r\n\r\n        getByID: function(query) {\r\n            if (!!(query && query.nodeType === 1)) {\r\n                return query;\r\n            }\r\n\r\n            return document.getElementById(query);\r\n        },\r\n\r\n        getByClass: function(query) {\r\n            var el;\r\n            \r\n            if (el = document.getElementsByClassName(query)) {\r\n                return el[0];\r\n            } else {\r\n                return null;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Checks whether the element has given classes\r\n         * @param {object} el jQuery element object\r\n         * @param {string} Classes string\r\n         * @returns {boolean}  \r\n         */\r\n        hasClasses: function(el, classes) {\r\n            if (!el) {\r\n                return;\r\n            }\r\n\r\n            var classesArr = classes.split(\" \");\r\n\r\n            for (var i = 0; i < classesArr.length; i++) {\r\n                if (KUtil.hasClass(el, KUtil.trim(classesArr[i])) == false) {\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            return true;\r\n        },\r\n\r\n        hasClass: function(el, className) {\r\n            if (!el) {\r\n                return;\r\n            }\r\n\r\n            return el.classList ? el.classList.contains(className) : new RegExp('\\\\b' + className + '\\\\b').test(el.className);\r\n        },\r\n\r\n        addClass: function(el, className) {\r\n            if (!el || typeof className === 'undefined') {\r\n                return;\r\n            }\r\n\r\n            var classNames = className.split(' ');\r\n\r\n            if (el.classList) {\r\n                for (var i = 0; i < classNames.length; i++) {\r\n                    if (classNames[i] && classNames[i].length > 0) {\r\n                        el.classList.add(KUtil.trim(classNames[i]));\r\n                    }\r\n                }\r\n            } else if (!KUtil.hasClass(el, className)) {\r\n                for (var i = 0; i < classNames.length; i++) {\r\n                    el.className += ' ' + KUtil.trim(classNames[i]);\r\n                }\r\n            }\r\n        },\r\n\r\n        removeClass: function(el, className) {\r\n          if (!el || typeof className === 'undefined') {\r\n                return;\r\n            }\r\n\r\n            var classNames = className.split(' ');\r\n\r\n            if (el.classList) {\r\n                for (var i = 0; i < classNames.length; i++) {\r\n                    el.classList.remove(KUtil.trim(classNames[i]));\r\n                }\r\n            } else if (KUtil.hasClass(el, className)) {\r\n                for (var i = 0; i < classNames.length; i++) {\r\n                    el.className = el.className.replace(new RegExp('\\\\b' + KUtil.trim(classNames[i]) + '\\\\b', 'g'), '');\r\n                }\r\n            }\r\n        },\r\n\r\n        triggerCustomEvent: function(el, eventName, data) {\r\n            if (window.CustomEvent) {\r\n                var event = new CustomEvent(eventName, {\r\n                    detail: data\r\n                });\r\n            } else {\r\n                var event = document.createEvent('CustomEvent');\r\n                event.initCustomEvent(eventName, true, true, data);\r\n            }\r\n\r\n            el.dispatchEvent(event);\r\n        },\r\n\r\n        triggerEvent: function(node, eventName) {\r\n            // Make sure we use the ownerDocument from the provided node to avoid cross-window problems\r\n            var doc;\r\n            if (node.ownerDocument) {\r\n                doc = node.ownerDocument;\r\n            } else if (node.nodeType == 9) {\r\n                // the node may be the document itself, nodeType 9 = DOCUMENT_NODE\r\n                doc = node;\r\n            } else {\r\n                throw new Error(\"Invalid node passed to fireEvent: \" + node.id);\r\n            }\r\n\r\n            if (node.dispatchEvent) {\r\n                // Gecko-style approach (now the standard) takes more work\r\n                var eventClass = \"\";\r\n\r\n                // Different events have different event classes.\r\n                // If this switch statement can't map an eventName to an eventClass,\r\n                // the event firing is going to fail.\r\n                switch (eventName) {\r\n                case \"click\": // Dispatching of 'click' appears to not work correctly in Safari. Use 'mousedown' or 'mouseup' instead.\r\n                case \"mouseenter\":\r\n                case \"mouseleave\":\r\n                case \"mousedown\":\r\n                case \"mouseup\":\r\n                    eventClass = \"MouseEvents\";\r\n                    break;\r\n\r\n                case \"focus\":\r\n                case \"change\":\r\n                case \"blur\":\r\n                case \"select\":\r\n                    eventClass = \"HTMLEvents\";\r\n                    break;\r\n\r\n                default:\r\n                    throw \"fireEvent: Couldn't find an event class for event '\" + eventName + \"'.\";\r\n                    break;\r\n                }\r\n                var event = doc.createEvent(eventClass);\r\n\r\n                var bubbles = eventName == \"change\" ? false : true;\r\n                event.initEvent(eventName, bubbles, true); // All events created as bubbling and cancelable.\r\n\r\n                event.synthetic = true; // allow detection of synthetic events\r\n                // The second parameter says go ahead with the default action\r\n                node.dispatchEvent(event, true);\r\n            } else if (node.fireEvent) {\r\n                // IE-old school style\r\n                var event = doc.createEventObject();\r\n                event.synthetic = true; // allow detection of synthetic events\r\n                node.fireEvent(\"on\" + eventName, event);\r\n            }\r\n        },\r\n\r\n        index: function( elm ){ \r\n            elm = KUtil.get(elm);\r\n            var c = elm.parentNode.children, i = 0;\r\n            for(; i < c.length; i++ )\r\n                if( c[i] == elm ) return i;\r\n        },\r\n\r\n        trim: function(string) {\r\n            return string.trim();\r\n        },\r\n\r\n        eventTriggered: function(e) {\r\n            if (e.currentTarget.dataset.triggered) {\r\n                return true;\r\n            } else {\r\n                e.currentTarget.dataset.triggered = true;\r\n\r\n                return false;\r\n            }\r\n        },\r\n\r\n        remove: function(el) {\r\n            if (el && el.parentNode) {\r\n                el.parentNode.removeChild(el);\r\n            }\r\n        },\r\n\r\n        find: function(parent, query) {\r\n            parent = KUtil.get(parent);\r\n            if (parent) {\r\n                return parent.querySelector(query);\r\n            }            \r\n        },\r\n\r\n        findAll: function(parent, query) {\r\n            parent = KUtil.get(parent);\r\n            if (parent) {\r\n                return parent.querySelectorAll(query);\r\n            } \r\n        },\r\n\r\n        insertAfter: function(el, referenceNode) {\r\n            return referenceNode.parentNode.insertBefore(el, referenceNode.nextSibling);\r\n        },\r\n\r\n        parents: function(el, query) {\r\n            function collectionHas(a, b) { //helper function (see below)\r\n                for (var i = 0, len = a.length; i < len; i++) {\r\n                    if (a[i] == b) return true;\r\n                }\r\n\r\n                return false;\r\n            }\r\n\r\n            function findParentBySelector(el, selector) {\r\n                var all = document.querySelectorAll(selector);\r\n                var cur = el.parentNode;\r\n\r\n                while (cur && !collectionHas(all, cur)) { //keep going up until you find a match\r\n                    cur = cur.parentNode; //go up\r\n                }\r\n\r\n                return cur; //will return null if not found\r\n            }\r\n\r\n            return findParentBySelector(el, query);\r\n        },\r\n\r\n        children: function(el, selector, log) {\r\n            if (!el || !el.childNodes) {\r\n                return;\r\n            }\r\n\r\n            var result = [],\r\n                i = 0,\r\n                l = el.childNodes.length;\r\n\r\n            for (var i; i < l; ++i) {\r\n                if (el.childNodes[i].nodeType == 1 && KUtil.matches(el.childNodes[i], selector, log)) {\r\n                    result.push(el.childNodes[i]);\r\n                }\r\n            }\r\n\r\n            return result;\r\n        },\r\n\r\n        child: function(el, selector, log) {\r\n            var children = KUtil.children(el, selector, log);\r\n\r\n            return children ? children[0] : null;\r\n        },\r\n\r\n        matches: function(el, selector, log) {\r\n            var p = Element.prototype;\r\n            var f = p.matches || p.webkitMatchesSelector || p.mozMatchesSelector || p.msMatchesSelector || function(s) {\r\n                return [].indexOf.call(document.querySelectorAll(s), this) !== -1;\r\n            };\r\n\r\n            if (el && el.tagName) {\r\n                return f.call(el, selector);\r\n            } else {\r\n                return false;\r\n            }\r\n        },\r\n\r\n        data: function(element) {\r\n            element = KUtil.get(element);\r\n\r\n            return {\r\n                set: function(name, data) {\r\n                    if (element === undefined) {\r\n                        return;\r\n                    }\r\n\r\n                    if (element.customDataTag === undefined) {\r\n                        KUtilElementDataStoreID++;\r\n                        element.customDataTag = KUtilElementDataStoreID;\r\n                    }\r\n\r\n                    if (KUtilElementDataStore[element.customDataTag] === undefined) {\r\n                        KUtilElementDataStore[element.customDataTag] = {};\r\n                    }\r\n\r\n                    KUtilElementDataStore[element.customDataTag][name] = data;\r\n                },\r\n\r\n                get: function(name) {\r\n                    if (element === undefined) {\r\n                        return;\r\n                    }\r\n\r\n                    if (element.customDataTag === undefined) { \r\n                        return null;\r\n                    }\r\n\r\n                    return this.has(name) ? KUtilElementDataStore[element.customDataTag][name] : null;\r\n                },\r\n\r\n                has: function(name) {\r\n                    if (element === undefined) {\r\n                        return false;\r\n                    }\r\n                    \r\n                    if (element.customDataTag === undefined) { \r\n                        return false;\r\n                    }\r\n\r\n                    return (KUtilElementDataStore[element.customDataTag] && KUtilElementDataStore[element.customDataTag][name]) ? true : false;\r\n                },\r\n\r\n                remove: function(name) {\r\n                    if (element && this.has(name)) {\r\n                        delete KUtilElementDataStore[element.customDataTag][name];\r\n                    }\r\n                }\r\n            };\r\n        },\r\n\r\n        outerWidth: function(el, margin) {\r\n            var width;\r\n\r\n            if (margin === true) {\r\n                var width = parseFloat(el.offsetWidth);\r\n                width += parseFloat(KUtil.css(el, 'margin-left')) + parseFloat(KUtil.css(el, 'margin-right'));\r\n\r\n                return parseFloat(width);\r\n            } else {\r\n                var width = parseFloat(el.offsetWidth);\r\n\r\n                return width;\r\n            }\r\n        },\r\n\r\n        offset: function(elem) {\r\n            var rect, win;\r\n            elem = KUtil.get(elem);\r\n\r\n            if ( !elem ) {\r\n                return;\r\n            }\r\n\r\n            // Return zeros for disconnected and hidden (display: none) elements (gh-2310)\r\n            // Support: IE <=11 only\r\n            // Running getBoundingClientRect on a\r\n            // disconnected node in IE throws an error\r\n\r\n            if ( !elem.getClientRects().length ) {\r\n                return { top: 0, left: 0 };\r\n            }\r\n\r\n            // Get document-relative position by adding viewport scroll to viewport-relative gBCR\r\n            rect = elem.getBoundingClientRect();\r\n            win = elem.ownerDocument.defaultView;\r\n\r\n            return {\r\n                top: rect.top + win.pageYOffset,\r\n                left: rect.left + win.pageXOffset\r\n            };\r\n        },\r\n\r\n        height: function(el) {\r\n            return KUtil.css(el, 'height');\r\n        },\r\n\r\n        visible: function(el) {\r\n            return !(el.offsetWidth === 0 && el.offsetHeight === 0);\r\n        },\r\n\r\n        attr: function(el, name, value) {\r\n            el = KUtil.get(el);\r\n\r\n            if (el == undefined) {\r\n                return;\r\n            }\r\n\r\n            if (value !== undefined) {\r\n                el.setAttribute(name, value);\r\n            } else {\r\n                return el.getAttribute(name);\r\n            }\r\n        },\r\n\r\n        hasAttr: function(el, name) {\r\n            el = KUtil.get(el);\r\n\r\n            if (el == undefined) {\r\n                return;\r\n            }\r\n\r\n            return el.getAttribute(name) ? true : false;\r\n        },\r\n\r\n        removeAttr: function(el, name) {\r\n            el = KUtil.get(el);\r\n\r\n            if (el == undefined) {\r\n                return;\r\n            }\r\n\r\n            el.removeAttribute(name);\r\n        },\r\n\r\n        animate: function(from, to, duration, update, easing, done) {\r\n            /**\r\n             * TinyAnimate.easings\r\n             *  Adapted from jQuery Easing\r\n             */\r\n            var easings = {};\r\n            var easing;\r\n\r\n            easings.linear = function(t, b, c, d) {\r\n                return c * t / d + b;\r\n            };\r\n\r\n            easing = easings.linear;\r\n\r\n            // Early bail out if called incorrectly\r\n            if (typeof from !== 'number' ||\r\n                typeof to !== 'number' ||\r\n                typeof duration !== 'number' ||\r\n                typeof update !== 'function') {\r\n                return;\r\n            }\r\n\r\n            // Create mock done() function if necessary\r\n            if (typeof done !== 'function') {\r\n                done = function() {};\r\n            }\r\n\r\n            // Pick implementation (requestAnimationFrame | setTimeout)\r\n            var rAF = window.requestAnimationFrame || function(callback) {\r\n                window.setTimeout(callback, 1000 / 50);\r\n            };\r\n\r\n            // Animation loop\r\n            var canceled = false;\r\n            var change = to - from;\r\n\r\n            function loop(timestamp) {\r\n                var time = (timestamp || +new Date()) - start;\r\n\r\n                if (time >= 0) {\r\n                    update(easing(time, from, change, duration));\r\n                }\r\n                if (time >= 0 && time >= duration) {\r\n                    update(to);\r\n                    done();\r\n                } else {\r\n                    rAF(loop);\r\n                }\r\n            }\r\n\r\n            update(from);\r\n\r\n            // Start animation loop\r\n            var start = window.performance && window.performance.now ? window.performance.now() : +new Date();\r\n\r\n            rAF(loop);\r\n        },\r\n\r\n        actualCss: function(el, prop, cache) {\r\n            el = KUtil.get(el);\r\n            var css = '';\r\n            \r\n            if (el instanceof HTMLElement === false) {\r\n                return;\r\n            }\r\n\r\n            if (!el.getAttribute('k-hidden-' + prop) || cache === false) {\r\n                var value;\r\n\r\n                // the element is hidden so:\r\n                // making the el block so we can meassure its height but still be hidden\r\n                css = el.style.cssText;\r\n                el.style.cssText = 'position: absolute; visibility: hidden; display: block;';\r\n\r\n                if (prop == 'width') {\r\n                    value = el.offsetWidth;\r\n                } else if (prop == 'height') {\r\n                    value = el.offsetHeight;\r\n                }\r\n\r\n                el.style.cssText = css;\r\n\r\n                // store it in cache\r\n                el.setAttribute('k-hidden-' + prop, value);\r\n\r\n                return parseFloat(value);\r\n            } else {\r\n                // store it in cache\r\n                return parseFloat(el.getAttribute('k-hidden-' + prop));\r\n            }\r\n        },\r\n\r\n        actualHeight: function(el, cache) {\r\n            return KUtil.actualCss(el, 'height', cache);\r\n        },\r\n\r\n        actualWidth: function(el, cache) {\r\n            return KUtil.actualCss(el, 'width', cache);\r\n        },\r\n\r\n        getScroll: function(element, method) {\r\n            // The passed in `method` value should be 'Top' or 'Left'\r\n            method = 'scroll' + method;\r\n            return (element == window || element == document) ? (\r\n                self[(method == 'scrollTop') ? 'pageYOffset' : 'pageXOffset'] ||\r\n                (browserSupportsBoxModel && document.documentElement[method]) ||\r\n                document.body[method]\r\n            ) : element[method];\r\n        },\r\n\r\n        css: function(el, styleProp, value) {\r\n            el = KUtil.get(el);\r\n\r\n            if (!el) {\r\n                return;\r\n            }\r\n\r\n            if (value !== undefined) {\r\n                el.style[styleProp] = value;\r\n            } else {\r\n                var value, defaultView = (el.ownerDocument || document).defaultView;\r\n                // W3C standard way:\r\n                if (defaultView && defaultView.getComputedStyle) {\r\n                    // sanitize property name to css notation\r\n                    // (hyphen separated words eg. font-Size)\r\n                    styleProp = styleProp.replace(/([A-Z])/g, \"-$1\").toLowerCase();\r\n                    return defaultView.getComputedStyle(el, null).getPropertyValue(styleProp);\r\n                } else if (el.currentStyle) { // IE\r\n                    // sanitize property name to camelCase\r\n                    styleProp = styleProp.replace(/\\-(\\w)/g, function(str, letter) {\r\n                        return letter.toUpperCase();\r\n                    });\r\n                    value = el.currentStyle[styleProp];\r\n                    // convert other units to pixels on IE\r\n                    if (/^\\d+(em|pt|%|ex)?$/i.test(value)) {\r\n                        return (function(value) {\r\n                            var oldLeft = el.style.left,\r\n                                oldRsLeft = el.runtimeStyle.left;\r\n                            el.runtimeStyle.left = el.currentStyle.left;\r\n                            el.style.left = value || 0;\r\n                            value = el.style.pixelLeft + \"px\";\r\n                            el.style.left = oldLeft;\r\n                            el.runtimeStyle.left = oldRsLeft;\r\n                            return value;\r\n                        })(value);\r\n                    }\r\n                    return value;\r\n                }\r\n            }\r\n        },\r\n\r\n        slide: function(el, dir, speed, callback, recalcMaxHeight) {\r\n            if (!el || (dir == 'up' && KUtil.visible(el) === false) || (dir == 'down' && KUtil.visible(el) === true)) {\r\n                return;\r\n            }\r\n\r\n            speed = (speed ? speed : 600);\r\n            var calcHeight = KUtil.actualHeight(el);\r\n            var calcPaddingTop = false;\r\n            var calcPaddingBottom = false;\r\n\r\n            if (KUtil.css(el, 'padding-top') && KUtil.data(el).has('slide-padding-top') !== true) {\r\n                KUtil.data(el).set('slide-padding-top', KUtil.css(el, 'padding-top'));\r\n            }\r\n\r\n            if (KUtil.css(el, 'padding-bottom') && KUtil.data(el).has('slide-padding-bottom') !== true) {\r\n                KUtil.data(el).set('slide-padding-bottom', KUtil.css(el, 'padding-bottom'));\r\n            }\r\n\r\n            if (KUtil.data(el).has('slide-padding-top')) {\r\n                calcPaddingTop = parseInt(KUtil.data(el).get('slide-padding-top'));\r\n            }\r\n\r\n            if (KUtil.data(el).has('slide-padding-bottom')) {\r\n                calcPaddingBottom = parseInt(KUtil.data(el).get('slide-padding-bottom'));\r\n            }\r\n\r\n            if (dir == 'up') { // up          \r\n                el.style.cssText = 'display: block; overflow: hidden;';\r\n\r\n                if (calcPaddingTop) {\r\n                    KUtil.animate(0, calcPaddingTop, speed, function(value) {\r\n                        el.style.paddingTop = (calcPaddingTop - value) + 'px';\r\n                    }, 'linear');\r\n                }\r\n\r\n                if (calcPaddingBottom) {\r\n                    KUtil.animate(0, calcPaddingBottom, speed, function(value) {\r\n                        el.style.paddingBottom = (calcPaddingBottom - value) + 'px';\r\n                    }, 'linear');\r\n                }\r\n\r\n                KUtil.animate(0, calcHeight, speed, function(value) {\r\n                    el.style.height = (calcHeight - value) + 'px';\r\n                }, 'linear', function() {\r\n                    callback();\r\n                    el.style.height = '';\r\n                    el.style.display = 'none';\r\n                });\r\n\r\n\r\n            } else if (dir == 'down') { // down\r\n                el.style.cssText = 'display: block; overflow: hidden;';\r\n\r\n                if (calcPaddingTop) {\r\n                    KUtil.animate(0, calcPaddingTop, speed, function(value) {\r\n                        el.style.paddingTop = value + 'px';\r\n                    }, 'linear', function() {\r\n                        el.style.paddingTop = '';\r\n                    });\r\n                }\r\n\r\n                if (calcPaddingBottom) {\r\n                    KUtil.animate(0, calcPaddingBottom, speed, function(value) {\r\n                        el.style.paddingBottom = value + 'px';\r\n                    }, 'linear', function() {\r\n                        el.style.paddingBottom = '';\r\n                    });\r\n                }\r\n\r\n                KUtil.animate(0, calcHeight, speed, function(value) {\r\n                    el.style.height = value + 'px';\r\n                }, 'linear', function() {\r\n                    callback();\r\n                    el.style.height = '';\r\n                    el.style.display = '';\r\n                    el.style.overflow = '';\r\n                });\r\n            }\r\n        },\r\n\r\n        slideUp: function(el, speed, callback) {\r\n            KUtil.slide(el, 'up', speed, callback);\r\n        },\r\n\r\n        slideDown: function(el, speed, callback) {\r\n            KUtil.slide(el, 'down', speed, callback);\r\n        },\r\n\r\n        show: function(el, display) {\r\n            el.style.display = (display ? display : 'block');\r\n        },\r\n\r\n        hide: function(el) {\r\n            el.style.display = 'none';\r\n        },\r\n\r\n        addEvent: function(el, type, handler, one) {\r\n            el = KUtil.get(el);\r\n            if (typeof el !== 'undefined') {\r\n                el.addEventListener(type, handler);\r\n            }\r\n        },\r\n\r\n        removeEvent: function(el, type, handler) {\r\n            el = KUtil.get(el);\r\n            el.removeEventListener(type, handler);\r\n        },\r\n\r\n        on: function(element, selector, event, handler) {\r\n            if (!selector) {\r\n                return;\r\n            }\r\n\r\n            var eventId = KUtil.getUniqueID('event');\r\n\r\n            KUtilDelegatedEventHandlers[eventId] = function(e) {\r\n                var targets = element.querySelectorAll(selector);\r\n                var target = e.target;\r\n\r\n                while (target && target !== element) {\r\n                    for (var i = 0, j = targets.length; i < j; i++) {\r\n                        if (target === targets[i]) {\r\n                            handler.call(target, e);\r\n                        }\r\n                    }\r\n\r\n                    target = target.parentNode;\r\n                }\r\n            }\r\n\r\n            KUtil.addEvent(element, event, KUtilDelegatedEventHandlers[eventId]);\r\n\r\n            return eventId;\r\n        },\r\n\r\n        off: function(element, event, eventId) {\r\n            if (!element || !KUtilDelegatedEventHandlers[eventId]) {\r\n                return;\r\n            }\r\n\r\n            KUtil.removeEvent(element, event, KUtilDelegatedEventHandlers[eventId]);\r\n\r\n            delete KUtilDelegatedEventHandlers[eventId];\r\n        },\r\n\r\n        one: function onetime(el, type, callback) {\r\n            el = KUtil.get(el);\r\n\r\n            el.addEventListener(type, function callee(e) {\r\n                // remove event\r\n                if (e.target && e.target.removeEventListener) {\r\n                    e.target.removeEventListener(e.type, callee);                    \r\n                }\r\n                \r\n                // call handler\r\n                return callback(e);\r\n            });\r\n        },\r\n\r\n        hash: function(str) {\r\n            var hash = 0,\r\n                i, chr;\r\n\r\n            if (str.length === 0) return hash;\r\n            for (i = 0; i < str.length; i++) {\r\n                chr = str.charCodeAt(i);\r\n                hash = ((hash << 5) - hash) + chr;\r\n                hash |= 0; // Convert to 32bit integer\r\n            }\r\n\r\n            return hash;\r\n        },\r\n\r\n        animateClass: function(el, animationName, callback) {\r\n            var animation;\r\n            var animations = {\r\n                animation: 'animationend',\r\n                OAnimation: 'oAnimationEnd',\r\n                MozAnimation: 'mozAnimationEnd',\r\n                WebkitAnimation: 'webkitAnimationEnd',\r\n                msAnimation: 'msAnimationEnd',\r\n            };\r\n\r\n            for (var t in animations) {\r\n                if (el.style[t] !== undefined) {\r\n                    animation = animations[t];\r\n                }\r\n            }\r\n\r\n            KUtil.addClass(el, 'animated ' + animationName);\r\n\r\n            KUtil.one(el, animation, function() {\r\n                KUtil.removeClass(el, 'animated ' + animationName);\r\n            });\r\n\r\n            if (callback) {\r\n                KUtil.one(el, animation, callback);\r\n            }\r\n        },\r\n\r\n        transitionEnd: function(el, callback) {\r\n            var transition;\r\n            var transitions = {\r\n                transition: 'transitionend',\r\n                OTransition: 'oTransitionEnd',\r\n                MozTransition: 'mozTransitionEnd',\r\n                WebkitTransition: 'webkitTransitionEnd',\r\n                msTransition: 'msTransitionEnd'\r\n            };\r\n\r\n            for (var t in transitions) {\r\n                if (el.style[t] !== undefined) {\r\n                    transition = transitions[t];\r\n                }\r\n            }\r\n\r\n            KUtil.one(el, transition, callback);\r\n        },\r\n\r\n        animationEnd: function(el, callback) {\r\n            var animation;\r\n            var animations = {\r\n                animation: 'animationend',\r\n                OAnimation: 'oAnimationEnd',\r\n                MozAnimation: 'mozAnimationEnd',\r\n                WebkitAnimation: 'webkitAnimationEnd',\r\n                msAnimation: 'msAnimationEnd'\r\n            };\r\n\r\n            for (var t in animations) {\r\n                if (el.style[t] !== undefined) {\r\n                    animation = animations[t];\r\n                }\r\n            }\r\n\r\n            KUtil.one(el, animation, callback);\r\n        },\r\n\r\n        animateDelay: function(el, value) {\r\n            var vendors = ['webkit-', 'moz-', 'ms-', 'o-', ''];\r\n            for (var i = 0; i < vendors.length; i++) {\r\n                KUtil.css(el, vendors[i] + 'animation-delay', value);\r\n            }\r\n        },\r\n\r\n        animateDuration: function(el, value) {\r\n            var vendors = ['webkit-', 'moz-', 'ms-', 'o-', ''];\r\n            for (var i = 0; i < vendors.length; i++) {\r\n                KUtil.css(el, vendors[i] + 'animation-duration', value);\r\n            }\r\n        },\r\n\r\n        scrollTo: function(target, offset, duration) {\r\n            var duration = duration ? duration : 500;\r\n            var target = KUtil.get(target);\r\n            var targetPos = target ? KUtil.offset(target).top : 0;\r\n            var scrollPos = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\r\n            var from, to;\r\n\r\n            if (targetPos > scrollPos) {\r\n                from = targetPos;\r\n                to = scrollPos;\r\n            } else {\r\n                from = scrollPos;\r\n                to = targetPos;\r\n            }\r\n\r\n            if (offset) {\r\n                to += offset;\r\n            }\r\n\r\n            KUtil.animate(from, to, duration, function(value) {\r\n                document.documentElement.scrollTop = value;\r\n                document.body.parentNode.scrollTop = value;\r\n                document.body.scrollTop = value;\r\n            }); //, easing, done\r\n        },\r\n\r\n        scrollTop: function(offset, duration) {\r\n            KUtil.scrollTo(null, offset, duration);\r\n        },\r\n\r\n        isArray: function(obj) {\r\n            return obj && Array.isArray(obj);\r\n        },\r\n\r\n        ready: function(callback) {\r\n            if (document.attachEvent ? document.readyState === \"complete\" : document.readyState !== \"loading\") {\r\n                callback();\r\n            } else {\r\n                document.addEventListener('DOMContentLoaded', callback);\r\n            }\r\n        },\r\n\r\n        isEmpty: function(obj) {\r\n            for (var prop in obj) {\r\n                if (obj.hasOwnProperty(prop)) {\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            return true;\r\n        },\r\n\r\n        numberString: function(nStr) {\r\n            nStr += '';\r\n            var x = nStr.split('.');\r\n            var x1 = x[0];\r\n            var x2 = x.length > 1 ? '.' + x[1] : '';\r\n            var rgx = /(\\d+)(\\d{3})/;\r\n            while (rgx.test(x1)) {\r\n                x1 = x1.replace(rgx, '$1' + ',' + '$2');\r\n            }\r\n            return x1 + x2;\r\n        },\r\n\r\n        detectIE: function() {\r\n            var ua = window.navigator.userAgent;\r\n\r\n            // Test values; Uncomment to check result \r\n\r\n            // IE 10\r\n            // ua = 'Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)';\r\n\r\n            // IE 11\r\n            // ua = 'Mozilla/5.0 (Windows NT 6.3; Trident/7.0; rv:11.0) like Gecko';\r\n\r\n            // Edge 12 (Spartan)\r\n            // ua = 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36 Edge/12.0';\r\n\r\n            // Edge 13\r\n            // ua = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Safari/537.36 Edge/13.10586';\r\n\r\n            var msie = ua.indexOf('MSIE ');\r\n            if (msie > 0) {\r\n                // IE 10 or older => return version number\r\n                return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\r\n            }\r\n\r\n            var trident = ua.indexOf('Trident/');\r\n            if (trident > 0) {\r\n                // IE 11 => return version number\r\n                var rv = ua.indexOf('rv:');\r\n                return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\r\n            }\r\n\r\n            var edge = ua.indexOf('Edge/');\r\n            if (edge > 0) {\r\n                // Edge (IE 12+) => return version number\r\n                return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);\r\n            }\r\n\r\n            // other browser\r\n            return false;\r\n        },\r\n\r\n        isRTL: function() {\r\n            return (KUtil.attr(KUtil.get('html'), 'direction') == 'rtl');\r\n        },\r\n\r\n        // Scroller\r\n        scrollInit: function(element, options) {\r\n            if(!element) return;\r\n            // Define init function\r\n            function init() {\r\n                var ps;\r\n                var height;\r\n\r\n                if (options.height instanceof Function) {\r\n                    height = parseInt(options.height.call());\r\n                } else {\r\n                    height = parseInt(options.height);\r\n                }\r\n\r\n                // Destroy scroll on table and mobile modes\r\n                if (options.disableForMobile && KUtil.isInResponsiveRange('tablet-and-mobile')) {\r\n                    if (ps = KUtil.data(element).get('ps')) {\r\n                        if (options.resetHeightOnDestroy) {\r\n                            KUtil.css(element, 'height', 'auto');\r\n                        } else {\r\n                            KUtil.css(element, 'overflow', 'auto');\r\n                            if (height > 0) {\r\n                                KUtil.css(element, 'height', height + 'px');\r\n                            }\r\n                        }\r\n\r\n                        ps.destroy();\r\n                        ps = KUtil.data(element).remove('ps');\r\n                    } else if (height > 0){\r\n                        KUtil.css(element, 'overflow', 'auto');\r\n                        KUtil.css(element, 'height', height + 'px');\r\n                    }\r\n\r\n                    return;\r\n                }\r\n\r\n                if (height > 0) {\r\n                    KUtil.css(element, 'height', height + 'px');\r\n                }\r\n\r\n                KUtil.css(element, 'overflow', 'hidden');\r\n\r\n                // Init scroll\r\n                if (ps = KUtil.data(element).get('ps')) {\r\n                    ps.update();\r\n                } else {\r\n                    KUtil.addClass(element, 'k-scroll');\r\n                    ps = new PerfectScrollbar(element, {\r\n                        wheelSpeed: 0.5,\r\n                        swipeEasing: true,\r\n                        wheelPropagation: false,\r\n                        minScrollbarLength: 40,\r\n                        maxScrollbarLength: 300, \r\n                        suppressScrollX: KUtil.attr(element, 'data-scroll-x') != 'true' ? true : false\r\n                    });\r\n\r\n                    KUtil.data(element).set('ps', ps);\r\n                }\r\n            }\r\n\r\n            // Init\r\n            init();\r\n\r\n            // Handle window resize\r\n            if (options.handleWindowResize) {\r\n                KUtil.addResizeHandler(function() {\r\n                    init();\r\n                });\r\n            }\r\n        },\r\n\r\n        scrollUpdate: function(element) {\r\n            var ps;\r\n            if (ps = KUtil.data(element).get('ps')) {\r\n                ps.update();\r\n            }\r\n        },\r\n\r\n        scrollUpdateAll: function(parent) {\r\n            var scrollers = KUtil.findAll(parent, '.ps');\r\n            for (var i = 0, len = scrollers.length; i < len; i++) {\r\n                KUtil.scrollerUpdate(scrollers[i]);\r\n            }\r\n        },\r\n\r\n        scrollDestroy: function(element) {\r\n            var ps;\r\n            if (ps = KUtil.data(element).get('ps')) {\r\n                ps.destroy();\r\n                ps = KUtil.data(element).remove('ps');\r\n            }\r\n        },\r\n\r\n        setHTML: function(el, html) {\r\n            if (KUtil.get(el)) {\r\n                KUtil.get(el).innerHTML = html;\r\n            }\r\n        },\r\n\r\n        getHTML: function(el) {\r\n            if (KUtil.get(el)) {\r\n                return KUtil.get(el).innerHTML;\r\n            }\r\n        } \r\n    }\r\n}();\r\n\r\n// Initialize KUtil class on document ready\r\nKUtil.ready(function() {\r\n    KUtil.init();\r\n});\r\n\r\n// CSS3 Transitions only after page load(.k-page-loading class added to body tag and remove with JS on page load)\r\nwindow.onload = function() {    \r\n    KUtil.removeClass(KUtil.get('body'), 'k-page--loading');\r\n}\n\"use strict\";\r\n\r\n/**\r\n * @class KApp\r\n */\r\n\r\nvar KApp = function() {\r\n    /** @type {object} colors State colors **/\r\n    var colors = {};\r\n\r\n    var initTooltip = function(el) {\r\n        var skin = el.data('skin') ? 'tooltip-' + el.data('skin') : '';\r\n        var width = el.data('width') == 'auto' ? 'tooltop-auto-width' : '';\r\n        var triggerValue = el.data('trigger') ? el.data('trigger') : 'hover';\r\n        var placement = el.data('placement') ? el.data('placement') : 'left';\r\n\r\n        el.tooltip({\r\n            trigger: triggerValue,\r\n            template: '<div class=\"tooltip ' + skin + ' ' + width + '\" role=\"tooltip\">\\\r\n                <div class=\"arrow\"></div>\\\r\n                <div class=\"tooltip-inner\"></div>\\\r\n            </div>'\r\n        });\r\n    }\r\n\r\n    var initTooltips = function() {\r\n        // init bootstrap tooltips\r\n        $('[data-toggle=\"k-tooltip\"]').each(function() {\r\n            initTooltip($(this));\r\n        });\r\n    }\r\n\r\n    var initPopover = function(el) {\r\n        var skin = el.data('skin') ? 'popover-' + el.data('skin') : '';\r\n        var triggerValue = el.data('trigger') ? el.data('trigger') : 'hover';\r\n\r\n        el.popover({\r\n            trigger: triggerValue,\r\n            template: '\\\r\n            <div class=\"popover ' + skin + '\" role=\"tooltip\">\\\r\n                <div class=\"arrow\"></div>\\\r\n                <h3 class=\"popover-header\"></h3>\\\r\n                <div class=\"popover-body\"></div>\\\r\n            </div>'\r\n        });\r\n    }\r\n\r\n    var initPopovers = function() {\r\n        // init bootstrap popover\r\n        $('[data-toggle=\"k-popover\"]').each(function() {\r\n            initPopover($(this));\r\n        });\r\n    }\r\n\r\n    var initFileInput = function() {\r\n        // init bootstrap popover\r\n        $('.custom-file-input').on('change', function() {\r\n            var fileName = $(this).val();\r\n            $(this).next('.custom-file-label').addClass(\"selected\").html(fileName);\r\n        });\r\n    }\r\n\r\n    var initPortlet = function(el, options) {\r\n        // init portlet tools\r\n        var el = $(el);\r\n        var portlet = new KPortlet(el[0], options);\r\n    }\r\n\r\n    var initPortlets = function() {\r\n        // init portlet tools\r\n        $('[data-kportlet=\"true\"]').each(function() {\r\n            var el = $(this);\r\n\r\n            if (el.data('data-kportlet-initialized') !== true) {\r\n                initPortlet(el, {});\r\n                el.data('data-kportlet-initialized', true);\r\n            }\r\n        });\r\n    }\r\n\r\n    var initScroll = function() {\r\n        $('[data-scroll=\"true\"]').each(function() {\r\n            var el = $(this);\r\n            KUtil.scrollInit(this, {\r\n                disableForMobile: true,\r\n                handleWindowResize: true,\r\n                height: function() {\r\n                    if (KUtil.isInResponsiveRange('tablet-and-mobile') && el.data('mobile-height')) {\r\n                        return el.data('mobile-height');\r\n                    } else {\r\n                        return el.data('height');\r\n                    }\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    var initAlerts = function() {\r\n        // init bootstrap popover\r\n        $('body').on('click', '[data-close=alert]', function() {\r\n            $(this).closest('.alert').hide();\r\n        });\r\n    }\r\n\r\n    var initSticky = function() {\r\n        var sticky = new Sticky('[data-sticky=\"true\"]');\r\n    }\r\n\r\n    var initAbsoluteDropdown = function(dropdown) {\r\n        var dropdownMenu;\r\n\r\n        if (!dropdown) {\r\n            return;\r\n        }\r\n\r\n        dropdown.on('show.bs.dropdown', function(e) {\r\n            dropdownMenu = $(e.target).find('.dropdown-menu');\r\n            $('body').append(dropdownMenu.detach());\r\n            dropdownMenu.css('display', 'block');\r\n            dropdownMenu.position({\r\n                'my': 'right top',\r\n                'at': 'right bottom',\r\n                'of': $(e.relatedTarget)\r\n            });\r\n        });\r\n\r\n        dropdown.on('hide.bs.dropdown', function(e) {\r\n            $(e.target).append(dropdownMenu.detach());\r\n            dropdownMenu.hide();\r\n        });\r\n    }\r\n\r\n    return {\r\n        init: function(options) {\r\n            if (options && options.colors) {\r\n                colors = options.colors;\r\n            }\r\n\r\n            KApp.initComponents();\r\n        },\r\n\r\n        initComponents: function() {\r\n            initScroll();\r\n            initTooltips();\r\n            initPopovers();\r\n            initAlerts();\r\n            initPortlets();\r\n            initFileInput();\r\n            initSticky();\r\n        },\r\n\r\n        initTooltips: function() {\r\n            initTooltips();\r\n        },\r\n\r\n        initTooltip: function(el) {\r\n            initTooltip(el);\r\n        },\r\n\r\n        initPopovers: function() {\r\n            initPopovers();\r\n        },\r\n\r\n        initPopover: function(el) {\r\n            initPopover(el);\r\n        },\r\n\r\n        initPortlet: function(el, options) {\r\n            initPortlet(el, options);\r\n        },\r\n\r\n        initPortlets: function() {\r\n            initPortlets();\r\n        },\r\n\r\n        initSticky: function() {\r\n            initSticky();\r\n        },\r\n\r\n        initAbsoluteDropdown: function(dropdown) {\r\n            initAbsoluteDropdown(dropdown);\r\n        },\r\n\r\n        block: function(target, options) {\r\n            var el = $(target);\r\n\r\n            options = $.extend(true, {\r\n                opacity: 0.03,\r\n                overlayColor: '#000000',\r\n                type: '',\r\n                size: '',\r\n                state: 'brand',\r\n                centerX: true,\r\n                centerY: true,\r\n                message: '',\r\n                shadow: true,\r\n                width: 'auto'\r\n            }, options);\r\n\r\n            var html;\r\n            var version = options.type ? 'k-spinner--' + options.type : '';\r\n            var state = options.state ? 'k-spinner--' + options.state : '';\r\n            var size = options.size ? 'k-spinner--' + options.size : '';\r\n            var spinner = '<div class=\"k-spinner ' + version + ' ' + state + ' ' + size + '\"></div';\r\n\r\n            if (options.message && options.message.length > 0) {\r\n                var classes = 'blockui ' + (options.shadow === false ? 'blockui' : '');\r\n\r\n                html = '<div class=\"' + classes + '\"><span>' + options.message + '</span><span>' + spinner + '</span></div>';\r\n\r\n                var el = document.createElement('div');\r\n                KUtil.get('body').prepend(el);\r\n                KUtil.addClass(el, classes);\r\n                el.innerHTML = '<span>' + options.message + '</span><span>' + spinner + '</span>';\r\n                options.width = KUtil.actualWidth(el) + 10;\r\n                KUtil.remove(el);\r\n\r\n                if (target == 'body') {\r\n                    html = '<div class=\"' + classes + '\" style=\"margin-left:-' + (options.width / 2) + 'px;\"><span>' + options.message + '</span><span>' + spinner + '</span></div>';\r\n                }\r\n            } else {\r\n                html = spinner;\r\n            }\r\n\r\n            var params = {\r\n                message: html,\r\n                centerY: options.centerY,\r\n                centerX: options.centerX,\r\n                css: {\r\n                    top: '30%',\r\n                    left: '50%',\r\n                    border: '0',\r\n                    padding: '0',\r\n                    backgroundColor: 'none',\r\n                    width: options.width\r\n                },\r\n                overlayCSS: {\r\n                    backgroundColor: options.overlayColor,\r\n                    opacity: options.opacity,\r\n                    cursor: 'wait',\r\n                    zIndex: '10'\r\n                },\r\n                onUnblock: function() {\r\n                    if (el && el[0]) {\r\n                        KUtil.css(el[0], 'position', '');\r\n                        KUtil.css(el[0], 'zoom', '');\r\n                    }\r\n                }\r\n            };\r\n\r\n            if (target == 'body') {\r\n                params.css.top = '50%';\r\n                $.blockUI(params);\r\n            } else {\r\n                var el = $(target);\r\n                el.block(params);\r\n            }\r\n        },\r\n\r\n        unblock: function(target) {\r\n            if (target && target != 'body') {\r\n                $(target).unblock();\r\n            } else {\r\n                $.unblockUI();\r\n            }\r\n        },\r\n\r\n        blockPage: function(options) {\r\n            return KApp.block('body', options);\r\n        },\r\n\r\n        unblockPage: function() {\r\n            return KApp.unblock('body');\r\n        },\r\n\r\n        progress: function(target, options) {\r\n            var skin = (options && options.skin) ? options.skin : 'light';\r\n            var alignment = (options && options.alignment) ? options.alignment : 'right';\r\n            var size = (options && options.size) ? 'k-spinner--' + options.size : '';\r\n            var classes = 'k-loader ' + 'k-loader--' + skin + ' k-loader--' + alignment + ' k-loader--' + size;\r\n\r\n            KApp.unprogress(target);\r\n\r\n            $(target).addClass(classes);\r\n            $(target).data('progress-classes', classes);\r\n        },\r\n\r\n        unprogress: function(target) {\r\n            $(target).removeClass($(target).data('progress-classes'));\r\n        },\r\n\r\n        getStateColor: function(name) {\r\n            return colors[\"state\"][name];\r\n        },\r\n\r\n        getBaseColor: function(type, level) {\r\n            return colors[\"base\"][type][level - 1];\r\n        }\r\n    };\r\n}();\r\n\r\n// Initialize KApp class on document ready\r\n$(document).ready(function() {\r\n    KApp.init(KAppOptions);\r\n});\n'use strict';\r\n(function($) {\r\n\r\n\tvar pluginName = 'KDatatable';\r\n\tvar pfx = 'k-';\r\n\tvar util = KUtil;\r\n\tvar app = KApp;\r\n\r\n\tif (typeof util === 'undefined') throw new Error('Util class is required and must be included before ' + pluginName);\r\n\r\n\t// plugin setup\r\n\t$.fn[pluginName] = function(options) {\r\n\t\tif ($(this).length === 0) {\r\n\t\t\tconsole.log('No ' + pluginName + ' element exist.');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// global variables\r\n\t\tvar datatable = this;\r\n\r\n\t\t// debug enabled?\r\n\t\t// 1) state will be cleared on each refresh\r\n\t\t// 2) enable some logs\r\n\t\t// 3) etc.\r\n\t\tdatatable.debug = false;\r\n\r\n\t\tdatatable.API = {\r\n\t\t\trecord: null,\r\n\t\t\tvalue: null,\r\n\t\t\tparams: null,\r\n\t\t};\r\n\r\n\t\tvar Plugin = {\r\n\t\t\t/********************\r\n\t\t\t ** PRIVATE METHODS\r\n\t\t\t ********************/\r\n\t\t\tisInit: false,\r\n\t\t\tcellOffset: 110,\r\n\t\t\ticonOffset: 15,\r\n\t\t\tstateId: 'meta',\r\n\t\t\tajaxParams: {},\r\n\r\n\t\t\tinit: function(options) {\r\n\t\t\t\tvar isHtmlTable = false;\r\n\t\t\t\t// data source option empty is normal table\r\n\t\t\t\tif (options.data.source === null) {\r\n\t\t\t\t\tPlugin.extractTable();\r\n\t\t\t\t\tisHtmlTable = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tPlugin.setupBaseDOM.call();\r\n\t\t\t\tPlugin.setupDOM(datatable.table);\r\n\t\t\t\t// Plugin.spinnerCallback(true);\r\n\r\n\t\t\t\t// set custom query from options\r\n\t\t\t\tPlugin.setDataSourceQuery(Plugin.getOption('data.source.read.params.query'));\r\n\r\n\t\t\t\t// on event after layout had done setup, show datatable\r\n\t\t\t\t$(datatable).on(pfx + 'datatable--on-layout-updated', Plugin.afterRender);\r\n\r\n\t\t\t\tif (datatable.debug) Plugin.stateRemove(Plugin.stateId);\r\n\r\n\t\t\t\t// initialize extensions\r\n\t\t\t\t$.each(Plugin.getOption('extensions'), function(extName, extOptions) {\r\n\t\t\t\t\tif (typeof $.fn[pluginName][extName] === 'function')\r\n\t\t\t\t\t\tnew $.fn[pluginName][extName](datatable, extOptions);\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// get data\r\n\t\t\t\tif (options.data.type === 'remote' || options.data.type === 'local') {\r\n\t\t\t\t\tif (options.data.saveState === false\r\n\t\t\t\t\t\t|| options.data.saveState.cookie === false\r\n\t\t\t\t\t\t&& options.data.saveState.webstorage === false) {\r\n\t\t\t\t\t\tPlugin.stateRemove(Plugin.stateId);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// get data for local datatable and local table\r\n\t\t\t\t\tif (options.data.type === 'local' && typeof options.data.source === 'object') {\r\n\t\t\t\t\t\tdatatable.dataSet = datatable.originalDataSet = Plugin.dataMapCallback(options.data.source);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tPlugin.dataRender();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!isHtmlTable) {\r\n\t\t\t\t\t// if not a html table, setup header\r\n\t\t\t\t\tPlugin.setHeadTitle();\r\n\t\t\t\t\tif (Plugin.getOption('layout.footer')) {\r\n\t\t\t\t\t\tPlugin.setHeadTitle(datatable.tableFoot);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// hide header\r\n\t\t\t\tif (typeof options.layout.header !== 'undefined' &&\r\n\t\t\t\t\toptions.layout.header === false) {\r\n\t\t\t\t\t$(datatable.table).find('thead').remove();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// hide footer\r\n\t\t\t\tif (typeof options.layout.footer !== 'undefined' &&\r\n\t\t\t\t\toptions.layout.footer === false) {\r\n\t\t\t\t\t$(datatable.table).find('tfoot').remove();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// for normal and local data type, run layoutUpdate\r\n\t\t\t\tif (options.data.type === null ||\r\n\t\t\t\t\toptions.data.type === 'local') {\r\n\t\t\t\t\tPlugin.setupCellField.call();\r\n\t\t\t\t\tPlugin.setupTemplateCell.call();\r\n\r\n\t\t\t\t\t// setup nested datatable, if option enabled\r\n\t\t\t\t\tPlugin.setupSubDatatable.call();\r\n\r\n\t\t\t\t\t// setup extra system column properties\r\n\t\t\t\t\tPlugin.setupSystemColumn.call();\r\n\t\t\t\t\tPlugin.redraw();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar width;\r\n\t\t\t\tvar initialWidth = false;\r\n\t\t\t\t$(window).resize(function() {\r\n\t\t\t\t\t// get initial width\r\n\t\t\t\t\tif(!initialWidth) {\r\n\t\t\t\t\t\twidth = $(this).width();\r\n\t\t\t\t\t\tinitialWidth = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// issue: URL Bar Resizing on mobile, https://developers.google.com/web/updates/2016/12/url-bar-resizing\r\n\t\t\t\t\t// trigger datatable resize on width change only\r\n\t\t\t\t\tif($(this).width() !== width){\r\n\t\t\t\t\t\twidth = $(this).width();\r\n\t\t\t\t\t\tPlugin.fullRender();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$(datatable).height('');\r\n\r\n\t\t\t\t$(Plugin.getOption('search.input')).on('keyup', function(e) {\r\n\t\t\t\t\tif (Plugin.getOption('search.onEnter') && e.which !== 13) return;\r\n\t\t\t\t\tPlugin.search($(this).val());\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Extract static HTML table content into datasource\r\n\t\t\t */\r\n\t\t\textractTable: function() {\r\n\t\t\t\tvar columns = [];\r\n\t\t\t\tvar headers = $(datatable).find('tr:first-child th').get().map(function(cell, i) {\r\n\t\t\t\t\tvar field = $(cell).data('field');\r\n\t\t\t\t\tif (typeof field === 'undefined') {\r\n\t\t\t\t\t\tfield = $(cell).text().trim();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar column = {field: field, title: field};\r\n\t\t\t\t\tfor (var ii in options.columns) {\r\n\t\t\t\t\t\tif (options.columns[ii].field === field) {\r\n\t\t\t\t\t\t\tcolumn = $.extend(true, {}, options.columns[ii], column);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcolumns.push(column);\r\n\t\t\t\t\treturn field;\r\n\t\t\t\t});\r\n\t\t\t\t// auto create columns config\r\n\t\t\t\toptions.columns = columns;\r\n\r\n\t\t\t\tvar rowProp = [];\r\n\t\t\t\tvar source = [];\r\n\r\n\t\t\t\t$(datatable).find('tr').each(function() {\r\n\t\t\t\t\tif ($(this).find('td').length) {\r\n\t\t\t\t\t\trowProp.push($(this).prop('attributes'));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar td = {};\r\n\t\t\t\t\t$(this).find('td').each(function(i, cell) {\r\n\t\t\t\t\t\ttd[headers[i]] = cell.innerHTML.trim();\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (!util.isEmpty(td)) {\r\n\t\t\t\t\t\tsource.push(td);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\toptions.data.attr.rowProps = rowProp;\r\n\t\t\t\toptions.data.source = source;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * One time layout update on init\r\n\t\t\t */\r\n\t\t\tlayoutUpdate: function() {\r\n\t\t\t\t// setup nested datatable, if option enabled\r\n\t\t\t\tPlugin.setupSubDatatable.call();\r\n\r\n\t\t\t\t// setup extra system column properties\r\n\t\t\t\tPlugin.setupSystemColumn.call();\r\n\r\n\t\t\t\t// setup cell hover event\r\n\t\t\t\tPlugin.setupHover.call();\r\n\r\n\t\t\t\tif (typeof options.detail === 'undefined'\r\n\t\t\t\t\t// temporary disable lock column in subtable\r\n\t\t\t\t\t&& Plugin.getDepth() === 1) {\r\n\t\t\t\t\t// lock columns handler\r\n\t\t\t\t\tPlugin.lockTable.call();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Plugin.columnHide.call();\r\n\r\n\t\t\t\tPlugin.resetScroll();\r\n\r\n\t\t\t\tif (!Plugin.isInit) {\r\n\t\t\t\t\t// run once dropdown inside datatable\r\n\t\t\t\t\tPlugin.dropdownFix();\r\n\t\t\t\t\t$(datatable).trigger(pfx + 'datatable--on-init', {table: $(datatable.wrap).attr('id'), options: options});\r\n\t\t\t\t\tPlugin.isInit = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$(datatable).trigger(pfx + 'datatable--on-layout-updated', {table: $(datatable.wrap).attr('id')});\r\n\t\t\t},\r\n\r\n\t\t\tlockTable: function() {\r\n\t\t\t\tvar lock = {\r\n\t\t\t\t\tlockEnabled: false,\r\n\t\t\t\t\tinit: function() {\r\n\t\t\t\t\t\t// check if table should be locked columns\r\n\t\t\t\t\t\tlock.lockEnabled = Plugin.lockEnabledColumns();\r\n\t\t\t\t\t\tif (lock.lockEnabled.left.length === 0 &&\r\n\t\t\t\t\t\t\tlock.lockEnabled.right.length === 0) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlock.enable();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tenable: function() {\r\n\t\t\t\t\t\tvar enableLock = function(tablePart) {\r\n\t\t\t\t\t\t\t// check if already has lock column\r\n\t\t\t\t\t\t\tif ($(tablePart).find('.' + pfx + 'datatable__lock').length > 0) {\r\n\t\t\t\t\t\t\t\tPlugin.log('Locked container already exist in: ', tablePart);\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// check if no rows exists\r\n\t\t\t\t\t\t\tif ($(tablePart).find('.' + pfx + 'datatable__row').length === 0) {\r\n\t\t\t\t\t\t\t\tPlugin.log('No row exist in: ', tablePart);\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// locked div container\r\n\t\t\t\t\t\t\tvar lockLeft = $('<div/>').addClass(pfx + 'datatable__lock ' + pfx + 'datatable__lock--left');\r\n\t\t\t\t\t\t\tvar lockScroll = $('<div/>').addClass(pfx + 'datatable__lock ' + pfx + 'datatable__lock--scroll');\r\n\t\t\t\t\t\t\tvar lockRight = $('<div/>').addClass(pfx + 'datatable__lock ' + pfx + 'datatable__lock--right');\r\n\r\n\t\t\t\t\t\t\t$(tablePart).find('.' + pfx + 'datatable__row').each(function() {\r\n\t\t\t\t\t\t\t\tvar rowLeft = $('<tr/>').addClass(pfx + 'datatable__row').appendTo(lockLeft);\r\n\t\t\t\t\t\t\t\tvar rowScroll = $('<tr/>').addClass(pfx + 'datatable__row').appendTo(lockScroll);\r\n\t\t\t\t\t\t\t\tvar rowRight = $('<tr/>').addClass(pfx + 'datatable__row').appendTo(lockRight);\r\n\t\t\t\t\t\t\t\t$(this).find('.' + pfx + 'datatable__cell').each(function() {\r\n\t\t\t\t\t\t\t\t\tvar locked = $(this).data('locked');\r\n\t\t\t\t\t\t\t\t\tif (typeof locked !== 'undefined') {\r\n\t\t\t\t\t\t\t\t\t\tif (typeof locked.left !== 'undefined' || locked === true) {\r\n\t\t\t\t\t\t\t\t\t\t\t// default locked to left\r\n\t\t\t\t\t\t\t\t\t\t\t$(this).appendTo(rowLeft);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tif (typeof locked.right !== 'undefined') {\r\n\t\t\t\t\t\t\t\t\t\t\t$(this).appendTo(rowRight);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t$(this).appendTo(rowScroll);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t// remove old row\r\n\t\t\t\t\t\t\t\t$(this).remove();\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\tif (lock.lockEnabled.left.length > 0) {\r\n\t\t\t\t\t\t\t\t$(datatable.wrap).addClass(pfx + 'datatable--lock');\r\n\t\t\t\t\t\t\t\t$(lockLeft).appendTo(tablePart);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (lock.lockEnabled.left.length > 0 || lock.lockEnabled.right.length > 0) {\r\n\t\t\t\t\t\t\t\t$(lockScroll).appendTo(tablePart);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (lock.lockEnabled.right.length > 0) {\r\n\t\t\t\t\t\t\t\t$(datatable.wrap).addClass(pfx + 'datatable--lock');\r\n\t\t\t\t\t\t\t\t$(lockRight).appendTo(tablePart);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t$(datatable.table).find('thead,tbody,tfoot').each(function() {\r\n\t\t\t\t\t\t\tvar tablePart = this;\r\n\t\t\t\t\t\t\tif ($(this).find('.' + pfx + 'datatable__lock').length === 0) {\r\n\t\t\t\t\t\t\t\t$(this).ready(function() {\r\n\t\t\t\t\t\t\t\t\tenableLock(tablePart);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t\tlock.init();\r\n\t\t\t\treturn lock;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Render everything for resize\r\n\t\t\t */\r\n\t\t\tfullRender: function() {\r\n\t\t\t\t$(datatable.tableHead).empty();\r\n\t\t\t\tPlugin.setHeadTitle();\r\n\t\t\t\tif (Plugin.getOption('layout.footer')) {\r\n\t\t\t\t\t$(datatable.tableFoot).empty();\r\n\t\t\t\t\tPlugin.setHeadTitle(datatable.tableFoot);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tPlugin.spinnerCallback(true);\r\n\t\t\t\t$(datatable.wrap).removeClass(pfx + 'datatable--loaded');\r\n\r\n\t\t\t\tPlugin.insertData();\r\n\t\t\t},\r\n\r\n\t\t\tlockEnabledColumns: function() {\r\n\t\t\t\tvar screen = $(window).width();\r\n\t\t\t\tvar columns = options.columns;\r\n\t\t\t\tvar enabled = {left: [], right: []};\r\n\t\t\t\t$.each(columns, function(i, column) {\r\n\t\t\t\t\tif (typeof column.locked !== 'undefined') {\r\n\t\t\t\t\t\tif (typeof column.locked.left !== 'undefined') {\r\n\t\t\t\t\t\t\tif (util.getBreakpoint(column.locked.left) <= screen) {\r\n\t\t\t\t\t\t\t\tenabled['left'].push(column.locked.left);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (typeof column.locked.right !== 'undefined') {\r\n\t\t\t\t\t\t\tif (util.getBreakpoint(column.locked.right) <= screen) {\r\n\t\t\t\t\t\t\t\tenabled['right'].push(column.locked.right);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn enabled;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * After render event, called by '+pfx+'-datatable--on-layout-updated\r\n\t\t\t * @param e\r\n\t\t\t * @param args\r\n\t\t\t */\r\n\t\t\tafterRender: function(e, args) {\r\n\t\t\t\tif (args.table == $(datatable.wrap).attr('id')) {\r\n\t\t\t\t\t$(datatable).ready(function() {\r\n\t\t\t\t\t\tif (!Plugin.isLocked()) {\r\n\t\t\t\t\t\t\tPlugin.redraw();\r\n\t\t\t\t\t\t\t// work on non locked columns\r\n\t\t\t\t\t\t\tif (!Plugin.isSubtable() && Plugin.getOption('rows.autoHide') === true) {\r\n\t\t\t\t\t\t\t\tPlugin.autoHide();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// reset row\r\n\t\t\t\t\t\t\t$(datatable.table).find('.' + pfx + 'datatable__row').css('height', '');\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tPlugin.rowEvenOdd.call();\r\n\r\n\t\t\t\t\t\t// redraw locked columns table\r\n\t\t\t\t\t\tif (Plugin.isLocked()) Plugin.redraw();\r\n\t\t\t\t\t\t$(datatable.tableBody).css('visibility', '');\r\n\t\t\t\t\t\t$(datatable.wrap).addClass(pfx + 'datatable--loaded');\r\n\r\n\t\t\t\t\t\tPlugin.scrollbar.call();\r\n\r\n\t\t\t\t\t\tPlugin.spinnerCallback(false);\r\n\t\t\t\t\t\tPlugin.sorting.call();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tdropdownFix: function() {\r\n\t\t\t\tvar dropdownMenu;\r\n\t\t\t\t$('body').on('show.bs.dropdown', '.' + pfx + 'datatable .' + pfx + 'datatable__body', function(e) {\r\n\t\t\t\t\tdropdownMenu = $(e.target).find('.dropdown-menu');\r\n\t\t\t\t\t$('body').append(dropdownMenu.detach());\r\n\t\t\t\t\tdropdownMenu.css('display', 'block');\r\n\t\t\t\t\tdropdownMenu.position({\r\n\t\t\t\t\t\t'my': 'right top',\r\n\t\t\t\t\t\t'at': 'right bottom',\r\n\t\t\t\t\t\t'of': $(e.relatedTarget),\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// if datatable is inside modal\r\n\t\t\t\t\tif (datatable.closest('.modal').length) {\r\n\t\t\t\t\t\t// increase dropdown z-index\r\n\t\t\t\t\t\tdropdownMenu.css('z-index', '2000');\r\n\t\t\t\t\t}\r\n\t\t\t\t}).on('hide.bs.dropdown', '.' + pfx + 'datatable .' + pfx + 'datatable__body', function(e) {\r\n\t\t\t\t\t$(e.target).append(dropdownMenu.detach());\r\n\t\t\t\t\tdropdownMenu.hide();\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\thoverTimer: 0,\r\n\t\t\tisScrolling: false,\r\n\t\t\tsetupHover: function() {\r\n\t\t\t\t$(window).scroll(function(e) {\r\n\t\t\t\t\t// stop hover when scrolling\r\n\t\t\t\t\tclearTimeout(Plugin.hoverTimer);\r\n\t\t\t\t\tPlugin.isScrolling = true;\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$(datatable.tableBody).find('.' + pfx + 'datatable__cell').off('mouseenter', 'mouseleave').on('mouseenter', function() {\r\n\t\t\t\t\t// reset scroll timer to hover class\r\n\t\t\t\t\tPlugin.hoverTimer = setTimeout(function() {\r\n\t\t\t\t\t\tPlugin.isScrolling = false;\r\n\t\t\t\t\t}, 200);\r\n\t\t\t\t\tif (Plugin.isScrolling) return;\r\n\r\n\t\t\t\t\t// normal table\r\n\t\t\t\t\tvar row = $(this).closest('.' + pfx + 'datatable__row').addClass(pfx + 'datatable__row--hover');\r\n\t\t\t\t\tvar index = $(row).index() + 1;\r\n\r\n\t\t\t\t\t// lock table\r\n\t\t\t\t\t$(row).closest('.' + pfx + 'datatable__lock').parent().find('.' + pfx + 'datatable__row:nth-child(' + index + ')').addClass(pfx + 'datatable__row--hover');\r\n\t\t\t\t}).on('mouseleave', function() {\r\n\t\t\t\t\t// normal table\r\n\t\t\t\t\tvar row = $(this).closest('.' + pfx + 'datatable__row').removeClass(pfx + 'datatable__row--hover');\r\n\t\t\t\t\tvar index = $(row).index() + 1;\r\n\r\n\t\t\t\t\t// look table\r\n\t\t\t\t\t$(row).closest('.' + pfx + 'datatable__lock').parent().find('.' + pfx + 'datatable__row:nth-child(' + index + ')').removeClass(pfx + 'datatable__row--hover');\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Adjust width of locked table containers by resize handler\r\n\t\t\t * @returns {number}\r\n\t\t\t */\r\n\t\t\tadjustLockContainer: function() {\r\n\t\t\t\tif (!Plugin.isLocked()) return 0;\r\n\r\n\t\t\t\t// refer to head dimension\r\n\t\t\t\tvar containerWidth = $(datatable.tableHead).width();\r\n\t\t\t\tvar lockLeft = $(datatable.tableHead).find('.' + pfx + 'datatable__lock--left').width();\r\n\t\t\t\tvar lockRight = $(datatable.tableHead).find('.' + pfx + 'datatable__lock--right').width();\r\n\r\n\t\t\t\tif (typeof lockLeft === 'undefined') lockLeft = 0;\r\n\t\t\t\tif (typeof lockRight === 'undefined') lockRight = 0;\r\n\r\n\t\t\t\tvar lockScroll = Math.floor(containerWidth - lockLeft - lockRight);\r\n\t\t\t\t$(datatable.table).find('.' + pfx + 'datatable__lock--scroll').css('width', lockScroll);\r\n\r\n\t\t\t\treturn lockScroll;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * todo; not in use\r\n\t\t\t */\r\n\t\t\tdragResize: function() {\r\n\t\t\t\tvar pressed = false;\r\n\t\t\t\tvar start = undefined;\r\n\t\t\t\tvar startX, startWidth;\r\n\t\t\t\t$(datatable.tableHead).find('.' + pfx + 'datatable__cell').mousedown(function(e) {\r\n\t\t\t\t\tstart = $(this);\r\n\t\t\t\t\tpressed = true;\r\n\t\t\t\t\tstartX = e.pageX;\r\n\t\t\t\t\tstartWidth = $(this).width();\r\n\t\t\t\t\t$(start).addClass(pfx + 'datatable__cell--resizing');\r\n\r\n\t\t\t\t}).mousemove(function(e) {\r\n\t\t\t\t\tif (pressed) {\r\n\t\t\t\t\t\tvar i = $(start).index();\r\n\t\t\t\t\t\tvar tableBody = $(datatable.tableBody);\r\n\t\t\t\t\t\tvar ifLocked = $(start).closest('.' + pfx + 'datatable__lock');\r\n\r\n\t\t\t\t\t\tif (ifLocked) {\r\n\t\t\t\t\t\t\tvar lockedIndex = $(ifLocked).index();\r\n\t\t\t\t\t\t\ttableBody = $(datatable.tableBody).find('.' + pfx + 'datatable__lock').eq(lockedIndex);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t$(tableBody).find('.' + pfx + 'datatable__row').each(function(tri, tr) {\r\n\t\t\t\t\t\t\t$(tr).find('.' + pfx + 'datatable__cell').eq(i).width(startWidth + (e.pageX - startX)).children().width(startWidth + (e.pageX - startX));\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t$(start).children().css('width', startWidth + (e.pageX - startX));\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}).mouseup(function() {\r\n\t\t\t\t\t$(start).removeClass(pfx + 'datatable__cell--resizing');\r\n\t\t\t\t\tpressed = false;\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$(document).mouseup(function() {\r\n\t\t\t\t\t$(start).removeClass(pfx + 'datatable__cell--resizing');\r\n\t\t\t\t\tpressed = false;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * To prepare placeholder for table before content is loading\r\n\t\t\t */\r\n\t\t\tinitHeight: function() {\r\n\t\t\t\tif (options.layout.height && options.layout.scroll) {\r\n\t\t\t\t\tvar theadHeight = $(datatable.tableHead).find('.' + pfx + 'datatable__row').outerHeight();\r\n\t\t\t\t\tvar tfootHeight = $(datatable.tableFoot).find('.' + pfx + 'datatable__row').outerHeight();\r\n\t\t\t\t\tvar bodyHeight = options.layout.height;\r\n\t\t\t\t\tif (theadHeight > 0) {\r\n\t\t\t\t\t\tbodyHeight -= theadHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (tfootHeight > 0) {\r\n\t\t\t\t\t\tbodyHeight -= tfootHeight;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// scrollbar offset\r\n\t\t\t\t\tbodyHeight -= 2;\r\n\r\n\t\t\t\t\t$(datatable.tableBody).css('max-height', bodyHeight);\r\n\r\n\t\t\t\t\t// set scrollable area fixed height\r\n\t\t\t\t\t$(datatable.tableBody).find('.' + pfx + 'datatable__lock--scroll').css('height', bodyHeight);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Setup base DOM (table, thead, tbody, tfoot) and create if not exist.\r\n\t\t\t */\r\n\t\t\tsetupBaseDOM: function() {\r\n\t\t\t\t// keep original state before datatable initialize\r\n\t\t\t\tdatatable.initialDatatable = $(datatable).clone();\r\n\r\n\t\t\t\t// main element\r\n\t\t\t\tif ($(datatable).prop('tagName') === 'TABLE') {\r\n\t\t\t\t\t// if main init element is <table>, wrap with div\r\n\t\t\t\t\tdatatable.table = $(datatable).removeClass(pfx + 'datatable').addClass(pfx + 'datatable__table');\r\n\t\t\t\t\tif ($(datatable.table).parents('.' + pfx + 'datatable').length === 0) {\r\n\t\t\t\t\t\tdatatable.table.wrap($('<div/>').addClass(pfx + 'datatable').addClass(pfx + 'datatable--' + options.layout.theme));\r\n\t\t\t\t\t\tdatatable.wrap = $(datatable.table).parent();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// create table\r\n\t\t\t\t\tdatatable.wrap = $(datatable).addClass(pfx + 'datatable').addClass(pfx + 'datatable--' + options.layout.theme);\r\n\t\t\t\t\tdatatable.table = $('<table/>').addClass(pfx + 'datatable__table').appendTo(datatable);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (typeof options.layout.class !== 'undefined') {\r\n\t\t\t\t\t$(datatable.wrap).addClass(options.layout.class);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$(datatable.table).removeClass(pfx + 'datatable--destroyed').css('display', 'block');\r\n\r\n\t\t\t\t// force disable save state\r\n\t\t\t\tif (typeof $(datatable).attr('id') === 'undefined') {\r\n\t\t\t\t\tPlugin.setOption('data.saveState', false);\r\n\t\t\t\t\t$(datatable.table).attr('id', util.getUniqueID(pfx + 'datatable--'));\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// predefine table height\r\n\t\t\t\tif (Plugin.getOption('layout.minHeight'))\r\n\t\t\t\t\t$(datatable.table).css('min-height', Plugin.getOption('layout.minHeight'));\r\n\r\n\t\t\t\tif (Plugin.getOption('layout.height'))\r\n\t\t\t\t\t$(datatable.table).css('max-height', Plugin.getOption('layout.height'));\r\n\r\n\t\t\t\t// for normal table load\r\n\t\t\t\tif (options.data.type === null) {\r\n\t\t\t\t\t$(datatable.table).css('width', '').css('display', '');\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// create table head element\r\n\t\t\t\tdatatable.tableHead = $(datatable.table).find('thead');\r\n\t\t\t\tif ($(datatable.tableHead).length === 0) {\r\n\t\t\t\t\tdatatable.tableHead = $('<thead/>').prependTo(datatable.table);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// create table head element\r\n\t\t\t\tdatatable.tableBody = $(datatable.table).find('tbody');\r\n\t\t\t\tif ($(datatable.tableBody).length === 0) {\r\n\t\t\t\t\tdatatable.tableBody = $('<tbody/>').appendTo(datatable.table);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (typeof options.layout.footer !== 'undefined' &&\r\n\t\t\t\t\toptions.layout.footer) {\r\n\t\t\t\t\t// create table foot element\r\n\t\t\t\t\tdatatable.tableFoot = $(datatable.table).find('tfoot');\r\n\t\t\t\t\tif ($(datatable.tableFoot).length === 0) {\r\n\t\t\t\t\t\tdatatable.tableFoot = $('<tfoot/>').appendTo(datatable.table);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Set column data before table manipulation.\r\n\t\t\t */\r\n\t\t\tsetupCellField: function(tableParts) {\r\n\t\t\t\tif (typeof tableParts === 'undefined') tableParts = $(datatable.table).children();\r\n\t\t\t\tvar columns = options.columns;\r\n\t\t\t\t$.each(tableParts, function(part, tablePart) {\r\n\t\t\t\t\t$(tablePart).find('.' + pfx + 'datatable__row').each(function(tri, tr) {\r\n\t\t\t\t\t\t// prepare data\r\n\t\t\t\t\t\t$(tr).find('.' + pfx + 'datatable__cell').each(function(tdi, td) {\r\n\t\t\t\t\t\t\tif (typeof columns[tdi] !== 'undefined') {\r\n\t\t\t\t\t\t\t\t$(td).data(columns[tdi]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Set column template callback\r\n\t\t\t * @param tablePart\r\n\t\t\t */\r\n\t\t\tsetupTemplateCell: function(tablePart) {\r\n\t\t\t\tif (typeof tablePart === 'undefined') tablePart = datatable.tableBody;\r\n\t\t\t\tvar columns = options.columns;\r\n\t\t\t\t$(tablePart).find('.' + pfx + 'datatable__row').each(function(tri, tr) {\r\n\t\t\t\t\t// row data object, if any\r\n\t\t\t\t\tvar obj = $(tr).data('obj') || {};\r\n\r\n\t\t\t\t\t// @deprecated in v5.0.6\r\n\t\t\t\t\t// obj['getIndex'] = function() {\r\n\t\t\t\t\t// \treturn tri;\r\n\t\t\t\t\t// };\r\n\t\t\t\t\t// @deprecated in v5.0.6\r\n\t\t\t\t\t// obj['getDatatable'] = function() {\r\n\t\t\t\t\t// \treturn datatable;\r\n\t\t\t\t\t// };\r\n\r\n\t\t\t\t\t// @deprecated in v5.0.6\r\n\t\t\t\t\tvar rowCallback = Plugin.getOption('rows.callback');\r\n\t\t\t\t\tif (typeof rowCallback === 'function') {\r\n\t\t\t\t\t\trowCallback($(tr), obj, tri);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// before template row callback\r\n\t\t\t\t\tvar beforeTemplate = Plugin.getOption('rows.beforeTemplate');\r\n\t\t\t\t\tif (typeof beforeTemplate === 'function') {\r\n\t\t\t\t\t\tbeforeTemplate($(tr), obj, tri);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// if data object is undefined, collect from table\r\n\t\t\t\t\tif (typeof obj === 'undefined') {\r\n\t\t\t\t\t\tobj = {};\r\n\t\t\t\t\t\t$(tr).find('.' + pfx + 'datatable__cell').each(function(tdi, td) {\r\n\t\t\t\t\t\t\t// get column settings by field\r\n\t\t\t\t\t\t\tvar column = $.grep(columns, function(n, i) {\r\n\t\t\t\t\t\t\t\treturn $(td).data('field') === n.field;\r\n\t\t\t\t\t\t\t})[0];\r\n\t\t\t\t\t\t\tif (typeof column !== 'undefined') {\r\n\t\t\t\t\t\t\t\tobj[column['field']] = $(td).text();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t$(tr).find('.' + pfx + 'datatable__cell').each(function(tdi, td) {\r\n\t\t\t\t\t\t// get column settings by field\r\n\t\t\t\t\t\tvar column = $.grep(columns, function(n, i) {\r\n\t\t\t\t\t\t\treturn $(td).data('field') === n.field;\r\n\t\t\t\t\t\t})[0];\r\n\t\t\t\t\t\tif (typeof column !== 'undefined') {\r\n\t\t\t\t\t\t\t// column template\r\n\t\t\t\t\t\t\tif (typeof column.template !== 'undefined') {\r\n\t\t\t\t\t\t\t\tvar finalValue = '';\r\n\t\t\t\t\t\t\t\t// template string\r\n\t\t\t\t\t\t\t\tif (typeof column.template === 'string') {\r\n\t\t\t\t\t\t\t\t\tfinalValue = Plugin.dataPlaceholder(column.template, obj);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t// template callback function\r\n\t\t\t\t\t\t\t\tif (typeof column.template === 'function') {\r\n\t\t\t\t\t\t\t\t\tfinalValue = column.template(obj, tri, datatable);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t// sanitize using DOMPurify if installed\r\n\t\t\t\t\t\t\t\tif (typeof DOMPurify !== 'undefined') {\r\n\t\t\t\t\t\t\t\t\tfinalValue = DOMPurify.sanitize(finalValue);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tvar span = document.createElement('span');\r\n\t\t\t\t\t\t\t\tspan.innerHTML = finalValue;\r\n\r\n\t\t\t\t\t\t\t\t// insert to cell, wrap with span\r\n\t\t\t\t\t\t\t\t$(td).html(span);\r\n\r\n\t\t\t\t\t\t\t\t// set span overflow\r\n\t\t\t\t\t\t\t\tif (typeof column.overflow !== 'undefined') {\r\n\t\t\t\t\t\t\t\t\t$(span).css('overflow', column.overflow);\r\n\t\t\t\t\t\t\t\t\t$(span).css('position', 'relative');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// after template row callback\r\n\t\t\t\t\tvar afterTemplate = Plugin.getOption('rows.afterTemplate');\r\n\t\t\t\t\tif (typeof afterTemplate === 'function') {\r\n\t\t\t\t\t\tafterTemplate($(tr), obj, tri);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Setup extra system column properties\r\n\t\t\t * Note: selector checkbox, subtable toggle\r\n\t\t\t */\r\n\t\t\tsetupSystemColumn: function() {\r\n\t\t\t\tdatatable.dataSet = datatable.dataSet || [];\r\n\t\t\t\t// no records available\r\n\t\t\t\tif (datatable.dataSet.length === 0) return;\r\n\r\n\t\t\t\tvar columns = options.columns;\r\n\t\t\t\t$(datatable.tableBody).find('.' + pfx + 'datatable__row').each(function(tri, tr) {\r\n\t\t\t\t\t$(tr).find('.' + pfx + 'datatable__cell').each(function(tdi, td) {\r\n\t\t\t\t\t\t// get column settings by field\r\n\t\t\t\t\t\tvar column = $.grep(columns, function(n, i) {\r\n\t\t\t\t\t\t\treturn $(td).data('field') === n.field;\r\n\t\t\t\t\t\t})[0];\r\n\t\t\t\t\t\tif (typeof column !== 'undefined') {\r\n\t\t\t\t\t\t\tvar value = $(td).text();\r\n\r\n\t\t\t\t\t\t\t// enable column selector\r\n\t\t\t\t\t\t\tif (typeof column.selector !== 'undefined' && column.selector !== false) {\r\n\t\t\t\t\t\t\t\t// check if checkbox exist\r\n\t\t\t\t\t\t\t\tif ($(td).find('.' + pfx + 'checkbox [type=\"checkbox\"]').length > 0) return;\r\n\r\n\t\t\t\t\t\t\t\t$(td).addClass(pfx + 'datatable__cell--check');\r\n\r\n\t\t\t\t\t\t\t\t// append checkbox\r\n\t\t\t\t\t\t\t\tvar chk = $('<label/>').\r\n\t\t\t\t\t\t\t\t\taddClass(pfx + 'checkbox ' + pfx + 'checkbox--single').\r\n\t\t\t\t\t\t\t\t\tappend($('<input/>').attr('type', 'checkbox').attr('value', value).on('click', function() {\r\n\t\t\t\t\t\t\t\t\t\tif ($(this).is(':checked')) {\r\n\t\t\t\t\t\t\t\t\t\t\t// add checkbox active row class\r\n\t\t\t\t\t\t\t\t\t\t\tPlugin.setActive(this);\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t// add checkbox active row class\r\n\t\t\t\t\t\t\t\t\t\t\tPlugin.setInactive(this);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})).\r\n\t\t\t\t\t\t\t\t\tappend('&nbsp;<span></span>');\r\n\r\n\t\t\t\t\t\t\t\t// checkbox selector has outline style\r\n\t\t\t\t\t\t\t\tif (typeof column.selector.class !== 'undefined') {\r\n\t\t\t\t\t\t\t\t\t$(chk).addClass(column.selector.class);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t$(td).children().html(chk);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// enable column subtable toggle\r\n\t\t\t\t\t\t\tif (typeof column.subtable !== 'undefined' && column.subtable) {\r\n\t\t\t\t\t\t\t\t// check if subtable toggle exist\r\n\t\t\t\t\t\t\t\tif ($(td).find('.' + pfx + 'datatable__toggle-subtable').length > 0) return;\r\n\t\t\t\t\t\t\t\t// append subtable toggle\r\n\t\t\t\t\t\t\t\t$(td).\r\n\t\t\t\t\t\t\t\t\tchildren().\r\n\t\t\t\t\t\t\t\t\thtml($('<a/>').\r\n\t\t\t\t\t\t\t\t\t\taddClass(pfx + 'datatable__toggle-subtable').\r\n\t\t\t\t\t\t\t\t\t\tattr('href', '#').\r\n\t\t\t\t\t\t\t\t\t\tattr('data-value', value).\r\n\t\t\t\t\t\t\t\t\t\tappend($('<i/>').addClass(Plugin.getOption('layout.icons.rowDetail.collapse'))));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// init checkbox for header/footer\r\n\t\t\t\tvar initCheckbox = function(tr) {\r\n\t\t\t\t\t// get column settings by field\r\n\t\t\t\t\tvar column = $.grep(columns, function(n, i) {\r\n\t\t\t\t\t\treturn typeof n.selector !== 'undefined' && n.selector !== false;\r\n\t\t\t\t\t})[0];\r\n\r\n\t\t\t\t\tif (typeof column !== 'undefined') {\r\n\t\t\t\t\t\t// enable column selector\r\n\t\t\t\t\t\tif (typeof column.selector !== 'undefined' && column.selector !== false) {\r\n\t\t\t\t\t\t\tvar td = $(tr).find('[data-field=\"' + column.field + '\"]');\r\n\t\t\t\t\t\t\t// check if checkbox exist\r\n\t\t\t\t\t\t\tif ($(td).find('.' + pfx + 'checkbox [type=\"checkbox\"]').length > 0) return;\r\n\r\n\t\t\t\t\t\t\t$(td).addClass(pfx + 'datatable__cell--check');\r\n\r\n\t\t\t\t\t\t\t// append checkbox\r\n\t\t\t\t\t\t\tvar chk = $('<label/>').\r\n\t\t\t\t\t\t\t\taddClass(pfx + 'checkbox ' + pfx + 'checkbox--single ' + pfx + 'checkbox--all').\r\n\t\t\t\t\t\t\t\tappend($('<input/>').attr('type', 'checkbox').on('click', function() {\r\n\t\t\t\t\t\t\t\t\tif ($(this).is(':checked')) {\r\n\t\t\t\t\t\t\t\t\t\tPlugin.setActiveAll(true);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tPlugin.setActiveAll(false);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})).\r\n\t\t\t\t\t\t\t\tappend('&nbsp;<span></span>');\r\n\r\n\t\t\t\t\t\t\t// checkbox selector has outline style\r\n\t\t\t\t\t\t\tif (typeof column.selector.class !== 'undefined') {\r\n\t\t\t\t\t\t\t\t$(chk).addClass(column.selector.class);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t$(td).children().html(chk);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif (options.layout.header) {\r\n\t\t\t\t\tinitCheckbox($(datatable.tableHead).find('.' + pfx + 'datatable__row').first());\r\n\t\t\t\t}\r\n\t\t\t\tif (options.layout.footer) {\r\n\t\t\t\t\tinitCheckbox($(datatable.tableFoot).find('.' + pfx + 'datatable__row').first());\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Adjust width to match container size\r\n\t\t\t */\r\n\t\t\tadjustCellsWidth: function() {\r\n\t\t\t\t// get table width\r\n\t\t\t\tvar containerWidth = $(datatable.tableBody).innerWidth() - Plugin.iconOffset;\r\n\r\n\t\t\t\t// get total number of columns\r\n\t\t\t\tvar columns = $(datatable.tableBody).\r\n\t\t\t\t\tfind('.' + pfx + 'datatable__row:first-child').\r\n\t\t\t\t\tfind('.' + pfx + 'datatable__cell').\r\n\t\t\t\t\t// exclude expand icon\r\n\t\t\t\t\tnot('.' + pfx + 'datatable__toggle-detail').\r\n\t\t\t\t\tnot(':hidden').length;\r\n\r\n\t\t\t\tif (columns > 0) {\r\n\t\t\t\t\t//  remove reserved sort icon width\r\n\t\t\t\t\tcontainerWidth = containerWidth - (Plugin.iconOffset * columns);\r\n\t\t\t\t\tvar minWidth = Math.floor(containerWidth / columns);\r\n\r\n\t\t\t\t\t// minimum width\r\n\t\t\t\t\tif (minWidth <= Plugin.cellOffset) {\r\n\t\t\t\t\t\tminWidth = Plugin.cellOffset;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t$(datatable.table).find('.' + pfx + 'datatable__row').\r\n\t\t\t\t\t\tfind('.' + pfx + 'datatable__cell').\r\n\t\t\t\t\t\t// exclude expand icon\r\n\t\t\t\t\t\tnot('.' + pfx + 'datatable__toggle-detail').\r\n\t\t\t\t\t\tnot(':hidden').each(function(tdi, td) {\r\n\t\t\t\t\t\tvar width = minWidth;\r\n\t\t\t\t\t\tvar dataWidth = $(td).data('width');\r\n\t\t\t\t\t\tif (typeof dataWidth !== 'undefined') {\r\n\t\t\t\t\t\t\twidth = dataWidth;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$(td).children().css('width', Math.ceil(width));\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Adjust height to match container size\r\n\t\t\t */\r\n\t\t\tadjustCellsHeight: function() {\r\n\t\t\t\t$.each($(datatable.table).children(), function(part, tablePart) {\r\n\t\t\t\t\tvar totalRows = $(tablePart).find('.' + pfx + 'datatable__row').first().parent().find('.' + pfx + 'datatable__row').length;\r\n\t\t\t\t\tfor (var i = 1; i <= totalRows; i++) {\r\n\t\t\t\t\t\tvar rows = $(tablePart).find('.' + pfx + 'datatable__row:nth-child(' + i + ')');\r\n\t\t\t\t\t\tif ($(rows).length > 0) {\r\n\t\t\t\t\t\t\tvar maxHeight = Math.max.apply(null, $(rows).map(function() {\r\n\t\t\t\t\t\t\t\treturn $(this).outerHeight();\r\n\t\t\t\t\t\t\t}).get());\r\n\t\t\t\t\t\t\t$(rows).css('height', Math.ceil(maxHeight));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Setup table DOM and classes\r\n\t\t\t */\r\n\t\t\tsetupDOM: function(table) {\r\n\t\t\t\t// set table classes\r\n\t\t\t\t$(table).find('> thead').addClass(pfx + 'datatable__head');\r\n\t\t\t\t$(table).find('> tbody').addClass(pfx + 'datatable__body');\r\n\t\t\t\t$(table).find('> tfoot').addClass(pfx + 'datatable__foot');\r\n\t\t\t\t$(table).find('tr').addClass(pfx + 'datatable__row');\r\n\t\t\t\t$(table).find('tr > th, tr > td').addClass(pfx + 'datatable__cell');\r\n\t\t\t\t$(table).find('tr > th, tr > td').each(function(i, td) {\r\n\t\t\t\t\tif ($(td).find('span').length === 0) {\r\n\t\t\t\t\t\t$(td).wrapInner($('<span/>').css('width', Plugin.cellOffset));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Default scrollbar\r\n\t\t\t * @returns {{tableLocked: null, init: init, onScrolling: onScrolling}}\r\n\t\t\t */\r\n\t\t\tscrollbar: function() {\r\n\t\t\t\tvar scroll = {\r\n\t\t\t\t\tscrollable: null,\r\n\t\t\t\t\ttableLocked: null,\r\n\t\t\t\t\tinitPosition: null,\r\n\t\t\t\t\tinit: function() {\r\n\t\t\t\t\t\tvar screen = util.getViewPort().width;\r\n\t\t\t\t\t\t// setup scrollable datatable\r\n\t\t\t\t\t\tif (options.layout.scroll) {\r\n\t\t\t\t\t\t\t// add scrollable datatable class\r\n\t\t\t\t\t\t\t$(datatable.wrap).addClass(pfx + 'datatable--scroll');\r\n\r\n\t\t\t\t\t\t\tvar scrollable = $(datatable.tableBody).find('.' + pfx + 'datatable__lock--scroll');\r\n\r\n\t\t\t\t\t\t\t// check if scrollable area have rows\r\n\t\t\t\t\t\t\tif ($(scrollable).find('.' + pfx + 'datatable__row').length > 0 && $(scrollable).length > 0) {\r\n\t\t\t\t\t\t\t\tscroll.scrollHead = $(datatable.tableHead).find('> .' + pfx + 'datatable__lock--scroll > .' + pfx + 'datatable__row');\r\n\t\t\t\t\t\t\t\tscroll.scrollFoot = $(datatable.tableFoot).find('> .' + pfx + 'datatable__lock--scroll > .' + pfx + 'datatable__row');\r\n\t\t\t\t\t\t\t\tscroll.tableLocked = $(datatable.tableBody).find('.' + pfx + 'datatable__lock:not(.' + pfx + 'datatable__lock--scroll)');\r\n\t\t\t\t\t\t\t\tif (Plugin.getOption('layout.customScrollbar') && util.detectIE() != 10 && screen > util.getBreakpoint('lg')) {\r\n\t\t\t\t\t\t\t\t\tscroll.initCustomScrollbar(scrollable[0]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tscroll.initDefaultScrollbar(scrollable);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if ($(datatable.tableBody).find('.' + pfx + 'datatable__row').length > 0) {\r\n\t\t\t\t\t\t\t\tscroll.scrollHead = $(datatable.tableHead).find('> .' + pfx + 'datatable__row');\r\n\t\t\t\t\t\t\t\tscroll.scrollFoot = $(datatable.tableFoot).find('> .' + pfx + 'datatable__row');\r\n\t\t\t\t\t\t\t\tif (Plugin.getOption('layout.customScrollbar') && util.detectIE() != 10 && screen > util.getBreakpoint('lg')) {\r\n\t\t\t\t\t\t\t\t\tscroll.initCustomScrollbar(datatable.tableBody);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tscroll.initDefaultScrollbar(datatable.tableBody);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tinitDefaultScrollbar: function(scrollable) {\r\n\t\t\t\t\t\t// get initial scroll position\r\n\t\t\t\t\t\tscroll.initPosition = $(scrollable).scrollLeft();\r\n\t\t\t\t\t\t$(scrollable).css('overflow', 'auto').off().on('scroll', scroll.onScrolling);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonScrolling: function(e) {\r\n\t\t\t\t\t\tvar left = $(this).scrollLeft();\r\n\t\t\t\t\t\tvar top = $(this).scrollTop();\r\n\t\t\t\t\t\tif (util.isRTL()) {\r\n\t\t\t\t\t\t\t// deduct initial position for RTL\r\n\t\t\t\t\t\t\tleft = left - scroll.initPosition;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$(scroll.scrollHead).css('left', -left);\r\n\t\t\t\t\t\t$(scroll.scrollFoot).css('left', -left);\r\n\t\t\t\t\t\t$(scroll.tableLocked).each(function(i, table) {\r\n\t\t\t\t\t\t\tif (Plugin.isLocked()) {\r\n\t\t\t\t\t\t\t\t// scrollbar offset\r\n\t\t\t\t\t\t\t\ttop -= 1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t$(table).css('top', -top);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tinitCustomScrollbar: function(scrollable) {\r\n\t\t\t\t\t\tscroll.scrollable = scrollable;\r\n\t\t\t\t\t\t// create a new instance for table body with scrollbar\r\n\t\t\t\t\t\tPlugin.initScrollbar(scrollable);\r\n\t\t\t\t\t\t// get initial scroll position\r\n\t\t\t\t\t\tscroll.initPosition = $(scrollable).scrollLeft();\r\n\t\t\t\t\t\t$(scrollable).off().on('scroll', scroll.onScrolling);\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t\tscroll.init();\r\n\t\t\t\treturn scroll;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Init custom scrollbar and reset position\r\n\t\t\t * @param element\r\n\t\t\t * @param options\r\n\t\t\t */\r\n\t\t\tinitScrollbar: function(element, options) {\r\n\t\t\t\t$(datatable.tableBody).css('overflow', '');\r\n\t\t\t\tif (util.hasClass(element, 'ps')) {\r\n\t\t\t\t\t$(element).data('ps').update();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar ps = new PerfectScrollbar(element);\r\n\t\t\t\t\t$(element).data('ps', ps);\r\n\r\n\t\t\t\t\t// reset perfect scrollbar on resize\r\n\t\t\t\t\t$(window).resize(function() {\r\n\t\t\t\t\t\tps.update();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Set column title from options.columns settings\r\n\t\t\t */\r\n\t\t\tsetHeadTitle: function(tablePart) {\r\n\t\t\t\tif (typeof tablePart === 'undefined') tablePart = datatable.tableHead;\r\n\t\t\t\ttablePart = $(tablePart)[0];\r\n\t\t\t\tvar columns = options.columns;\r\n\t\t\t\tvar row = tablePart.getElementsByTagName('tr')[0];\r\n\t\t\t\tvar ths = tablePart.getElementsByTagName('td');\r\n\r\n\t\t\t\tif (typeof row === 'undefined') {\r\n\t\t\t\t\trow = document.createElement('tr');\r\n\t\t\t\t\ttablePart.appendChild(row);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$.each(columns, function(i, column) {\r\n\t\t\t\t\tvar th = ths[i];\r\n\t\t\t\t\tif (typeof th === 'undefined') {\r\n\t\t\t\t\t\tth = document.createElement('th');\r\n\t\t\t\t\t\trow.appendChild(th);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// set column title\r\n\t\t\t\t\tif (typeof column['title'] !== 'undefined') {\r\n\t\t\t\t\t\tth.innerHTML = column.title;\r\n\t\t\t\t\t\tth.setAttribute('data-field', column.field);\r\n\t\t\t\t\t\tutil.addClass(th, column.class);\r\n\t\t\t\t\t\t// set disable autoHide or force enable\r\n\t\t\t\t\t\tif (typeof column.autoHide !== 'undefined') {\r\n\t\t\t\t\t\t\tif (column.autoHide !== true) {\r\n\t\t\t\t\t\t\t\tth.setAttribute('data-autohide-disabled', column.autoHide);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tth.setAttribute('data-autohide-enabled', column.autoHide);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$(th).data(column);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// set header attr option\r\n\t\t\t\t\tif (typeof column.attr !== 'undefined') {\r\n\t\t\t\t\t\t$.each(column.attr, function(key, val) {\r\n\t\t\t\t\t\t\tth.setAttribute(key, val);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// apply text align to thead/tfoot\r\n\t\t\t\t\tif (typeof column.textAlign !== 'undefined') {\r\n\t\t\t\t\t\tvar align = typeof datatable.textAlign[column.textAlign] !== 'undefined' ? datatable.textAlign[column.textAlign] : '';\r\n\t\t\t\t\t\tutil.addClass(th, align);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tPlugin.setupDOM(tablePart);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Initiate to get remote or local data via ajax\r\n\t\t\t */\r\n\t\t\tdataRender: function(action) {\r\n\t\t\t\t$(datatable.table).siblings('.' + pfx + 'datatable__pager').removeClass(pfx + 'datatable--paging-loaded');\r\n\r\n\t\t\t\tvar buildMeta = function() {\r\n\t\t\t\t\tdatatable.dataSet = datatable.dataSet || [];\r\n\t\t\t\t\tPlugin.localDataUpdate();\r\n\t\t\t\t\t// local pagination meta\r\n\t\t\t\t\tvar meta = Plugin.getDataSourceParam('pagination');\r\n\t\t\t\t\tif (meta.perpage === 0) {\r\n\t\t\t\t\t\tmeta.perpage = options.data.pageSize || 10;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmeta.total = datatable.dataSet.length;\r\n\t\t\t\t\tvar start = Math.max(meta.perpage * (meta.page - 1), 0);\r\n\t\t\t\t\tvar end = Math.min(start + meta.perpage, meta.total);\r\n\t\t\t\t\tdatatable.dataSet = $(datatable.dataSet).slice(start, end);\r\n\t\t\t\t\treturn meta;\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar afterGetData = function(result) {\r\n\t\t\t\t\tvar localPagingCallback = function(ctx, meta) {\r\n\t\t\t\t\t\tif (!$(ctx.pager).hasClass(pfx + 'datatable--paging-loaded')) {\r\n\t\t\t\t\t\t\t$(ctx.pager).remove();\r\n\t\t\t\t\t\t\tctx.init(meta);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$(ctx.pager).off().on(pfx + 'datatable--on-goto-page', function(e) {\r\n\t\t\t\t\t\t\t$(ctx.pager).remove();\r\n\t\t\t\t\t\t\tctx.init(meta);\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tvar start = Math.max(meta.perpage * (meta.page - 1), 0);\r\n\t\t\t\t\t\tvar end = Math.min(start + meta.perpage, meta.total);\r\n\r\n\t\t\t\t\t\tPlugin.localDataUpdate();\r\n\t\t\t\t\t\tdatatable.dataSet = $(datatable.dataSet).slice(start, end);\r\n\r\n\t\t\t\t\t\t// insert data into table content\r\n\t\t\t\t\t\tPlugin.insertData();\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t$(datatable.wrap).removeClass(pfx + 'datatable--error');\r\n\t\t\t\t\t// pagination enabled\r\n\t\t\t\t\tif (options.pagination) {\r\n\t\t\t\t\t\tif (options.data.serverPaging && options.data.type !== 'local') {\r\n\t\t\t\t\t\t\t// server pagination\r\n\t\t\t\t\t\t\tvar serverMeta = Plugin.getObject('meta', result || null);\r\n\t\t\t\t\t\t\tif (serverMeta !== null) {\r\n\t\t\t\t\t\t\t\tPlugin.paging(serverMeta);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t// no meta object from server response, fallback to local pagination\r\n\t\t\t\t\t\t\t\tPlugin.paging(buildMeta(), localPagingCallback);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// local pagination can be used by remote data also\r\n\t\t\t\t\t\t\tPlugin.paging(buildMeta(), localPagingCallback);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// pagination is disabled\r\n\t\t\t\t\t\tPlugin.localDataUpdate();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// insert data into table content\r\n\t\t\t\t\tPlugin.insertData();\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// get local datasource\r\n\t\t\t\tif (options.data.type === 'local'\r\n\t\t\t\t\t// for remote json datasource\r\n\t\t\t\t\t// || typeof options.data.source.read === 'undefined' && datatable.dataSet !== null\r\n\t\t\t\t\t// for remote datasource, server sorting is disabled and data already received from remote\r\n\t\t\t\t\t|| options.data.serverSorting === false && action === 'sort'\r\n\t\t\t\t\t|| options.data.serverFiltering === false && action === 'search'\r\n\t\t\t\t) {\r\n\t\t\t\t\tafterGetData();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// getting data from remote only\r\n\t\t\t\tPlugin.getData().done(afterGetData);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Process ajax data\r\n\t\t\t */\r\n\t\t\tinsertData: function() {\r\n\t\t\t\tdatatable.dataSet = datatable.dataSet || [];\r\n\t\t\t\tvar params = Plugin.getDataSourceParam();\r\n\r\n\t\t\t\t// get row attributes\r\n\t\t\t\tvar pagination = params.pagination;\r\n\t\t\t\tvar start = (Math.max(pagination.page, 1) - 1) * pagination.perpage;\r\n\t\t\t\tvar end = Math.min(pagination.page, pagination.pages) * pagination.perpage;\r\n\t\t\t\tvar rowProps = {};\r\n\t\t\t\tif (typeof options.data.attr.rowProps !== 'undefined' && options.data.attr.rowProps.length) {\r\n\t\t\t\t\trowProps = options.data.attr.rowProps.slice(start, end);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar tableBody = document.createElement('tbody');\r\n\t\t\t\ttableBody.style.visibility = 'hidden';\r\n\t\t\t\tvar colLength = options.columns.length;\r\n\r\n\t\t\t\t$.each(datatable.dataSet, function(rowIndex, row) {\r\n\t\t\t\t\tvar tr = document.createElement('tr');\r\n\t\t\t\t\ttr.setAttribute('data-row', rowIndex);\r\n\t\t\t\t\t// keep data object to row\r\n\t\t\t\t\t$(tr).data('obj', row);\r\n\r\n\t\t\t\t\tif (typeof rowProps[rowIndex] !== 'undefined') {\r\n\t\t\t\t\t\t$.each(rowProps[rowIndex], function() {\r\n\t\t\t\t\t\t\ttr.setAttribute(this.name, this.value);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar cellIndex = 0;\r\n\t\t\t\t\tvar tds = [];\r\n\t\t\t\t\tfor (var a = 0; a < colLength; a += 1) {\r\n\t\t\t\t\t\tvar column = options.columns[a];\r\n\t\t\t\t\t\tvar classes = [];\r\n\t\t\t\t\t\t// add sorted class to cells\r\n\t\t\t\t\t\tif (Plugin.getObject('sort.field', params) === column.field) {\r\n\t\t\t\t\t\t\tclasses.push(pfx + 'datatable__cell--sorted');\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// apply text align\r\n\t\t\t\t\t\tif (typeof column.textAlign !== 'undefined') {\r\n\t\t\t\t\t\t\tvar align = typeof datatable.textAlign[column.textAlign] !== 'undefined' ? datatable.textAlign[column.textAlign] : '';\r\n\t\t\t\t\t\t\tclasses.push(align);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// var classAttr = '';\r\n\t\t\t\t\t\tif (typeof column.class !== 'undefined') {\r\n\t\t\t\t\t\t\tclasses.push(column.class);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar td = document.createElement('td');\r\n\t\t\t\t\t\tutil.addClass(td, classes.join(' '));\r\n\t\t\t\t\t\ttd.setAttribute('data-field', column.field);\r\n\t\t\t\t\t\t// set disable autoHide or force enable\r\n\t\t\t\t\t\tif (typeof column.autoHide !== 'undefined') {\r\n\t\t\t\t\t\t\tif (column.autoHide !== true) {\r\n\t\t\t\t\t\t\t\ttd.setAttribute('data-autohide-disabled', column.autoHide);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\ttd.setAttribute('data-autohide-enabled', column.autoHide);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttd.innerHTML = Plugin.getObject(column.field, row);\r\n\t\t\t\t\t\ttr.appendChild(td);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttableBody.appendChild(tr);\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// display no records message\r\n\t\t\t\tif (datatable.dataSet.length === 0) {\r\n\t\t\t\t\tvar errorSpan = document.createElement('span');\r\n\t\t\t\t\tutil.addClass(errorSpan, pfx + 'datatable--error');\r\n\t\t\t\t\terrorSpan.innerHTML = Plugin.getOption('translate.records.noRecords');\r\n\t\t\t\t\ttableBody.appendChild(errorSpan);\r\n\t\t\t\t\t$(datatable.wrap).addClass(pfx + 'datatable--error ' + pfx + 'datatable--loaded');\r\n\t\t\t\t\tPlugin.spinnerCallback(false);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// replace existing table body\r\n\t\t\t\t$(datatable.tableBody).replaceWith(tableBody);\r\n\t\t\t\tdatatable.tableBody = tableBody;\r\n\r\n\t\t\t\t// layout update\r\n\t\t\t\tPlugin.setupDOM(datatable.table);\r\n\t\t\t\tPlugin.setupCellField([datatable.tableBody]);\r\n\t\t\t\tPlugin.setupTemplateCell(datatable.tableBody);\r\n\t\t\t\tPlugin.layoutUpdate();\r\n\t\t\t},\r\n\r\n\t\t\tupdateTableComponents: function() {\r\n\t\t\t\tdatatable.tableHead = $(datatable.table).children('thead');\r\n\t\t\t\tdatatable.tableBody = $(datatable.table).children('tbody');\r\n\t\t\t\tdatatable.tableFoot = $(datatable.table).children('tfoot');\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Call ajax for raw JSON data\r\n\t\t\t */\r\n\t\t\tgetData: function() {\r\n\t\t\t\t// Plugin.spinnerCallback(true);\r\n\r\n\t\t\t\tvar ajaxParams = {\r\n\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\tdata: {},\r\n\t\t\t\t\ttimeout: Plugin.getOption('data.source.read.timeout') || 30000,\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif (options.data.type === 'local') {\r\n\t\t\t\t\tajaxParams.url = options.data.source;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (options.data.type === 'remote') {\r\n\t\t\t\t\tajaxParams.url = Plugin.getOption('data.source.read.url');\r\n\t\t\t\t\tif (typeof ajaxParams.url !== 'string') ajaxParams.url = Plugin.getOption('data.source.read');\r\n\t\t\t\t\tif (typeof ajaxParams.url !== 'string') ajaxParams.url = Plugin.getOption('data.source');\r\n\t\t\t\t\tajaxParams.headers = Plugin.getOption('data.source.read.headers');\r\n\t\t\t\t\tajaxParams.method = Plugin.getOption('data.source.read.method') || 'POST';\r\n\r\n\t\t\t\t\tvar data = Plugin.getDataSourceParam();\r\n\t\t\t\t\t// remove if server params is not enabled\r\n\t\t\t\t\tif (!Plugin.getOption('data.serverPaging')) {\r\n\t\t\t\t\t\tdelete data['pagination'];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!Plugin.getOption('data.serverSorting')) {\r\n\t\t\t\t\t\tdelete data['sort'];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tajaxParams.data = $.extend({}, ajaxParams.data, data, Plugin.getOption('data.source.read.params'));\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn $.ajax(ajaxParams).done(function(response, textStatus, jqXHR) {\r\n\t\t\t\t\tdatatable.lastResponse = response;\r\n\t\t\t\t\t// extendible data map callback for custom datasource\r\n\t\t\t\t\tdatatable.dataSet = datatable.originalDataSet = Plugin.dataMapCallback(response);\r\n\t\t\t\t\tPlugin.setAutoColumns();\r\n\t\t\t\t\t$(datatable).trigger(pfx + 'datatable--on-ajax-done', [datatable.dataSet]);\r\n\t\t\t\t}).fail(function(jqXHR, textStatus, errorThrown) {\r\n\t\t\t\t\t$(datatable).trigger(pfx + 'datatable--on-ajax-fail', [jqXHR]);\r\n\t\t\t\t\t$(datatable.tableBody).html($('<span/>').addClass(pfx + 'datatable--error').html(Plugin.getOption('translate.records.noRecords')));\r\n\t\t\t\t\t$(datatable.wrap).addClass(pfx + 'datatable--error ' + pfx + 'datatable--loaded');\r\n\t\t\t\t\tPlugin.spinnerCallback(false);\r\n\t\t\t\t}).always(function() {\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Pagination object\r\n\t\t\t * @param meta if null, local pagination, otherwise remote pagination\r\n\t\t\t * @param callback for update data when navigating page\r\n\t\t\t */\r\n\t\t\tpaging: function(meta, callback) {\r\n\t\t\t\tvar pg = {\r\n\t\t\t\t\tmeta: null,\r\n\t\t\t\t\tpager: null,\r\n\t\t\t\t\tpaginateEvent: null,\r\n\t\t\t\t\tpagerLayout: {pagination: null, info: null},\r\n\t\t\t\t\tcallback: null,\r\n\t\t\t\t\tinit: function(meta) {\r\n\t\t\t\t\t\tpg.meta = meta;\r\n\r\n\t\t\t\t\t\t// parse pagination meta to integer\r\n\t\t\t\t\t\tpg.meta.page = parseInt(pg.meta.page);\r\n\t\t\t\t\t\tpg.meta.pages = parseInt(pg.meta.pages);\r\n\t\t\t\t\t\tpg.meta.perpage = parseInt(pg.meta.perpage);\r\n\t\t\t\t\t\tpg.meta.total = parseInt(pg.meta.total);\r\n\r\n\t\t\t\t\t\t// always recount total pages\r\n\t\t\t\t\t\tpg.meta.pages = Math.max(Math.ceil(pg.meta.total / pg.meta.perpage), 1);\r\n\r\n\t\t\t\t\t\t// current page must be not over than total pages\r\n\t\t\t\t\t\tif (pg.meta.page > pg.meta.pages) pg.meta.page = pg.meta.pages;\r\n\r\n\t\t\t\t\t\t// set unique event name between tables\r\n\t\t\t\t\t\tpg.paginateEvent = Plugin.getTablePrefix();\r\n\r\n\t\t\t\t\t\tpg.pager = $(datatable.table).siblings('.' + pfx + 'datatable__pager');\r\n\t\t\t\t\t\tif ($(pg.pager).hasClass(pfx + 'datatable--paging-loaded')) return;\r\n\r\n\t\t\t\t\t\t// if class .'+pfx+'datatable--paging-loaded not exist, recreate pagination\r\n\t\t\t\t\t\t$(pg.pager).remove();\r\n\r\n\t\t\t\t\t\t// if no pages available\r\n\t\t\t\t\t\tif (pg.meta.pages === 0) return;\r\n\r\n\t\t\t\t\t\t// update datasource params\r\n\t\t\t\t\t\tPlugin.setDataSourceParam('pagination', {\r\n\t\t\t\t\t\t\tpage: pg.meta.page,\r\n\t\t\t\t\t\t\tpages: pg.meta.pages,\r\n\t\t\t\t\t\t\tperpage: pg.meta.perpage,\r\n\t\t\t\t\t\t\ttotal: pg.meta.total,\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// default callback function, contains remote pagination handler\r\n\t\t\t\t\t\tpg.callback = pg.serverCallback;\r\n\t\t\t\t\t\t// custom callback function\r\n\t\t\t\t\t\tif (typeof callback === 'function') pg.callback = callback;\r\n\r\n\t\t\t\t\t\tpg.addPaginateEvent();\r\n\t\t\t\t\t\tpg.populate();\r\n\r\n\t\t\t\t\t\tpg.meta.page = Math.max(pg.meta.page || 1, pg.meta.page);\r\n\r\n\t\t\t\t\t\t$(datatable).trigger(pg.paginateEvent, pg.meta);\r\n\r\n\t\t\t\t\t\tpg.pagingBreakpoint.call();\r\n\t\t\t\t\t\t$(window).resize(pg.pagingBreakpoint);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tserverCallback: function(ctx, meta) {\r\n\t\t\t\t\t\tPlugin.dataRender();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpopulate: function() {\r\n\t\t\t\t\t\tvar icons = Plugin.getOption('layout.icons.pagination');\r\n\t\t\t\t\t\tvar title = Plugin.getOption('translate.toolbar.pagination.items.default');\r\n\t\t\t\t\t\t// pager root element\r\n\t\t\t\t\t\tpg.pager = $('<div/>').addClass(pfx + 'datatable__pager ' + pfx + 'datatable--paging-loaded clearfix');\r\n\t\t\t\t\t\t// numbering links\r\n\t\t\t\t\t\tvar pagerNumber = $('<ul/>').addClass(pfx + 'datatable__pager-nav');\r\n\t\t\t\t\t\tpg.pagerLayout['pagination'] = pagerNumber;\r\n\r\n\t\t\t\t\t\t// pager first/previous button\r\n\t\t\t\t\t\t$('<li/>').\r\n\t\t\t\t\t\t\tappend($('<a/>').\r\n\t\t\t\t\t\t\t\tattr('title', title.first).\r\n\t\t\t\t\t\t\t\taddClass(pfx + 'datatable__pager-link ' + pfx + 'datatable__pager-link--first').\r\n\t\t\t\t\t\t\t\tappend($('<i/>').addClass(icons.first)).\r\n\t\t\t\t\t\t\t\ton('click', pg.gotoMorePage).\r\n\t\t\t\t\t\t\t\tattr('data-page', 1)).\r\n\t\t\t\t\t\t\tappendTo(pagerNumber);\r\n\t\t\t\t\t\t$('<li/>').\r\n\t\t\t\t\t\t\tappend($('<a/>').\r\n\t\t\t\t\t\t\t\tattr('title', title.prev).\r\n\t\t\t\t\t\t\t\taddClass(pfx + 'datatable__pager-link ' + pfx + 'datatable__pager-link--prev').\r\n\t\t\t\t\t\t\t\tappend($('<i/>').addClass(icons.prev)).\r\n\t\t\t\t\t\t\t\ton('click', pg.gotoMorePage)).\r\n\t\t\t\t\t\t\tappendTo(pagerNumber);\r\n\r\n\t\t\t\t\t\t// more previous pages\r\n\t\t\t\t\t\t$('<li/>').\r\n\t\t\t\t\t\t\tappend($('<a/>').\r\n\t\t\t\t\t\t\t\tattr('title', title.more).\r\n\t\t\t\t\t\t\t\taddClass(pfx + 'datatable__pager-link ' + pfx + 'datatable__pager-link--more-prev').\r\n\t\t\t\t\t\t\t\thtml($('<i/>').addClass(icons.more)).\r\n\t\t\t\t\t\t\t\ton('click', pg.gotoMorePage)).\r\n\t\t\t\t\t\t\tappendTo(pagerNumber);\r\n\r\n\t\t\t\t\t\t$('<li/>').append($('<input/>').attr('type', 'text').addClass(pfx + 'pager-input form-control').attr('title', title.input).on('keyup', function() {\r\n\t\t\t\t\t\t\t// on keyup update [data-page]\r\n\t\t\t\t\t\t\t$(this).attr('data-page', Math.abs($(this).val()));\r\n\t\t\t\t\t\t}).on('keypress', function(e) {\r\n\t\t\t\t\t\t\t// on keypressed enter button\r\n\t\t\t\t\t\t\tif (e.which === 13) pg.gotoMorePage(e);\r\n\t\t\t\t\t\t})).appendTo(pagerNumber);\r\n\r\n\t\t\t\t\t\tvar pagesNumber = Plugin.getOption('toolbar.items.pagination.pages.desktop.pagesNumber');\r\n\t\t\t\t\t\tvar end = Math.ceil(pg.meta.page / pagesNumber) * pagesNumber;\r\n\t\t\t\t\t\tvar start = end - pagesNumber;\r\n\t\t\t\t\t\tif (end > pg.meta.pages) {\r\n\t\t\t\t\t\t\tend = pg.meta.pages;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfor (var x = start; x < end; x++) {\r\n\t\t\t\t\t\t\tvar pageNumber = x + 1;\r\n\t\t\t\t\t\t\t$('<li/>').\r\n\t\t\t\t\t\t\t\tappend($('<a/>').\r\n\t\t\t\t\t\t\t\t\taddClass(pfx + 'datatable__pager-link ' + pfx + 'datatable__pager-link-number').\r\n\t\t\t\t\t\t\t\t\ttext(pageNumber).\r\n\t\t\t\t\t\t\t\t\tattr('data-page', pageNumber).\r\n\t\t\t\t\t\t\t\t\tattr('title', pageNumber).\r\n\t\t\t\t\t\t\t\t\ton('click', pg.gotoPage)).\r\n\t\t\t\t\t\t\t\tappendTo(pagerNumber);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// more next pages\r\n\t\t\t\t\t\t$('<li/>').\r\n\t\t\t\t\t\t\tappend($('<a/>').\r\n\t\t\t\t\t\t\t\tattr('title', title.more).\r\n\t\t\t\t\t\t\t\taddClass(pfx + 'datatable__pager-link ' + pfx + 'datatable__pager-link--more-next').\r\n\t\t\t\t\t\t\t\thtml($('<i/>').addClass(icons.more)).\r\n\t\t\t\t\t\t\t\ton('click', pg.gotoMorePage)).\r\n\t\t\t\t\t\t\tappendTo(pagerNumber);\r\n\r\n\t\t\t\t\t\t// pager next/last button\r\n\t\t\t\t\t\t$('<li/>').\r\n\t\t\t\t\t\t\tappend($('<a/>').\r\n\t\t\t\t\t\t\t\tattr('title', title.next).\r\n\t\t\t\t\t\t\t\taddClass(pfx + 'datatable__pager-link ' + pfx + 'datatable__pager-link--next').\r\n\t\t\t\t\t\t\t\tappend($('<i/>').addClass(icons.next)).\r\n\t\t\t\t\t\t\t\ton('click', pg.gotoMorePage)).\r\n\t\t\t\t\t\t\tappendTo(pagerNumber);\r\n\t\t\t\t\t\t$('<li/>').\r\n\t\t\t\t\t\t\tappend($('<a/>').\r\n\t\t\t\t\t\t\t\tattr('title', title.last).\r\n\t\t\t\t\t\t\t\taddClass(pfx + 'datatable__pager-link ' + pfx + 'datatable__pager-link--last').\r\n\t\t\t\t\t\t\t\tappend($('<i/>').addClass(icons.last)).\r\n\t\t\t\t\t\t\t\ton('click', pg.gotoMorePage).\r\n\t\t\t\t\t\t\t\tattr('data-page', pg.meta.pages)).\r\n\t\t\t\t\t\t\tappendTo(pagerNumber);\r\n\r\n\t\t\t\t\t\t// page info\r\n\t\t\t\t\t\tif (Plugin.getOption('toolbar.items.info')) {\r\n\t\t\t\t\t\t\tpg.pagerLayout['info'] = $('<div/>').addClass(pfx + 'datatable__pager-info').append($('<span/>').addClass(pfx + 'datatable__pager-detail'));\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t$.each(Plugin.getOption('toolbar.layout'), function(i, layout) {\r\n\t\t\t\t\t\t\t$(pg.pagerLayout[layout]).appendTo(pg.pager);\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// page size select\r\n\t\t\t\t\t\tvar pageSizeSelect = $('<select/>').\r\n\t\t\t\t\t\t\taddClass('selectpicker ' + pfx + 'datatable__pager-size').\r\n\t\t\t\t\t\t\tattr('title', Plugin.getOption('translate.toolbar.pagination.items.default.select')).\r\n\t\t\t\t\t\t\tattr('data-width', '70px').\r\n\t\t\t\t\t\t\tval(pg.meta.perpage).\r\n\t\t\t\t\t\t\ton('change', pg.updatePerpage).\r\n\t\t\t\t\t\t\tprependTo(pg.pagerLayout['info']);\r\n\r\n\t\t\t\t\t\tvar pageSizes = Plugin.getOption('toolbar.items.pagination.pageSizeSelect');\r\n\t\t\t\t\t\t// default value here, to fix override option by user\r\n\t\t\t\t\t\tif (pageSizes.length == 0) pageSizes = [10, 20, 30, 50, 100];\r\n\t\t\t\t\t\t$.each(pageSizes, function(i, size) {\r\n\t\t\t\t\t\t\tvar display = size;\r\n\t\t\t\t\t\t\tif (size === -1) display = Plugin.getOption('translate.toolbar.pagination.items.default.all');\r\n\t\t\t\t\t\t\t$('<option/>').attr('value', size).html(display).appendTo(pageSizeSelect);\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// init selectpicker to dropdown\r\n\t\t\t\t\t\t$(datatable).ready(function() {\r\n\t\t\t\t\t\t\t$('.selectpicker').\r\n\t\t\t\t\t\t\t\tselectpicker().\r\n\t\t\t\t\t\t\t\ton('hide.bs.select', function() {\r\n\t\t\t\t\t\t\t\t\t// fix dropup arrow icon on hide\r\n\t\t\t\t\t\t\t\t\t$(this).closest('.bootstrap-select').removeClass('dropup');\r\n\t\t\t\t\t\t\t\t}).\r\n\t\t\t\t\t\t\t\tsiblings('.dropdown-toggle').\r\n\t\t\t\t\t\t\t\tattr('title', Plugin.getOption('translate.toolbar.pagination.items.default.select'));\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tpg.paste();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpaste: function() {\r\n\t\t\t\t\t\t// insert pagination based on placement position, top|bottom\r\n\t\t\t\t\t\t$.each($.unique(Plugin.getOption('toolbar.placement')),\r\n\t\t\t\t\t\t\tfunction(i, position) {\r\n\t\t\t\t\t\t\t\tif (position === 'bottom') {\r\n\t\t\t\t\t\t\t\t\t$(pg.pager).clone(true).insertAfter(datatable.table);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (position === 'top') {\r\n\t\t\t\t\t\t\t\t\t// pager top need some extra space\r\n\t\t\t\t\t\t\t\t\t$(pg.pager).clone(true).addClass(pfx + 'datatable__pager--top').insertBefore(datatable.table);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tgotoMorePage: function(e) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t// $(this) is a link of .'+pfx+'datatable__pager-link\r\n\r\n\t\t\t\t\t\tif ($(this).attr('disabled') === 'disabled') return false;\r\n\r\n\t\t\t\t\t\tvar page = $(this).attr('data-page');\r\n\r\n\t\t\t\t\t\t// event from text input\r\n\t\t\t\t\t\tif (typeof page === 'undefined') {\r\n\t\t\t\t\t\t\tpage = $(e.target).attr('data-page');\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tpg.openPage(parseInt(page));\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tgotoPage: function(e) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t// prevent from click same page number\r\n\t\t\t\t\t\tif ($(this).hasClass(pfx + 'datatable__pager-link--active')) return;\r\n\r\n\t\t\t\t\t\tpg.openPage(parseInt($(this).data('page')));\r\n\t\t\t\t\t},\r\n\t\t\t\t\topenPage: function(page) {\r\n\t\t\t\t\t\t// currentPage is 1-based index\r\n\t\t\t\t\t\tpg.meta.page = parseInt(page);\r\n\r\n\t\t\t\t\t\t$(datatable).trigger(pg.paginateEvent, pg.meta);\r\n\t\t\t\t\t\tpg.callback(pg, pg.meta);\r\n\r\n\t\t\t\t\t\t// update page callback function\r\n\t\t\t\t\t\t$(pg.pager).trigger(pfx + 'datatable--on-goto-page', pg.meta);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tupdatePerpage: function(e) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t// if (Plugin.getOption('layout.height') === null) {\r\n\t\t\t\t\t\t// fix white space, when perpage is set from many records to less records\r\n\t\t\t\t\t\t// $('html, body').animate({scrollTop: $(datatable).position().top});\r\n\t\t\t\t\t\t// }\r\n\r\n\t\t\t\t\t\tpg.pager = $(datatable.table).siblings('.' + pfx + 'datatable__pager').removeClass(pfx + 'datatable--paging-loaded');\r\n\r\n\t\t\t\t\t\t// on change select page size\r\n\t\t\t\t\t\tif (e.originalEvent) {\r\n\t\t\t\t\t\t\tpg.meta.perpage = parseInt($(this).val());\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t$(pg.pager).find('select.' + pfx + 'datatable__pager-size').val(pg.meta.perpage).attr('data-selected', pg.meta.perpage);\r\n\r\n\t\t\t\t\t\t// update datasource params\r\n\t\t\t\t\t\tPlugin.setDataSourceParam('pagination', {\r\n\t\t\t\t\t\t\tpage: pg.meta.page,\r\n\t\t\t\t\t\t\tpages: pg.meta.pages,\r\n\t\t\t\t\t\t\tperpage: pg.meta.perpage,\r\n\t\t\t\t\t\t\ttotal: pg.meta.total,\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// update page callback function\r\n\t\t\t\t\t\t$(pg.pager).trigger(pfx + 'datatable--on-update-perpage', pg.meta);\r\n\t\t\t\t\t\t$(datatable).trigger(pg.paginateEvent, pg.meta);\r\n\t\t\t\t\t\tpg.callback(pg, pg.meta);\r\n\r\n\t\t\t\t\t\t// update pagination info\r\n\t\t\t\t\t\tpg.updateInfo.call();\r\n\t\t\t\t\t},\r\n\t\t\t\t\taddPaginateEvent: function(e) {\r\n\t\t\t\t\t\t// pagination event\r\n\t\t\t\t\t\t$(datatable).off(pg.paginateEvent).on(pg.paginateEvent, function(e, meta) {\r\n\t\t\t\t\t\t\tPlugin.spinnerCallback(true);\r\n\r\n\t\t\t\t\t\t\tpg.pager = $(datatable.table).siblings('.' + pfx + 'datatable__pager');\r\n\t\t\t\t\t\t\tvar pagerNumber = $(pg.pager).find('.' + pfx + 'datatable__pager-nav');\r\n\r\n\t\t\t\t\t\t\t// set sync active page class\r\n\t\t\t\t\t\t\t$(pagerNumber).find('.' + pfx + 'datatable__pager-link--active').removeClass(pfx + 'datatable__pager-link--active');\r\n\t\t\t\t\t\t\t$(pagerNumber).find('.' + pfx + 'datatable__pager-link-number[data-page=\"' + meta.page + '\"]').addClass(pfx + 'datatable__pager-link--active');\r\n\r\n\t\t\t\t\t\t\t// set next and previous link page number\r\n\t\t\t\t\t\t\t$(pagerNumber).find('.' + pfx + 'datatable__pager-link--prev').attr('data-page', Math.max(meta.page - 1, 1));\r\n\t\t\t\t\t\t\t$(pagerNumber).find('.' + pfx + 'datatable__pager-link--next').attr('data-page', Math.min(meta.page + 1, meta.pages));\r\n\r\n\t\t\t\t\t\t\t// current page input value sync\r\n\t\t\t\t\t\t\t$(pg.pager).each(function() {\r\n\t\t\t\t\t\t\t\t$(this).find('.' + pfx + 'pager-input[type=\"text\"]').prop('value', meta.page);\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t$(pg.pager).find('.' + pfx + 'datatable__pager-nav').show();\r\n\t\t\t\t\t\t\tif (meta.pages <= 1) {\r\n\t\t\t\t\t\t\t\t// hide pager if has 1 page\r\n\t\t\t\t\t\t\t\t$(pg.pager).find('.' + pfx + 'datatable__pager-nav').hide();\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// update datasource params\r\n\t\t\t\t\t\t\tPlugin.setDataSourceParam('pagination', {\r\n\t\t\t\t\t\t\t\tpage: pg.meta.page,\r\n\t\t\t\t\t\t\t\tpages: pg.meta.pages,\r\n\t\t\t\t\t\t\t\tperpage: pg.meta.perpage,\r\n\t\t\t\t\t\t\t\ttotal: pg.meta.total,\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t$(pg.pager).find('select.' + pfx + 'datatable__pager-size').val(meta.perpage).attr('data-selected', meta.perpage);\r\n\r\n\t\t\t\t\t\t\t// clear active rows\r\n\t\t\t\t\t\t\t$(datatable.table).find('.' + pfx + 'checkbox > [type=\"checkbox\"]').prop('checked', false);\r\n\t\t\t\t\t\t\t$(datatable.table).find('.' + pfx + 'datatable__row--active').removeClass(pfx + 'datatable__row--active');\r\n\r\n\t\t\t\t\t\t\tpg.updateInfo.call();\r\n\t\t\t\t\t\t\tpg.pagingBreakpoint.call();\r\n\t\t\t\t\t\t\t// Plugin.resetScroll();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tupdateInfo: function() {\r\n\t\t\t\t\t\tvar start = Math.max(pg.meta.perpage * (pg.meta.page - 1) + 1, 1);\r\n\t\t\t\t\t\tvar end = Math.min(start + pg.meta.perpage - 1, pg.meta.total);\r\n\t\t\t\t\t\t// page info update\r\n\t\t\t\t\t\t$(pg.pager).find('.' + pfx + 'datatable__pager-info').find('.' + pfx + 'datatable__pager-detail').html(Plugin.dataPlaceholder(\r\n\t\t\t\t\t\t\tPlugin.getOption('translate.toolbar.pagination.items.info'), {\r\n\t\t\t\t\t\t\t\tstart: start,\r\n\t\t\t\t\t\t\t\tend: pg.meta.perpage === -1 ? pg.meta.total : end,\r\n\t\t\t\t\t\t\t\tpageSize: pg.meta.perpage === -1 ||\r\n\t\t\t\t\t\t\t\tpg.meta.perpage >= pg.meta.total\r\n\t\t\t\t\t\t\t\t\t? pg.meta.total\r\n\t\t\t\t\t\t\t\t\t: pg.meta.perpage,\r\n\t\t\t\t\t\t\t\ttotal: pg.meta.total,\r\n\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Update pagination layout breakpoint\r\n\t\t\t\t\t */\r\n\t\t\t\t\tpagingBreakpoint: function() {\r\n\t\t\t\t\t\t// keep page links reference\r\n\t\t\t\t\t\tvar pagerNumber = $(datatable.table).siblings('.' + pfx + 'datatable__pager').find('.' + pfx + 'datatable__pager-nav');\r\n\t\t\t\t\t\tif ($(pagerNumber).length === 0) return;\r\n\r\n\t\t\t\t\t\tvar currentPage = Plugin.getCurrentPage();\r\n\t\t\t\t\t\tvar pagerInput = $(pagerNumber).find('.' + pfx + 'pager-input').closest('li');\r\n\r\n\t\t\t\t\t\t// reset\r\n\t\t\t\t\t\t$(pagerNumber).find('li').show();\r\n\r\n\t\t\t\t\t\t// pagination update\r\n\t\t\t\t\t\t$.each(Plugin.getOption('toolbar.items.pagination.pages'),\r\n\t\t\t\t\t\t\tfunction(mode, option) {\r\n\t\t\t\t\t\t\t\tif (util.isInResponsiveRange(mode)) {\r\n\t\t\t\t\t\t\t\t\tswitch (mode) {\r\n\t\t\t\t\t\t\t\t\t\tcase 'desktop':\r\n\t\t\t\t\t\t\t\t\t\tcase 'tablet':\r\n\t\t\t\t\t\t\t\t\t\t\tvar end = Math.ceil(currentPage / option.pagesNumber) *\r\n\t\t\t\t\t\t\t\t\t\t\t\toption.pagesNumber;\r\n\t\t\t\t\t\t\t\t\t\t\tvar start = end - option.pagesNumber;\r\n\t\t\t\t\t\t\t\t\t\t\t$(pagerInput).hide();\r\n\t\t\t\t\t\t\t\t\t\t\tpg.meta = Plugin.getDataSourceParam('pagination');\r\n\t\t\t\t\t\t\t\t\t\t\tpg.paginationUpdate();\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\t\tcase 'mobile':\r\n\t\t\t\t\t\t\t\t\t\t\t$(pagerInput).show();\r\n\t\t\t\t\t\t\t\t\t\t\t$(pagerNumber).find('.' + pfx + 'datatable__pager-link--more-prev').closest('li').hide();\r\n\t\t\t\t\t\t\t\t\t\t\t$(pagerNumber).find('.' + pfx + 'datatable__pager-link--more-next').closest('li').hide();\r\n\t\t\t\t\t\t\t\t\t\t\t$(pagerNumber).find('.' + pfx + 'datatable__pager-link-number').closest('li').hide();\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Update pagination number and button display\r\n\t\t\t\t\t */\r\n\t\t\t\t\tpaginationUpdate: function() {\r\n\t\t\t\t\t\tvar pager = $(datatable.table).siblings('.' + pfx + 'datatable__pager').find('.' + pfx + 'datatable__pager-nav'),\r\n\t\t\t\t\t\t\tpagerMorePrev = $(pager).find('.' + pfx + 'datatable__pager-link--more-prev'),\r\n\t\t\t\t\t\t\tpagerMoreNext = $(pager).find('.' + pfx + 'datatable__pager-link--more-next'),\r\n\t\t\t\t\t\t\tpagerFirst = $(pager).find('.' + pfx + 'datatable__pager-link--first'),\r\n\t\t\t\t\t\t\tpagerPrev = $(pager).find('.' + pfx + 'datatable__pager-link--prev'),\r\n\t\t\t\t\t\t\tpagerNext = $(pager).find('.' + pfx + 'datatable__pager-link--next'),\r\n\t\t\t\t\t\t\tpagerLast = $(pager).find('.' + pfx + 'datatable__pager-link--last');\r\n\r\n\t\t\t\t\t\t// get visible page\r\n\t\t\t\t\t\tvar pagerNumber = $(pager).find('.' + pfx + 'datatable__pager-link-number');\r\n\t\t\t\t\t\t// get page before of first visible\r\n\t\t\t\t\t\tvar morePrevPage = Math.max($(pagerNumber).first().data('page') - 1,\r\n\t\t\t\t\t\t\t1);\r\n\t\t\t\t\t\t$(pagerMorePrev).each(function(i, prev) {\r\n\t\t\t\t\t\t\t$(prev).attr('data-page', morePrevPage);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// show/hide <li>\r\n\t\t\t\t\t\tif (morePrevPage === 1) {\r\n\t\t\t\t\t\t\t$(pagerMorePrev).parent().hide();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$(pagerMorePrev).parent().show();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// get page after of last visible\r\n\t\t\t\t\t\tvar moreNextPage = Math.min($(pagerNumber).last().data('page') + 1,\r\n\t\t\t\t\t\t\tpg.meta.pages);\r\n\t\t\t\t\t\t$(pagerMoreNext).each(function(i, prev) {\r\n\t\t\t\t\t\t\t$(pagerMoreNext).attr('data-page', moreNextPage).show();\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// show/hide <li>\r\n\t\t\t\t\t\tif (moreNextPage === pg.meta.pages\r\n\t\t\t\t\t\t\t// missing dot fix when last hidden page is one left\r\n\t\t\t\t\t\t\t&& moreNextPage === $(pagerNumber).last().data('page')) {\r\n\t\t\t\t\t\t\t$(pagerMoreNext).parent().hide();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$(pagerMoreNext).parent().show();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// begin/end of pages\r\n\t\t\t\t\t\tif (pg.meta.page === 1) {\r\n\t\t\t\t\t\t\t$(pagerFirst).attr('disabled', true).addClass(pfx + 'datatable__pager-link--disabled');\r\n\t\t\t\t\t\t\t$(pagerPrev).attr('disabled', true).addClass(pfx + 'datatable__pager-link--disabled');\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$(pagerFirst).removeAttr('disabled').removeClass(pfx + 'datatable__pager-link--disabled');\r\n\t\t\t\t\t\t\t$(pagerPrev).removeAttr('disabled').removeClass(pfx + 'datatable__pager-link--disabled');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (pg.meta.page === pg.meta.pages) {\r\n\t\t\t\t\t\t\t$(pagerNext).attr('disabled', true).addClass(pfx + 'datatable__pager-link--disabled');\r\n\t\t\t\t\t\t\t$(pagerLast).attr('disabled', true).addClass(pfx + 'datatable__pager-link--disabled');\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$(pagerNext).removeAttr('disabled').removeClass(pfx + 'datatable__pager-link--disabled');\r\n\t\t\t\t\t\t\t$(pagerLast).removeAttr('disabled').removeClass(pfx + 'datatable__pager-link--disabled');\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// display more buttons\r\n\t\t\t\t\t\tvar nav = Plugin.getOption('toolbar.items.pagination.navigation');\r\n\t\t\t\t\t\tif (!nav.first) $(pagerFirst).remove();\r\n\t\t\t\t\t\tif (!nav.prev) $(pagerPrev).remove();\r\n\t\t\t\t\t\tif (!nav.next) $(pagerNext).remove();\r\n\t\t\t\t\t\tif (!nav.last) $(pagerLast).remove();\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t\tpg.init(meta);\r\n\t\t\t\treturn pg;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Hide/show table cell defined by\r\n\t\t\t * options[columns][i][responsive][visible/hidden]\r\n\t\t\t */\r\n\t\t\tcolumnHide: function() {\r\n\t\t\t\tvar screen = util.getViewPort().width;\r\n\t\t\t\t// foreach columns setting\r\n\t\t\t\t$.each(options.columns, function(i, column) {\r\n\t\t\t\t\tif (typeof column.responsive !== 'undefined') {\r\n\t\t\t\t\t\tvar field = column.field;\r\n\t\t\t\t\t\tvar tds = $.grep($(datatable.table).find('.' + pfx + 'datatable__cell'), function(n, i) {\r\n\t\t\t\t\t\t\treturn field === $(n).data('field');\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (util.getBreakpoint(column.responsive.hidden) >= screen) {\r\n\t\t\t\t\t\t\t$(tds).hide();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$(tds).show();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (util.getBreakpoint(column.responsive.visible) <= screen) {\r\n\t\t\t\t\t\t\t$(tds).show();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$(tds).hide();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Setup sub datatable\r\n\t\t\t */\r\n\t\t\tsetupSubDatatable: function() {\r\n\t\t\t\tvar subTableCallback = Plugin.getOption('detail.content');\r\n\t\t\t\tif (typeof subTableCallback !== 'function') return;\r\n\r\n\t\t\t\t// subtable already exist\r\n\t\t\t\tif ($(datatable.table).find('.' + pfx + 'datatable__subtable').length > 0) return;\r\n\r\n\t\t\t\t$(datatable.wrap).addClass(pfx + 'datatable--subtable');\r\n\r\n\t\t\t\toptions.columns[0]['subtable'] = true;\r\n\r\n\t\t\t\t// toggle on open sub table\r\n\t\t\t\tvar toggleSubTable = function(e) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t// get parent row of this subtable\r\n\t\t\t\t\tvar parentRow = $(this).closest('.' + pfx + 'datatable__row');\r\n\r\n\t\t\t\t\t// get subtable row for sub table\r\n\t\t\t\t\tvar subTableRow = $(parentRow).next('.' + pfx + 'datatable__row-subtable');\r\n\t\t\t\t\tif ($(subTableRow).length === 0) {\r\n\t\t\t\t\t\t// prepare DOM for sub table, each <tr> as parent and add <tr> as child table\r\n\t\t\t\t\t\tsubTableRow = $('<tr/>').\r\n\t\t\t\t\t\t\taddClass(pfx + 'datatable__row-subtable ' + pfx + 'datatable__row-loading').\r\n\t\t\t\t\t\t\thide().\r\n\t\t\t\t\t\t\tappend($('<td/>').addClass(pfx + 'datatable__subtable').attr('colspan', Plugin.getTotalColumns()));\r\n\t\t\t\t\t\t$(parentRow).after(subTableRow);\r\n\t\t\t\t\t\t// add class to even row\r\n\t\t\t\t\t\tif ($(parentRow).hasClass(pfx + 'datatable__row--even')) {\r\n\t\t\t\t\t\t\t$(subTableRow).addClass(pfx + 'datatable__row-subtable--even');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t$(subTableRow).toggle();\r\n\r\n\t\t\t\t\tvar subTable = $(subTableRow).find('.' + pfx + 'datatable__subtable');\r\n\r\n\t\t\t\t\t// get id from first column of parent row\r\n\t\t\t\t\tvar primaryKey = $(this).closest('[data-field]:first-child').find('.' + pfx + 'datatable__toggle-subtable').data('value');\r\n\r\n\t\t\t\t\tvar icon = $(this).find('i').removeAttr('class');\r\n\r\n\t\t\t\t\t// prevent duplicate datatable init\r\n\t\t\t\t\tif ($(parentRow).hasClass(pfx + 'datatable__row--subtable-expanded')) {\r\n\t\t\t\t\t\t$(icon).addClass(Plugin.getOption('layout.icons.rowDetail.collapse'));\r\n\t\t\t\t\t\t// remove expand class from parent row\r\n\t\t\t\t\t\t$(parentRow).removeClass(pfx + 'datatable__row--subtable-expanded');\r\n\t\t\t\t\t\t// trigger event on collapse\r\n\t\t\t\t\t\t$(datatable).trigger(pfx + 'datatable--on-collapse-subtable', [parentRow]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// expand and run callback function\r\n\t\t\t\t\t\t$(icon).addClass(Plugin.getOption('layout.icons.rowDetail.expand'));\r\n\t\t\t\t\t\t// add expand class to parent row\r\n\t\t\t\t\t\t$(parentRow).addClass(pfx + 'datatable__row--subtable-expanded');\r\n\t\t\t\t\t\t// trigger event on expand\r\n\t\t\t\t\t\t$(datatable).trigger(pfx + 'datatable--on-expand-subtable', [parentRow]);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// prevent duplicate datatable init\r\n\t\t\t\t\tif ($(subTable).find('.' + pfx + 'datatable').length === 0) {\r\n\t\t\t\t\t\t// get data by primary id\r\n\t\t\t\t\t\t$.map(datatable.dataSet, function(n, i) {\r\n\t\t\t\t\t\t\t// primary id must be at the first column, otherwise e.data will be undefined\r\n\t\t\t\t\t\t\tif (primaryKey === n[options.columns[0].field]) {\r\n\t\t\t\t\t\t\t\te.data = n;\r\n\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// deprecated in v5.0.6\r\n\t\t\t\t\t\te.detailCell = subTable;\r\n\r\n\t\t\t\t\t\te.parentRow = parentRow;\r\n\t\t\t\t\t\te.subTable = subTable;\r\n\r\n\t\t\t\t\t\t// run callback with event\r\n\t\t\t\t\t\tsubTableCallback(e);\r\n\r\n\t\t\t\t\t\t$(subTable).children('.' + pfx + 'datatable').on(pfx + 'datatable--on-init', function(e) {\r\n\t\t\t\t\t\t\t$(subTableRow).removeClass(pfx + 'datatable__row-loading');\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (Plugin.getOption('data.type') === 'local') {\r\n\t\t\t\t\t\t\t$(subTableRow).removeClass(pfx + 'datatable__row-loading');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar columns = options.columns;\r\n\t\t\t\t$(datatable.tableBody).find('.' + pfx + 'datatable__row').each(function(tri, tr) {\r\n\t\t\t\t\t$(tr).find('.' + pfx + 'datatable__cell').each(function(tdi, td) {\r\n\t\t\t\t\t\t// get column settings by field\r\n\t\t\t\t\t\tvar column = $.grep(columns, function(n, i) {\r\n\t\t\t\t\t\t\treturn $(td).data('field') === n.field;\r\n\t\t\t\t\t\t})[0];\r\n\t\t\t\t\t\tif (typeof column !== 'undefined') {\r\n\t\t\t\t\t\t\tvar value = $(td).text();\r\n\t\t\t\t\t\t\t// enable column subtable toggle\r\n\t\t\t\t\t\t\tif (typeof column.subtable !== 'undefined' && column.subtable) {\r\n\t\t\t\t\t\t\t\t// check if subtable toggle exist\r\n\t\t\t\t\t\t\t\tif ($(td).find('.' + pfx + 'datatable__toggle-subtable').length > 0) return;\r\n\t\t\t\t\t\t\t\t// append subtable toggle\r\n\t\t\t\t\t\t\t\t$(td).\r\n\t\t\t\t\t\t\t\t\thtml($('<a/>').\r\n\t\t\t\t\t\t\t\t\t\taddClass(pfx + 'datatable__toggle-subtable').\r\n\t\t\t\t\t\t\t\t\t\tattr('href', '#').\r\n\t\t\t\t\t\t\t\t\t\tattr('data-value', value).\r\n\t\t\t\t\t\t\t\t\t\tattr('title', Plugin.getOption('detail.title')).\r\n\t\t\t\t\t\t\t\t\t\ton('click', toggleSubTable).\r\n\t\t\t\t\t\t\t\t\t\tappend($('<i/>').css('width', $(td).data('width')).addClass(Plugin.getOption('layout.icons.rowDetail.collapse'))));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// $(datatable.tableHead).find('.'+pfx+'-datatable__row').first()\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Datasource mapping callback\r\n\t\t\t */\r\n\t\t\tdataMapCallback: function(raw) {\r\n\t\t\t\t// static dataset array\r\n\t\t\t\tvar dataSet = raw;\r\n\t\t\t\t// dataset mapping callback\r\n\t\t\t\tif (typeof Plugin.getOption('data.source.read.map') === 'function') {\r\n\t\t\t\t\treturn Plugin.getOption('data.source.read.map')(raw);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// default data mapping fallback\r\n\t\t\t\t\tif (typeof raw !== 'undefined' && typeof raw.data !== 'undefined') {\r\n\t\t\t\t\t\tdataSet = raw.data;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn dataSet;\r\n\t\t\t},\r\n\r\n\t\t\tisSpinning: false,\r\n\t\t\t/**\r\n\t\t\t * BlockUI spinner callback\r\n\t\t\t * @param block\r\n\t\t\t * @param target\r\n\t\t\t */\r\n\t\t\tspinnerCallback: function(block, target) {\r\n\t\t\t\tif (typeof target === 'undefined') target = datatable;\r\n\t\t\t\t// get spinner options\r\n\t\t\t\tvar spinnerOptions = Plugin.getOption('layout.spinner');\r\n\t\t\t\t// spinner is disabled\r\n\t\t\t\tif (typeof spinnerOptions === 'undefined' || !spinnerOptions) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (block) {\r\n\t\t\t\t\tif (!Plugin.isSpinning) {\r\n\t\t\t\t\t\tif (typeof spinnerOptions.message !== 'undefined' && spinnerOptions.message === true) {\r\n\t\t\t\t\t\t\t// use default spinner message from translation\r\n\t\t\t\t\t\t\tspinnerOptions.message = Plugin.getOption('translate.records.processing');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tPlugin.isSpinning = true;\r\n\t\t\t\t\t\tif (typeof app !== 'undefined') {\r\n\t\t\t\t\t\t\tapp.block(target, spinnerOptions);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tPlugin.isSpinning = false;\r\n\t\t\t\t\tif (typeof app !== 'undefined') {\r\n\t\t\t\t\t\tapp.unblock(target);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Default sort callback function\r\n\t\t\t * @param data\r\n\t\t\t * @param sort\r\n\t\t\t * @param column\r\n\t\t\t * @returns {*|Array.<T>|{sort, field}|{asc, desc}}\r\n\t\t\t */\r\n\t\t\tsortCallback: function(data, sort, column) {\r\n\t\t\t\tvar type = column['type'] || 'string';\r\n\t\t\t\tvar format = column['format'] || '';\r\n\t\t\t\tvar field = column['field'];\r\n\r\n\t\t\t\treturn $(data).sort(function(a, b) {\r\n\t\t\t\t\tvar aField = a[field];\r\n\t\t\t\t\tvar bField = b[field];\r\n\r\n\t\t\t\t\tswitch (type) {\r\n\t\t\t\t\t\tcase 'date':\r\n\t\t\t\t\t\t\tif (typeof moment === 'undefined') {\r\n\t\t\t\t\t\t\t\tthrow new Error('Moment.js is required.');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvar diff = moment(aField, format).diff(moment(bField, format));\r\n\t\t\t\t\t\t\tif (sort === 'asc') {\r\n\t\t\t\t\t\t\t\treturn diff > 0 ? 1 : diff < 0 ? -1 : 0;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn diff < 0 ? 1 : diff > 0 ? -1 : 0;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'number':\r\n\t\t\t\t\t\t\tif (isNaN(parseFloat(aField)) && aField != null) {\r\n\t\t\t\t\t\t\t\taField = Number(aField.replace(/[^0-9\\.-]+/g, ''));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (isNaN(parseFloat(bField)) && bField != null) {\r\n\t\t\t\t\t\t\t\tbField = Number(bField.replace(/[^0-9\\.-]+/g, ''));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\taField = parseFloat(aField);\r\n\t\t\t\t\t\t\tbField = parseFloat(bField);\r\n\t\t\t\t\t\t\tif (sort === 'asc') {\r\n\t\t\t\t\t\t\t\treturn aField > bField ? 1 : aField < bField ? -1 : 0;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn aField < bField ? 1 : aField > bField ? -1 : 0;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'string':\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tif (sort === 'asc') {\r\n\t\t\t\t\t\t\t\treturn aField > bField ? 1 : aField < bField ? -1 : 0;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn aField < bField ? 1 : aField > bField ? -1 : 0;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Custom debug log\r\n\t\t\t * @param text\r\n\t\t\t * @param obj\r\n\t\t\t */\r\n\t\t\tlog: function(text, obj) {\r\n\t\t\t\tif (typeof obj === 'undefined') obj = '';\r\n\t\t\t\tif (datatable.debug) {\r\n\t\t\t\t\tconsole.log(text, obj);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Auto hide columnds overflow in row\r\n\t\t\t */\r\n\t\t\tautoHide: function() {\r\n\t\t\t\tvar hiddenExist = false;\r\n\t\t\t\t$(datatable.table).find('.' + pfx + 'datatable__cell').show();\r\n\r\n\t\t\t\t// force hide enabled\r\n\t\t\t\tvar hidDefault = $(datatable.table).find('[data-autohide-enabled]');\r\n\t\t\t\tif (hidDefault.length) {\r\n\t\t\t\t\thiddenExist = true;\r\n\t\t\t\t\thidDefault.hide();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$(datatable.tableBody).each(function() {\r\n\t\t\t\t\twhile ($(this)[0].offsetWidth < $(this)[0].scrollWidth) {\r\n\t\t\t\t\t\t$(datatable.table).find('.' + pfx + 'datatable__row').each(function(i) {\r\n\t\t\t\t\t\t\tvar cell = $(this).find('.' + pfx + 'datatable__cell').not(':hidden').not('[data-autohide-disabled]').last();\r\n\t\t\t\t\t\t\t$(cell).hide();\r\n\t\t\t\t\t\t\thiddenExist = true;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (!hiddenExist) {\r\n\t\t\t\t\t// no column is hidden, skip expand icons\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar toggleHiddenColumns = function(e) {\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tvar row = $(this).closest('.' + pfx + 'datatable__row');\r\n\t\t\t\t\tvar detailRow = $(row).next();\r\n\r\n\t\t\t\t\tif (!$(detailRow).hasClass(pfx + 'datatable__row-detail')) {\r\n\t\t\t\t\t\t$(this).find('i').removeClass(Plugin.getOption('layout.icons.rowDetail.collapse')).addClass(Plugin.getOption('layout.icons.rowDetail.expand'));\r\n\r\n\t\t\t\t\t\tvar hidden = $(row).find('.' + pfx + 'datatable__cell:hidden').clone().show();\r\n\r\n\t\t\t\t\t\tdetailRow = $('<tr/>').addClass(pfx + 'datatable__row-detail').insertAfter(row);\r\n\t\t\t\t\t\tvar detailRowTd = $('<td/>').addClass(pfx + 'datatable__detail').attr('colspan', Plugin.getTotalColumns()).appendTo(detailRow);\r\n\r\n\t\t\t\t\t\tvar detailSubTable = $('<table/>');\r\n\t\t\t\t\t\t$(hidden).each(function() {\r\n\t\t\t\t\t\t\tvar field = $(this).data('field');\r\n\t\t\t\t\t\t\tvar column = $.grep(options.columns, function(n, i) {\r\n\t\t\t\t\t\t\t\treturn field === n.field;\r\n\t\t\t\t\t\t\t})[0];\r\n\t\t\t\t\t\t\t$(detailSubTable).\r\n\t\t\t\t\t\t\t\tappend($('<tr class=\"' + pfx + 'datatable__row\"></tr>').\r\n\t\t\t\t\t\t\t\t\tappend($('<td class=\"' + pfx + 'datatable__cell\"></td>').append($('<span/>').append(column.title))).\r\n\t\t\t\t\t\t\t\t\tappend(this));\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t$(detailRowTd).append(detailSubTable);\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$(this).find('i').removeClass(Plugin.getOption('layout.icons.rowDetail.expand')).addClass(Plugin.getOption('layout.icons.rowDetail.collapse'));\r\n\t\t\t\t\t\t$(detailRow).remove();\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// toggle show hidden columns\r\n\t\t\t\t$(datatable.tableBody).find('.' + pfx + 'datatable__row').each(function() {\r\n\t\t\t\t\t$(this).\r\n\t\t\t\t\t\tprepend($('<td/>').\r\n\t\t\t\t\t\t\taddClass(pfx + 'datatable__cell ' + pfx + 'datatable__toggle-detail').\r\n\t\t\t\t\t\t\tappend($('<a/>').\r\n\t\t\t\t\t\t\t\taddClass(pfx + 'datatable__toggle-detail').\r\n\t\t\t\t\t\t\t\tattr('href', '').\r\n\t\t\t\t\t\t\t\ton('click', toggleHiddenColumns).\r\n\t\t\t\t\t\t\t\tappend('<i class=\"' + Plugin.getOption('layout.icons.rowDetail.collapse') + '\"></i>')));\r\n\r\n\t\t\t\t\t// check if subtable toggle exist\r\n\t\t\t\t\tif ($(datatable.tableHead).find('.' + pfx + 'datatable__toggle-detail').length === 0) {\r\n\t\t\t\t\t\t$(datatable.tableHead).\r\n\t\t\t\t\t\t\tfind('.' + pfx + 'datatable__row').\r\n\t\t\t\t\t\t\tfirst().\r\n\t\t\t\t\t\t\tprepend('<th class=\"' + pfx + 'datatable__cell ' + pfx + 'datatable__toggle-detail\"><span></span></th>');\r\n\t\t\t\t\t\t$(datatable.tableFoot).\r\n\t\t\t\t\t\t\tfind('.' + pfx + 'datatable__row').\r\n\t\t\t\t\t\t\tfirst().\r\n\t\t\t\t\t\t\tprepend('<th class=\"' + pfx + 'datatable__cell ' + pfx + 'datatable__toggle-detail\"><span></span></th>');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$(datatable.tableHead).find('.' + pfx + 'datatable__toggle-detail').find('span');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tPlugin.adjustCellsWidth.call();\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * To enable auto columns features for remote data source\r\n\t\t\t */\r\n\t\t\tsetAutoColumns: function() {\r\n\t\t\t\tif (Plugin.getOption('data.autoColumns')) {\r\n\t\t\t\t\t$.each(datatable.dataSet[0], function(k, v) {\r\n\t\t\t\t\t\tvar found = $.grep(options.columns, function(n, i) {\r\n\t\t\t\t\t\t\treturn k === n.field;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (found.length === 0) {\r\n\t\t\t\t\t\t\toptions.columns.push({field: k, title: k});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t$(datatable.tableHead).find('.' + pfx + 'datatable__row').remove();\r\n\t\t\t\t\tPlugin.setHeadTitle();\r\n\t\t\t\t\tif (Plugin.getOption('layout.footer')) {\r\n\t\t\t\t\t\t$(datatable.tableFoot).find('.' + pfx + 'datatable__row').remove();\r\n\t\t\t\t\t\tPlugin.setHeadTitle(datatable.tableFoot);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/********************\r\n\t\t\t ** HELPERS\r\n\t\t\t ********************/\r\n\r\n\t\t\t/**\r\n\t\t\t * Check if table is a locked colums table\r\n\t\t\t */\r\n\t\t\tisLocked: function() {\r\n\t\t\t\treturn util.hasClass(datatable.wrap[0], pfx + 'datatable--lock') || false;\r\n\t\t\t},\r\n\r\n\t\t\tisSubtable: function() {\r\n\t\t\t\treturn util.hasClass(datatable.wrap[0], pfx + 'datatable--subtable') || false;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get total extra space of an element for width calculation, including\r\n\t\t\t * padding, margin, border\r\n\t\t\t * @param element\r\n\t\t\t * @returns {number}\r\n\t\t\t */\r\n\t\t\tgetExtraSpace: function(element) {\r\n\t\t\t\tvar padding = parseInt($(element).css('paddingRight')) +\r\n\t\t\t\t\tparseInt($(element).css('paddingLeft'));\r\n\t\t\t\tvar margin = parseInt($(element).css('marginRight')) +\r\n\t\t\t\t\tparseInt($(element).css('marginLeft'));\r\n\t\t\t\tvar border = Math.ceil(\r\n\t\t\t\t\t$(element).css('border-right-width').replace('px', ''));\r\n\t\t\t\treturn padding + margin + border;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Insert data of array into {{ }} template placeholder\r\n\t\t\t * @param template\r\n\t\t\t * @param data\r\n\t\t\t * @returns {*}\r\n\t\t\t */\r\n\t\t\tdataPlaceholder: function(template, data) {\r\n\t\t\t\tvar result = template;\r\n\t\t\t\t$.each(data, function(key, val) {\r\n\t\t\t\t\tresult = result.replace('{{' + key + '}}', val);\r\n\t\t\t\t});\r\n\t\t\t\treturn result;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get table unique ID\r\n\t\t\t * Note: table unique change each time refreshed\r\n\t\t\t * @param suffix\r\n\t\t\t * @returns {*}\r\n\t\t\t */\r\n\t\t\tgetTableId: function(suffix) {\r\n\t\t\t\tif (typeof suffix === 'undefined') suffix = '';\r\n\t\t\t\tvar id = $(datatable).attr('id');\r\n\t\t\t\tif (typeof id === 'undefined') {\r\n\t\t\t\t\tid = $(datatable).attr('class').split(' ')[0];\r\n\t\t\t\t}\r\n\t\t\t\treturn id + suffix;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get table prefix with depth number\r\n\t\t\t */\r\n\t\t\tgetTablePrefix: function(suffix) {\r\n\t\t\t\tif (typeof suffix !== 'undefined') suffix = '-' + suffix;\r\n\t\t\t\treturn Plugin.getTableId() + '-' + Plugin.getDepth() + suffix;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get current table depth of sub table\r\n\t\t\t * @returns {number}\r\n\t\t\t */\r\n\t\t\tgetDepth: function() {\r\n\t\t\t\tvar depth = 0;\r\n\t\t\t\tvar table = datatable.table;\r\n\t\t\t\tdo {\r\n\t\t\t\t\ttable = $(table).parents('.' + pfx + 'datatable__table');\r\n\t\t\t\t\tdepth++;\r\n\t\t\t\t} while ($(table).length > 0);\r\n\t\t\t\treturn depth;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Keep state item\r\n\t\t\t * @param key\r\n\t\t\t * @param value\r\n\t\t\t */\r\n\t\t\tstateKeep: function(key, value) {\r\n\t\t\t\tkey = Plugin.getTablePrefix(key);\r\n\t\t\t\tif (Plugin.getOption('data.saveState') === false) return;\r\n\t\t\t\tif (Plugin.getOption('data.saveState.webstorage') && localStorage) {\r\n\t\t\t\t\tlocalStorage.setItem(key, JSON.stringify(value));\r\n\t\t\t\t}\r\n\t\t\t\tif (Plugin.getOption('data.saveState.cookie')) {\r\n\t\t\t\t\tCookies.set(key, JSON.stringify(value));\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get state item\r\n\t\t\t * @param key\r\n\t\t\t * @param defValue\r\n\t\t\t */\r\n\t\t\tstateGet: function(key, defValue) {\r\n\t\t\t\tkey = Plugin.getTablePrefix(key);\r\n\t\t\t\tif (Plugin.getOption('data.saveState') === false) return;\r\n\t\t\t\tvar value = null;\r\n\t\t\t\tif (Plugin.getOption('data.saveState.webstorage') && localStorage) {\r\n\t\t\t\t\tvalue = localStorage.getItem(key);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvalue = Cookies.get(key);\r\n\t\t\t\t}\r\n\t\t\t\tif (typeof value !== 'undefined' && value !== null) {\r\n\t\t\t\t\treturn JSON.parse(value);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Update data in state without clear existing\r\n\t\t\t * @param key\r\n\t\t\t * @param value\r\n\t\t\t */\r\n\t\t\tstateUpdate: function(key, value) {\r\n\t\t\t\tvar ori = Plugin.stateGet(key);\r\n\t\t\t\tif (typeof ori === 'undefined' || ori === null) ori = {};\r\n\t\t\t\tPlugin.stateKeep(key, $.extend({}, ori, value));\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Remove state item\r\n\t\t\t * @param key\r\n\t\t\t */\r\n\t\t\tstateRemove: function(key) {\r\n\t\t\t\tkey = Plugin.getTablePrefix(key);\r\n\t\t\t\tif (localStorage) {\r\n\t\t\t\t\tlocalStorage.removeItem(key);\r\n\t\t\t\t}\r\n\t\t\t\tCookies.remove(key);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get total columns.\r\n\t\t\t */\r\n\t\t\tgetTotalColumns: function(tablePart) {\r\n\t\t\t\tif (typeof tablePart === 'undefined') tablePart = datatable.tableBody;\r\n\t\t\t\treturn $(tablePart).find('.' + pfx + 'datatable__row').first().find('.' + pfx + 'datatable__cell').length;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get table row. Useful to get row when current table is in lock mode.\r\n\t\t\t * Can be used for both lock and normal table mode.\r\n\t\t\t * By default, returning result will be in a list of <td>.\r\n\t\t\t * @param tablePart\r\n\t\t\t * @param row 1-based index\r\n\t\t\t * @param tdOnly Optional. Default true\r\n\t\t\t * @returns {*}\r\n\t\t\t */\r\n\t\t\tgetOneRow: function(tablePart, row, tdOnly) {\r\n\t\t\t\tif (typeof tdOnly === 'undefined') tdOnly = true;\r\n\t\t\t\t// get list of <tr>\r\n\t\t\t\tvar result = $(tablePart).find('.' + pfx + 'datatable__row:not(.' + pfx + 'datatable__row-detail):nth-child(' + row + ')');\r\n\t\t\t\tif (tdOnly) {\r\n\t\t\t\t\t// get list of <td> or <th>\r\n\t\t\t\t\tresult = result.find('.' + pfx + 'datatable__cell');\r\n\t\t\t\t}\r\n\t\t\t\treturn result;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Check if element has vertical overflow\r\n\t\t\t * @param element\r\n\t\t\t * @returns {boolean}\r\n\t\t\t */\r\n\t\t\thasOverflowY: function(element) {\r\n\t\t\t\tvar children = $(element).find('.' + pfx + 'datatable__row');\r\n\t\t\t\tvar maxHeight = 0;\r\n\r\n\t\t\t\tif (children.length > 0) {\r\n\t\t\t\t\t$(children).each(function(tdi, td) {\r\n\t\t\t\t\t\tmaxHeight += Math.floor($(td).innerHeight());\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\treturn maxHeight > $(element).innerHeight();\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Sort table row at HTML level by column index.\r\n\t\t\t * todo; Not in use.\r\n\t\t\t * @param header Header sort clicked\r\n\t\t\t * @param sort asc|desc. Optional. Default asc\r\n\t\t\t * @param int Boolean. Optional. Comparison value parse to integer.\r\n\t\t\t *     Default false\r\n\t\t\t */\r\n\t\t\tsortColumn: function(header, sort, int) {\r\n\t\t\t\tif (typeof sort === 'undefined') sort = 'asc'; // desc\r\n\t\t\t\tif (typeof int === 'undefined') int = false;\r\n\r\n\t\t\t\tvar column = $(header).index();\r\n\t\t\t\tvar rows = $(datatable.tableBody).find('.' + pfx + 'datatable__row');\r\n\t\t\t\tvar hIndex = $(header).closest('.' + pfx + 'datatable__lock').index();\r\n\t\t\t\tif (hIndex !== -1) {\r\n\t\t\t\t\trows = $(datatable.tableBody).find('.' + pfx + 'datatable__lock:nth-child(' + (hIndex + 1) + ')').find('.' + pfx + 'datatable__row');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar container = $(rows).parent();\r\n\t\t\t\t$(rows).sort(function(a, b) {\r\n\t\t\t\t\tvar tda = $(a).find('td:nth-child(' + column + ')').text();\r\n\t\t\t\t\tvar tdb = $(b).find('td:nth-child(' + column + ')').text();\r\n\r\n\t\t\t\t\tif (int) {\r\n\t\t\t\t\t\t// useful for integer type sorting\r\n\t\t\t\t\t\ttda = parseInt(tda);\r\n\t\t\t\t\t\ttdb = parseInt(tdb);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (sort === 'asc') {\r\n\t\t\t\t\t\treturn tda > tdb ? 1 : tda < tdb ? -1 : 0;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn tda < tdb ? 1 : tda > tdb ? -1 : 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}).appendTo(container);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Perform sort remote and local\r\n\t\t\t */\r\n\t\t\tsorting: function() {\r\n\t\t\t\tvar sortObj = {\r\n\t\t\t\t\tinit: function() {\r\n\t\t\t\t\t\tif (options.sortable) {\r\n\t\t\t\t\t\t\t$(datatable.tableHead).\r\n\t\t\t\t\t\t\t\tfind('.' + pfx + 'datatable__cell:not(.' + pfx + 'datatable__cell--check)').\r\n\t\t\t\t\t\t\t\taddClass(pfx + 'datatable__cell--sort').\r\n\t\t\t\t\t\t\t\toff('click').\r\n\t\t\t\t\t\t\t\ton('click', sortObj.sortClick);\r\n\t\t\t\t\t\t\t// first init\r\n\t\t\t\t\t\t\tsortObj.setIcon();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsetIcon: function() {\r\n\t\t\t\t\t\tvar meta = Plugin.getDataSourceParam('sort');\r\n\t\t\t\t\t\tif ($.isEmptyObject(meta)) return;\r\n\r\n\t\t\t\t\t\tvar column = Plugin.getColumnByField(meta.field);\r\n\t\t\t\t\t\t// sort is disabled for this column\r\n\t\t\t\t\t\tif (typeof column !== 'undefined' && typeof column.sortable !== 'undefined' && column.sortable === false) return;\r\n\r\n\t\t\t\t\t\t// sort icon beside column header\r\n\t\t\t\t\t\tvar td = $(datatable.tableHead).find('.' + pfx + 'datatable__cell[data-field=\"' + meta.field + '\"]').attr('data-sort', meta.sort);\r\n\t\t\t\t\t\tvar sorting = $(td).find('span');\r\n\t\t\t\t\t\tvar icon = $(sorting).find('i');\r\n\r\n\t\t\t\t\t\tvar icons = Plugin.getOption('layout.icons.sort');\r\n\t\t\t\t\t\t// update sort icon; desc & asc\r\n\t\t\t\t\t\tif ($(icon).length > 0) {\r\n\t\t\t\t\t\t\t$(icon).removeAttr('class').addClass(icons[meta.sort]);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$(sorting).append($('<i/>').addClass(icons[meta.sort]));\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// set sorted class to header on init\r\n\t\t\t\t\t\t$(td).addClass(pfx + 'datatable__cell--sorted');\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsortClick: function(e) {\r\n\t\t\t\t\t\tvar meta = Plugin.getDataSourceParam('sort');\r\n\t\t\t\t\t\tvar field = $(this).data('field');\r\n\t\t\t\t\t\tvar column = Plugin.getColumnByField(field);\r\n\t\t\t\t\t\t// sort is disabled for this column\r\n\t\t\t\t\t\tif (typeof column.sortable !== 'undefined' && column.sortable === false) return;\r\n\r\n\t\t\t\t\t\t// set sorted class to header\r\n\t\t\t\t\t\t$(datatable.tableHead).find('th').removeClass(pfx + 'datatable__cell--sorted');\r\n\t\t\t\t\t\tutil.addClass(this, pfx + 'datatable__cell--sorted');\r\n\r\n\t\t\t\t\t\t$(datatable.tableHead).find('.' + pfx + 'datatable__cell > span > i').remove();\r\n\r\n\t\t\t\t\t\tif (options.sortable) {\r\n\t\t\t\t\t\t\tPlugin.spinnerCallback(true);\r\n\r\n\t\t\t\t\t\t\tvar sort = 'desc';\r\n\t\t\t\t\t\t\tif (Plugin.getObject('field', meta) === field) {\r\n\t\t\t\t\t\t\t\tsort = Plugin.getObject('sort', meta);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// toggle sort\r\n\t\t\t\t\t\t\tsort = typeof sort === 'undefined' || sort === 'desc'\r\n\t\t\t\t\t\t\t\t? 'asc'\r\n\t\t\t\t\t\t\t\t: 'desc';\r\n\r\n\t\t\t\t\t\t\t// update field and sort params\r\n\t\t\t\t\t\t\tmeta = {field: field, sort: sort};\r\n\t\t\t\t\t\t\tPlugin.setDataSourceParam('sort', meta);\r\n\r\n\t\t\t\t\t\t\tsortObj.setIcon();\r\n\r\n\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\tPlugin.dataRender('sort');\r\n\t\t\t\t\t\t\t\t$(datatable).trigger(pfx + 'datatable--on-sort', meta);\r\n\t\t\t\t\t\t\t}, 300);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t\tsortObj.init();\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Update JSON data list linked with sort, filter and pagination.\r\n\t\t\t * Call this method, before using dataSet variable.\r\n\t\t\t * @returns {*|null}\r\n\t\t\t */\r\n\t\t\tlocalDataUpdate: function() {\r\n\t\t\t\tvar params = Plugin.getDataSourceParam();\r\n\t\t\t\tif (typeof datatable.originalDataSet === 'undefined') {\r\n\t\t\t\t\tdatatable.originalDataSet = datatable.dataSet;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar field = Plugin.getObject('sort.field', params);\r\n\t\t\t\tvar sort = Plugin.getObject('sort.sort', params);\r\n\t\t\t\tvar column = Plugin.getColumnByField(field);\r\n\t\t\t\tif (typeof column !== 'undefined' && Plugin.getOption('data.serverSorting') !== true) {\r\n\t\t\t\t\tif (typeof column.sortCallback === 'function') {\r\n\t\t\t\t\t\tdatatable.dataSet = column.sortCallback(datatable.originalDataSet, sort, column);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdatatable.dataSet = Plugin.sortCallback(datatable.originalDataSet, sort, column);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdatatable.dataSet = datatable.originalDataSet;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// if server filter enable, don't pass local filter\r\n\t\t\t\tif (typeof params.query === 'object' && !Plugin.getOption('data.serverFiltering')) {\r\n\t\t\t\t\tparams.query = params.query || {};\r\n\r\n\t\t\t\t\tvar nestedSearch = function(obj) {\r\n\t\t\t\t\t\tfor (var field in obj) {\r\n\t\t\t\t\t\t\tif (!obj.hasOwnProperty(field)) continue;\r\n\t\t\t\t\t\t\tif (typeof obj[field] === 'string') {\r\n\t\t\t\t\t\t\t\tif (obj[field].toLowerCase() == search || obj[field].toLowerCase().indexOf(search) !== -1) {\r\n\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if (typeof obj[field] === 'number') {\r\n\t\t\t\t\t\t\t\tif (obj[field] === search) {\r\n\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if (typeof obj[field] === 'object') {\r\n\t\t\t\t\t\t\t\tif (nestedSearch(obj[field])) {\r\n\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tvar search = $(Plugin.getOption('search.input')).val();\r\n\t\t\t\t\tif (typeof search !== 'undefined' && search !== '') {\r\n\t\t\t\t\t\tsearch = search.toLowerCase();\r\n\t\t\t\t\t\tdatatable.dataSet = $.grep(datatable.dataSet, nestedSearch);\r\n\t\t\t\t\t\t// remove generalSearch as we don't need this for next columns filter\r\n\t\t\t\t\t\tdelete params.query[Plugin.getGeneralSearchKey()];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// remove empty element from array\r\n\t\t\t\t\t$.each(params.query, function(k, v) {\r\n\t\t\t\t\t\tif (v === '') {\r\n\t\t\t\t\t\t\tdelete params.query[k];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// filter array by query\r\n\t\t\t\t\tdatatable.dataSet = Plugin.filterArray(datatable.dataSet, params.query);\r\n\r\n\t\t\t\t\t// reset array index\r\n\t\t\t\t\tdatatable.dataSet = datatable.dataSet.filter(function() {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn datatable.dataSet;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Utility helper to filter array by object pair of {key:value}\r\n\t\t\t * @param list\r\n\t\t\t * @param args\r\n\t\t\t * @param operator\r\n\t\t\t * @returns {*}\r\n\t\t\t */\r\n\t\t\tfilterArray: function(list, args, operator) {\r\n\t\t\t\tif (typeof list !== 'object') {\r\n\t\t\t\t\treturn [];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (typeof operator === 'undefined') operator = 'AND';\r\n\r\n\t\t\t\tif (typeof args !== 'object') {\r\n\t\t\t\t\treturn list;\r\n\t\t\t\t}\r\n\r\n\t\t\t\toperator = operator.toUpperCase();\r\n\r\n\t\t\t\tif ($.inArray(operator, ['AND', 'OR', 'NOT']) === -1) {\r\n\t\t\t\t\treturn [];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar count = Object.keys(args).length;\r\n\t\t\t\tvar filtered = [];\r\n\r\n\t\t\t\t$.each(list, function(key, obj) {\r\n\t\t\t\t\tvar to_match = obj;\r\n\r\n\t\t\t\t\tvar matched = 0;\r\n\t\t\t\t\t$.each(args, function(m_key, m_value) {\r\n\t\t\t\t\t\tm_value = m_value instanceof Array ? m_value : [m_value];\r\n\t\t\t\t\t\tvar match_property = Plugin.getObject(m_key, to_match);\r\n\t\t\t\t\t\tif (typeof match_property !== 'undefined') {\r\n\t\t\t\t\t\t\tvar lhs = match_property.toString().toLowerCase();\r\n\t\t\t\t\t\t\tm_value.forEach(function(item, index) {\r\n\t\t\t\t\t\t\t\tif (item.toString().toLowerCase() == lhs || lhs.indexOf(item.toString().toLowerCase()) !== -1) {\r\n\t\t\t\t\t\t\t\t\tmatched++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (('AND' == operator && matched == count) ||\r\n\t\t\t\t\t\t('OR' == operator && matched > 0) ||\r\n\t\t\t\t\t\t('NOT' == operator && 0 == matched)) {\r\n\t\t\t\t\t\tfiltered[key] = obj;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tlist = filtered;\r\n\r\n\t\t\t\treturn list;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Reset lock column scroll to 0 when resize\r\n\t\t\t */\r\n\t\t\tresetScroll: function() {\r\n\t\t\t\tif (typeof options.detail === 'undefined' && Plugin.getDepth() === 1) {\r\n\t\t\t\t\t$(datatable.table).find('.' + pfx + 'datatable__row').css('left', 0);\r\n\t\t\t\t\t$(datatable.table).find('.' + pfx + 'datatable__lock').css('top', 0);\r\n\t\t\t\t\t$(datatable.tableBody).scrollTop(0);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get column options by field\r\n\t\t\t * @param field\r\n\t\t\t * @returns {boolean}\r\n\t\t\t */\r\n\t\t\tgetColumnByField: function(field) {\r\n\t\t\t\tif (typeof field === 'undefined') return;\r\n\t\t\t\tvar result;\r\n\t\t\t\t$.each(options.columns, function(i, column) {\r\n\t\t\t\t\tif (field === column.field) {\r\n\t\t\t\t\t\tresult = column;\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn result;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get default sort column\r\n\t\t\t */\r\n\t\t\tgetDefaultSortColumn: function() {\r\n\t\t\t\tvar result;\r\n\t\t\t\t$.each(options.columns, function(i, column) {\r\n\t\t\t\t\tif (typeof column.sortable !== 'undefined'\r\n\t\t\t\t\t\t&& $.inArray(column.sortable, ['asc', 'desc']) !== -1) {\r\n\t\t\t\t\t\tresult = {sort: column.sortable, field: column.field};\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn result;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Helper to get element dimensions, when the element is hidden\r\n\t\t\t * @param element\r\n\t\t\t * @param includeMargin\r\n\t\t\t * @returns {{width: number, height: number, innerWidth: number,\r\n\t\t\t *     innerHeight: number, outerWidth: number, outerHeight: number}}\r\n\t\t\t */\r\n\t\t\tgetHiddenDimensions: function(element, includeMargin) {\r\n\t\t\t\tvar props = {\r\n\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\tvisibility: 'hidden',\r\n\t\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdim = {\r\n\t\t\t\t\t\twidth: 0,\r\n\t\t\t\t\t\theight: 0,\r\n\t\t\t\t\t\tinnerWidth: 0,\r\n\t\t\t\t\t\tinnerHeight: 0,\r\n\t\t\t\t\t\touterWidth: 0,\r\n\t\t\t\t\t\touterHeight: 0,\r\n\t\t\t\t\t},\r\n\t\t\t\t\thiddenParents = $(element).parents().addBack().not(':visible');\r\n\t\t\t\tincludeMargin = (typeof includeMargin === 'boolean')\r\n\t\t\t\t\t? includeMargin\r\n\t\t\t\t\t: false;\r\n\r\n\t\t\t\tvar oldProps = [];\r\n\t\t\t\thiddenParents.each(function() {\r\n\t\t\t\t\tvar old = {};\r\n\r\n\t\t\t\t\tfor (var name in props) {\r\n\t\t\t\t\t\told[name] = this.style[name];\r\n\t\t\t\t\t\tthis.style[name] = props[name];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\toldProps.push(old);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tdim.width = $(element).width();\r\n\t\t\t\tdim.outerWidth = $(element).outerWidth(includeMargin);\r\n\t\t\t\tdim.innerWidth = $(element).innerWidth();\r\n\t\t\t\tdim.height = $(element).height();\r\n\t\t\t\tdim.innerHeight = $(element).innerHeight();\r\n\t\t\t\tdim.outerHeight = $(element).outerHeight(includeMargin);\r\n\r\n\t\t\t\thiddenParents.each(function(i) {\r\n\t\t\t\t\tvar old = oldProps[i];\r\n\t\t\t\t\tfor (var name in props) {\r\n\t\t\t\t\t\tthis.style[name] = old[name];\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn dim;\r\n\t\t\t},\r\n\r\n\t\t\tgetGeneralSearchKey: function() {\r\n\t\t\t\tvar searchInput = $(Plugin.getOption('search.input'));\r\n\t\t\t\treturn $(searchInput).prop('name') || $(searchInput).prop('id');\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get value by dot notation path string and to prevent undefined errors\r\n\t\t\t * @param path String Dot notation path in string\r\n\t\t\t * @param object Object to iterate\r\n\t\t\t * @returns {*}\r\n\t\t\t */\r\n\t\t\tgetObject: function(path, object) {\r\n\t\t\t\treturn path.split('.').reduce(function(obj, i) {\r\n\t\t\t\t\treturn obj !== null && typeof obj[i] !== 'undefined' ? obj[i] : null;\r\n\t\t\t\t}, object);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Extend object\r\n\t\t\t * @param obj\r\n\t\t\t * @param path\r\n\t\t\t * @param value\r\n\t\t\t * @returns {*}\r\n\t\t\t */\r\n\t\t\textendObj: function(obj, path, value) {\r\n\t\t\t\tvar levels = path.split('.'),\r\n\t\t\t\t\ti = 0;\r\n\r\n\t\t\t\tfunction createLevel(child) {\r\n\t\t\t\t\tvar name = levels[i++];\r\n\t\t\t\t\tif (typeof child[name] !== 'undefined' && child[name] !== null) {\r\n\t\t\t\t\t\tif (typeof child[name] !== 'object' &&\r\n\t\t\t\t\t\t\ttypeof child[name] !== 'function') {\r\n\t\t\t\t\t\t\tchild[name] = {};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tchild[name] = {};\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (i === levels.length) {\r\n\t\t\t\t\t\tchild[name] = value;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcreateLevel(child[name]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcreateLevel(obj);\r\n\t\t\t\treturn obj;\r\n\t\t\t},\r\n\r\n\t\t\trowEvenOdd: function() {\r\n\t\t\t\t// row even class\r\n\t\t\t\t$(datatable.tableBody).find('.' + pfx + 'datatable__row').removeClass(pfx + 'datatable__row--even');\r\n\t\t\t\tif ($(datatable.wrap).hasClass(pfx + 'datatable--subtable')) {\r\n\t\t\t\t\t$(datatable.tableBody).find('.' + pfx + 'datatable__row:not(.' + pfx + 'datatable__row-detail):even').addClass(pfx + 'datatable__row--even');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$(datatable.tableBody).find('.' + pfx + 'datatable__row:nth-child(even)').addClass(pfx + 'datatable__row--even');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/********************\r\n\t\t\t ** PUBLIC API METHODS\r\n\t\t\t ********************/\r\n\r\n\t\t\t// delay timer\r\n\t\t\ttimer: 0,\r\n\r\n\t\t\t/**\r\n\t\t\t * Redraw datatable by recalculating its DOM elements, etc.\r\n\t\t\t * @returns {jQuery}\r\n\t\t\t */\r\n\t\t\tredraw: function() {\r\n\t\t\t\tPlugin.adjustCellsWidth.call();\r\n\t\t\t\tif (Plugin.isLocked()) {\r\n\t\t\t\t\t// fix hiding cell width issue\r\n\t\t\t\t\tPlugin.scrollbar();\r\n\t\t\t\t\tPlugin.resetScroll();\r\n\t\t\t\t\tPlugin.adjustCellsHeight.call();\r\n\t\t\t\t}\r\n\t\t\t\tPlugin.adjustLockContainer.call();\r\n\t\t\t\tPlugin.initHeight.call();\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Shortcode to reload\r\n\t\t\t * @returns {jQuery}\r\n\t\t\t */\r\n\t\t\tload: function() {\r\n\t\t\t\tPlugin.reload();\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Datasource reload\r\n\t\t\t * @returns {jQuery}\r\n\t\t\t */\r\n\t\t\treload: function() {\r\n\t\t\t\tvar delay = (function() {\r\n\t\t\t\t\treturn function(callback, ms) {\r\n\t\t\t\t\t\tclearTimeout(Plugin.timer);\r\n\t\t\t\t\t\tPlugin.timer = setTimeout(callback, ms);\r\n\t\t\t\t\t};\r\n\t\t\t\t})();\r\n\t\t\t\tdelay(function() {\r\n\t\t\t\t\t// local only. remote pagination will skip this block\r\n\t\t\t\t\tif (!options.data.serverFiltering) {\r\n\t\t\t\t\t\tPlugin.localDataUpdate();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tPlugin.dataRender();\r\n\t\t\t\t\t$(datatable).trigger(pfx + 'datatable--on-reloaded');\r\n\t\t\t\t}, Plugin.getOption('search.delay'));\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get record by record ID\r\n\t\t\t * @param id\r\n\t\t\t * @returns {jQuery}\r\n\t\t\t */\r\n\t\t\tgetRecord: function(id) {\r\n\t\t\t\tif (typeof datatable.tableBody === 'undefined') datatable.tableBody = $(datatable.table).children('tbody');\r\n\t\t\t\t$(datatable.tableBody).find('.' + pfx + 'datatable__cell:first-child').each(function(i, cell) {\r\n\t\t\t\t\tif (id == $(cell).text()) {\r\n\t\t\t\t\t\tvar rowNumber = $(cell).closest('.' + pfx + 'datatable__row').index() + 1;\r\n\t\t\t\t\t\tdatatable.API.record = datatable.API.value = Plugin.getOneRow(datatable.tableBody, rowNumber);\r\n\t\t\t\t\t\treturn datatable;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * @deprecated in v5.0.6\r\n\t\t\t * Get column of current record ID\r\n\t\t\t * @param columnName\r\n\t\t\t * @returns {jQuery}\r\n\t\t\t */\r\n\t\t\tgetColumn: function(columnName) {\r\n\t\t\t\tPlugin.setSelectedRecords();\r\n\t\t\t\tdatatable.API.value = $(datatable.API.record).find('[data-field=\"' + columnName + '\"]');\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Destroy datatable to original DOM state before datatable was\r\n\t\t\t * initialized\r\n\t\t\t * @returns {jQuery}\r\n\t\t\t */\r\n\t\t\tdestroy: function() {\r\n\t\t\t\t$(datatable).parent().find('.' + pfx + 'datatable__pager').remove();\r\n\t\t\t\tvar initialDatatable = $(datatable.initialDatatable).addClass(pfx + 'datatable--destroyed').show();\r\n\t\t\t\t$(datatable).replaceWith(initialDatatable);\r\n\t\t\t\tdatatable = initialDatatable;\r\n\t\t\t\t$(datatable).trigger(pfx + 'datatable--on-destroy');\r\n\t\t\t\tPlugin.isInit = false;\r\n\t\t\t\tinitialDatatable = null;\r\n\t\t\t\treturn initialDatatable;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Sort by column field\r\n\t\t\t * @param field\r\n\t\t\t * @param sort\r\n\t\t\t */\r\n\t\t\tsort: function(field, sort) {\r\n\t\t\t\t// toggle sort\r\n\t\t\t\tsort = typeof sort === 'undefined' ? 'asc' : sort;\r\n\r\n\t\t\t\tPlugin.spinnerCallback(true);\r\n\r\n\t\t\t\t// update field and sort params\r\n\t\t\t\tvar meta = {field: field, sort: sort};\r\n\t\t\t\tPlugin.setDataSourceParam('sort', meta);\r\n\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tPlugin.dataRender('sort');\r\n\t\t\t\t\t$(datatable).trigger(pfx + 'datatable--on-sort', meta);\r\n\t\t\t\t\t$(datatable.tableHead).find('.' + pfx + 'datatable__cell > span > i').remove();\r\n\t\t\t\t}, 300);\r\n\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * @deprecated in v5.0.6\r\n\t\t\t * Get current selected column value\r\n\t\t\t * @returns {jQuery}\r\n\t\t\t */\r\n\t\t\tgetValue: function() {\r\n\t\t\t\treturn $(datatable.API.value).text();\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Set checkbox active\r\n\t\t\t * @param cell JQuery selector or checkbox ID\r\n\t\t\t */\r\n\t\t\tsetActive: function(cell) {\r\n\t\t\t\tif (typeof cell === 'string') {\r\n\t\t\t\t\t// set by checkbox id\r\n\t\t\t\t\tcell = $(datatable.tableBody).find('.' + pfx + 'checkbox--single > [type=\"checkbox\"][value=\"' + cell + '\"]');\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$(cell).prop('checked', true);\r\n\r\n\t\t\t\t// normal table\r\n\t\t\t\tvar row = $(cell).closest('.' + pfx + 'datatable__row').addClass(pfx + 'datatable__row--active');\r\n\r\n\t\t\t\tvar index = $(row).index() + 1;\r\n\t\t\t\t// lock table\r\n\t\t\t\t$(row).closest('.' + pfx + 'datatable__lock').parent().find('.' + pfx + 'datatable__row:nth-child(' + index + ')').addClass(pfx + 'datatable__row--active');\r\n\r\n\t\t\t\tvar ids = [];\r\n\t\t\t\t$(row).each(function(i, td) {\r\n\t\t\t\t\tvar id = $(td).find('.' + pfx + 'checkbox--single:not(.' + pfx + 'checkbox--all) > [type=\"checkbox\"]').val();\r\n\t\t\t\t\tif (typeof id !== 'undefined') {\r\n\t\t\t\t\t\tids.push(id);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$(datatable).trigger(pfx + 'datatable--on-check', [ids]);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Set checkbox inactive\r\n\t\t\t * @param cell JQuery selector or checkbox ID\r\n\t\t\t */\r\n\t\t\tsetInactive: function(cell) {\r\n\t\t\t\tif (typeof cell === 'string') {\r\n\t\t\t\t\t// set by checkbox id\r\n\t\t\t\t\tcell = $(datatable.tableBody).find('.' + pfx + 'checkbox--single > [type=\"checkbox\"][value=\"' + cell + '\"]');\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$(cell).prop('checked', false);\r\n\r\n\t\t\t\t// normal table\r\n\t\t\t\tvar row = $(cell).closest('.' + pfx + 'datatable__row').removeClass(pfx + 'datatable__row--active');\r\n\t\t\t\tvar index = $(row).index() + 1;\r\n\r\n\t\t\t\t// lock table\r\n\t\t\t\t$(row).closest('.' + pfx + 'datatable__lock').parent().find('.' + pfx + 'datatable__row:nth-child(' + index + ')').removeClass(pfx + 'datatable__row--active');\r\n\r\n\t\t\t\tvar ids = [];\r\n\t\t\t\t$(row).each(function(i, td) {\r\n\t\t\t\t\tvar id = $(td).find('.' + pfx + 'checkbox--single:not(.' + pfx + 'checkbox--all) > [type=\"checkbox\"]').val();\r\n\t\t\t\t\tif (typeof id !== 'undefined') {\r\n\t\t\t\t\t\tids.push(id);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$(datatable).trigger(pfx + 'datatable--on-uncheck', [ids]);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Set all checkboxes active or inactive\r\n\t\t\t * @param active\r\n\t\t\t */\r\n\t\t\tsetActiveAll: function(active) {\r\n\t\t\t\tvar checkboxes = $(datatable.table).\r\n\t\t\t\t\tfind('> tbody, > thead').\r\n\t\t\t\t\tfind('> tr:not(.' + pfx + 'datatable__row-subtable)').\r\n\t\t\t\t\tfind('.' + pfx + 'datatable__cell--check [type=\"checkbox\"]');\r\n\t\t\t\tif (active) {\r\n\t\t\t\t\tPlugin.setActive(checkboxes);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tPlugin.setInactive(checkboxes);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * @deprecated in v5.0.6\r\n\t\t\t * Get selected rows which are active\r\n\t\t\t * @returns {jQuery}\r\n\t\t\t */\r\n\t\t\tsetSelectedRecords: function() {\r\n\t\t\t\tdatatable.API.record = $(datatable.tableBody).find('.' + pfx + 'datatable__row--active');\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get selected records\r\n\t\t\t * @returns {null}\r\n\t\t\t */\r\n\t\t\tgetSelectedRecords: function() {\r\n\t\t\t\t// support old method\r\n\t\t\t\tPlugin.setSelectedRecords();\r\n\t\t\t\tdatatable.API.record = datatable.rows('.' + pfx + 'datatable__row--active').nodes();\r\n\t\t\t\treturn datatable.API.record;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get options by dots notation path\r\n\t\t\t * @param path String Dot notation path in string\r\n\t\t\t * @returns {*}\r\n\t\t\t */\r\n\t\t\tgetOption: function(path) {\r\n\t\t\t\treturn Plugin.getObject(path, options);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Set global options nodes by dots notation path\r\n\t\t\t * @param path\r\n\t\t\t * @param object\r\n\t\t\t */\r\n\t\t\tsetOption: function(path, object) {\r\n\t\t\t\toptions = Plugin.extendObj(options, path, object);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Search filter for local & remote\r\n\t\t\t * @param value\r\n\t\t\t * @param columns. Optional list of columns to be filtered.\r\n\t\t\t */\r\n\t\t\tsearch: function(value, columns) {\r\n\t\t\t\tif (typeof columns !== 'undefined') columns = $.makeArray(columns);\r\n\t\t\t\tvar delay = (function() {\r\n\t\t\t\t\treturn function(callback, ms) {\r\n\t\t\t\t\t\tclearTimeout(Plugin.timer);\r\n\t\t\t\t\t\tPlugin.timer = setTimeout(callback, ms);\r\n\t\t\t\t\t};\r\n\t\t\t\t})();\r\n\r\n\t\t\t\tdelay(function() {\r\n\t\t\t\t\t// get query parameters\r\n\t\t\t\t\tvar query = Plugin.getDataSourceQuery();\r\n\r\n\t\t\t\t\t// search not by columns\r\n\t\t\t\t\tif (typeof columns === 'undefined' && typeof value !== 'undefined') {\r\n\t\t\t\t\t\tvar key = Plugin.getGeneralSearchKey();\r\n\t\t\t\t\t\tquery[key] = value;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// search by columns, support multiple columns\r\n\t\t\t\t\tif (typeof columns === 'object') {\r\n\t\t\t\t\t\t$.each(columns, function(k, column) {\r\n\t\t\t\t\t\t\tquery[column] = value;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// remove empty element from arrays\r\n\t\t\t\t\t\t$.each(query, function(k, v) {\r\n\t\t\t\t\t\t\tif (v === '' || $.isEmptyObject(v)) {\r\n\t\t\t\t\t\t\t\tdelete query[k];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tPlugin.setDataSourceQuery(query);\r\n\r\n\t\t\t\t\t// local filter only. remote pagination will skip this block\r\n\t\t\t\t\tif (!options.data.serverFiltering) {\r\n\t\t\t\t\t\tPlugin.localDataUpdate();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tPlugin.dataRender('search');\r\n\t\t\t\t}, Plugin.getOption('search.delay'));\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Set datasource params extract\r\n\t\t\t * @param param\r\n\t\t\t * @param value\r\n\t\t\t */\r\n\t\t\tsetDataSourceParam: function(param, value) {\r\n\t\t\t\tdatatable.API.params = $.extend({}, {\r\n\t\t\t\t\tpagination: {page: 1, perpage: Plugin.getOption('data.pageSize')},\r\n\t\t\t\t\tsort: Plugin.getDefaultSortColumn(),\r\n\t\t\t\t\tquery: {},\r\n\t\t\t\t}, datatable.API.params, Plugin.stateGet(Plugin.stateId));\r\n\r\n\t\t\t\tdatatable.API.params = Plugin.extendObj(datatable.API.params, param, value);\r\n\r\n\t\t\t\tPlugin.stateKeep(Plugin.stateId, datatable.API.params);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get datasource params\r\n\t\t\t * @param param\r\n\t\t\t */\r\n\t\t\tgetDataSourceParam: function(param) {\r\n\t\t\t\tdatatable.API.params = $.extend({}, {\r\n\t\t\t\t\tpagination: {page: 1, perpage: Plugin.getOption('data.pageSize')},\r\n\t\t\t\t\tsort: Plugin.getDefaultSortColumn(),\r\n\t\t\t\t\tquery: {},\r\n\t\t\t\t}, datatable.API.params, Plugin.stateGet(Plugin.stateId));\r\n\r\n\t\t\t\tif (typeof param === 'string') {\r\n\t\t\t\t\treturn Plugin.getObject(param, datatable.API.params);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn datatable.API.params;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Shortcode to datatable.getDataSourceParam('query');\r\n\t\t\t * @returns {*}\r\n\t\t\t */\r\n\t\t\tgetDataSourceQuery: function() {\r\n\t\t\t\treturn Plugin.getDataSourceParam('query') || {};\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Shortcode to datatable.setDataSourceParam('query', query);\r\n\t\t\t * @param query\r\n\t\t\t */\r\n\t\t\tsetDataSourceQuery: function(query) {\r\n\t\t\t\tPlugin.setDataSourceParam('query', query);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get current page number\r\n\t\t\t * @returns {number}\r\n\t\t\t */\r\n\t\t\tgetCurrentPage: function() {\r\n\t\t\t\treturn $(datatable.table).\r\n\t\t\t\t\tsiblings('.' + pfx + 'datatable__pager').\r\n\t\t\t\t\tlast().\r\n\t\t\t\t\tfind('.' + pfx + 'datatable__pager-nav').\r\n\t\t\t\t\tfind('.' + pfx + 'datatable__pager-link.' + pfx + 'datatable__pager-link--active').\r\n\t\t\t\t\tdata('page') || 1;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get selected dropdown page size\r\n\t\t\t * @returns {*|number}\r\n\t\t\t */\r\n\t\t\tgetPageSize: function() {\r\n\t\t\t\treturn $(datatable.table).siblings('.' + pfx + 'datatable__pager').last().find('select.' + pfx + 'datatable__pager-size').val() || 10;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get total rows\r\n\t\t\t */\r\n\t\t\tgetTotalRows: function() {\r\n\t\t\t\treturn datatable.API.params.pagination.total;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get full dataset in grid\r\n\t\t\t * @returns {*|null|Array}\r\n\t\t\t */\r\n\t\t\tgetDataSet: function() {\r\n\t\t\t\treturn datatable.originalDataSet;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * @deprecated in v5.0.6\r\n\t\t\t * Hide column by column's field name\r\n\t\t\t * @param fieldName\r\n\t\t\t */\r\n\t\t\thideColumn: function(fieldName) {\r\n\t\t\t\t// add hide option for this column\r\n\t\t\t\t$.map(options.columns, function(column) {\r\n\t\t\t\t\tif (fieldName === column.field) {\r\n\t\t\t\t\t\tcolumn.responsive = {hidden: 'xl'};\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn column;\r\n\t\t\t\t});\r\n\t\t\t\t// hide current displayed column\r\n\t\t\t\tvar tds = $.grep($(datatable.table).find('.' + pfx + 'datatable__cell'), function(n, i) {\r\n\t\t\t\t\treturn fieldName === $(n).data('field');\r\n\t\t\t\t});\r\n\t\t\t\t$(tds).hide();\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * @deprecated in v5.0.6\r\n\t\t\t * Show column by column's field name\r\n\t\t\t * @param fieldName\r\n\t\t\t */\r\n\t\t\tshowColumn: function(fieldName) {\r\n\t\t\t\t// add hide option for this column\r\n\t\t\t\t$.map(options.columns, function(column) {\r\n\t\t\t\t\tif (fieldName === column.field) {\r\n\t\t\t\t\t\tdelete column.responsive;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn column;\r\n\t\t\t\t});\r\n\t\t\t\t// hide current displayed column\r\n\t\t\t\tvar tds = $.grep($(datatable.table).find('.' + pfx + 'datatable__cell'), function(n, i) {\r\n\t\t\t\t\treturn fieldName === $(n).data('field');\r\n\t\t\t\t});\r\n\t\t\t\t$(tds).show();\r\n\t\t\t},\r\n\r\n\t\t\tnodeTr: [],\r\n\t\t\tnodeTd: [],\r\n\t\t\tnodeCols: [],\r\n\t\t\trecentNode: [],\r\n\r\n\t\t\ttable: function() {\r\n\t\t\t\tif (typeof datatable.table !== 'undefined') {\r\n\t\t\t\t\treturn datatable.table;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Select a single row from the table\r\n\t\t\t * @param selector\r\n\t\t\t * @returns {jQuery}\r\n\t\t\t */\r\n\t\t\trow: function(selector) {\r\n\t\t\t\tPlugin.rows(selector);\r\n\t\t\t\tPlugin.nodeTr = Plugin.recentNode = $(Plugin.nodeTr).first();\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Select multiple rows from the table\r\n\t\t\t * @param selector\r\n\t\t\t * @returns {jQuery}\r\n\t\t\t */\r\n\t\t\trows: function(selector) {\r\n\t\t\t\tPlugin.nodeTr = Plugin.recentNode = $(datatable.tableBody).find(selector).filter('.' + pfx + 'datatable__row');\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Select a single column from the table\r\n\t\t\t * @param index zero-based index\r\n\t\t\t * @returns {jQuery}\r\n\t\t\t */\r\n\t\t\tcolumn: function(index) {\r\n\t\t\t\tPlugin.nodeCols = Plugin.recentNode = $(datatable.tableBody).find('.' + pfx + 'datatable__cell:nth-child(' + (index + 1) + ')');\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Select multiple columns from the table\r\n\t\t\t * @param selector\r\n\t\t\t * @returns {jQuery}\r\n\t\t\t */\r\n\t\t\tcolumns: function(selector) {\r\n\t\t\t\tvar context = datatable.table;\r\n\t\t\t\tif (Plugin.nodeTr === Plugin.recentNode) {\r\n\t\t\t\t\tcontext = Plugin.nodeTr;\r\n\t\t\t\t}\r\n\t\t\t\tvar columns = $(context).find('.' + pfx + 'datatable__cell[data-field=\"' + selector + '\"]');\r\n\t\t\t\tif (columns.length > 0) {\r\n\t\t\t\t\tPlugin.nodeCols = Plugin.recentNode = columns;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tPlugin.nodeCols = Plugin.recentNode = $(context).find(selector).filter('.' + pfx + 'datatable__cell');\r\n\t\t\t\t}\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t\tcell: function(selector) {\r\n\t\t\t\tPlugin.cells(selector);\r\n\t\t\t\tPlugin.nodeTd = Plugin.recentNode = $(Plugin.nodeTd).first();\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t\tcells: function(selector) {\r\n\t\t\t\tvar cells = $(datatable.tableBody).find('.' + pfx + 'datatable__cell');\r\n\t\t\t\tif (typeof selector !== 'undefined') {\r\n\t\t\t\t\tcells = $(cells).filter(selector);\r\n\t\t\t\t}\r\n\t\t\t\tPlugin.nodeTd = Plugin.recentNode = cells;\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Delete the selected row from the table\r\n\t\t\t * @returns {jQuery}\r\n\t\t\t */\r\n\t\t\tremove: function() {\r\n\t\t\t\tif ($(Plugin.nodeTr.length) && Plugin.nodeTr === Plugin.recentNode) {\r\n\t\t\t\t\t$(Plugin.nodeTr).remove();\r\n\t\t\t\t}\r\n\t\t\t\tPlugin.layoutUpdate();\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Show or hide the columns or rows\r\n\t\t\t */\r\n\t\t\tvisible: function(bool) {\r\n\t\t\t\tif ($(Plugin.recentNode.length)) {\r\n\t\t\t\t\tvar locked = Plugin.lockEnabledColumns();\r\n\t\t\t\t\tif (Plugin.recentNode === Plugin.nodeCols) {\r\n\t\t\t\t\t\tvar index = Plugin.recentNode.index();\r\n\r\n\t\t\t\t\t\tif (Plugin.isLocked()) {\r\n\t\t\t\t\t\t\tvar scrollColumns = $(Plugin.recentNode).closest('.' + pfx + 'datatable__lock--scroll').length;\r\n\t\t\t\t\t\t\tif (scrollColumns) {\r\n\t\t\t\t\t\t\t\t// is at center of scrollable area\r\n\t\t\t\t\t\t\t\tindex += locked.left.length + 1;\r\n\t\t\t\t\t\t\t} else if ($(Plugin.recentNode).closest('.' + pfx + 'datatable__lock--right').length) {\r\n\t\t\t\t\t\t\t\t// is at the right locked table\r\n\t\t\t\t\t\t\t\tindex += locked.left.length + scrollColumns + 1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (bool) {\r\n\t\t\t\t\t\tif (Plugin.recentNode === Plugin.nodeCols) {\r\n\t\t\t\t\t\t\tdelete options.columns[index].responsive;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$(Plugin.recentNode).show();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (Plugin.recentNode === Plugin.nodeCols) {\r\n\t\t\t\t\t\t\tPlugin.setOption('columns.' + index + '.responsive', {hidden: 'xl'});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$(Plugin.recentNode).hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tPlugin.redraw();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get the the DOM element for the selected rows or columns\r\n\t\t\t * @returns {Array}\r\n\t\t\t */\r\n\t\t\tnodes: function() {\r\n\t\t\t\treturn Plugin.recentNode;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * will be implemented soon\r\n\t\t\t * @returns {jQuery}\r\n\t\t\t */\r\n\t\t\tdataset: function() {\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Public API methods can be used directly by datatable\r\n\t\t */\r\n\t\t$.each(Plugin, function(funcName, func) {\r\n\t\t\tdatatable[funcName] = func;\r\n\t\t});\r\n\r\n\t\t// initialize main datatable plugin\r\n\t\tif (typeof options !== 'undefined') {\r\n\t\t\tif (typeof options === 'string') {\r\n\t\t\t\tvar method = options;\r\n\t\t\t\tdatatable = $(this).data(pluginName);\r\n\t\t\t\tif (typeof datatable !== 'undefined') {\r\n\t\t\t\t\toptions = datatable.options;\r\n\t\t\t\t\tPlugin[method].apply(this, Array.prototype.slice.call(arguments, 1));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (!datatable.data(pluginName) && !$(this).hasClass(pfx + 'datatable--loaded')) {\r\n\t\t\t\t\tdatatable.dataSet = null;\r\n\t\t\t\t\tdatatable.textAlign = {\r\n\t\t\t\t\t\tleft: pfx + 'datatable__cell--left',\r\n\t\t\t\t\t\tcenter: pfx + 'datatable__cell--center',\r\n\t\t\t\t\t\tright: pfx + 'datatable__cell--right',\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t// merge default and user defined options\r\n\t\t\t\t\toptions = $.extend(true, {}, $.fn[pluginName].defaults, options);\r\n\r\n\t\t\t\t\tdatatable.options = options;\r\n\r\n\t\t\t\t\t// init plugin process\r\n\t\t\t\t\tPlugin.init.apply(this, [options]);\r\n\r\n\t\t\t\t\t$(datatable.wrap).data(pluginName, datatable);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// get existing instance datatable\r\n\t\t\tdatatable = $(this).data(pluginName);\r\n\t\t\tif (typeof datatable === 'undefined') {\r\n\t\t\t\t$.error(pluginName + ' not initialized');\r\n\t\t\t}\r\n\t\t\toptions = datatable.options;\r\n\t\t}\r\n\r\n\t\treturn datatable;\r\n\t};\r\n\r\n\t// default options\r\n\t$.fn[pluginName].defaults = {\r\n\t\t// datasource definition\r\n\t\tdata: {\r\n\t\t\ttype: 'local',\r\n\t\t\tsource: null,\r\n\t\t\tpageSize: 10, // display records per page\r\n\t\t\tsaveState: {\r\n\t\t\t\t// save datatable state(pagination, filtering, sorting, etc) in cookie or browser webstorage\r\n\t\t\t\tcookie: false,\r\n\t\t\t\twebstorage: true,\r\n\t\t\t},\r\n\r\n\t\t\tserverPaging: false,\r\n\t\t\tserverFiltering: false,\r\n\t\t\tserverSorting: false,\r\n\r\n\t\t\tautoColumns: false,\r\n\t\t\tattr: {\r\n\t\t\t\trowProps: [],\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\t// layout definition\r\n\t\tlayout: {\r\n\t\t\ttheme: 'default', // datatable will support multiple themes and designs\r\n\t\t\tclass: pfx + 'datatable--brand', // custom wrapper class\r\n\t\t\tscroll: false, // enable/disable datatable scroll both horizontal and vertical when needed.\r\n\t\t\theight: null, // datatable's body's fixed height\r\n\t\t\tminHeight: 300,\r\n\t\t\tfooter: false, // display/hide footer\r\n\t\t\theader: true, // display/hide header\r\n\t\t\tcustomScrollbar: true, // set false to disable custom scrollbar\r\n\r\n\t\t\t// datatable spinner\r\n\t\t\tspinner: {\r\n\t\t\t\toverlayColor: '#000000',\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttype: 'loader',\r\n\t\t\t\tstate: 'brand',\r\n\t\t\t\tmessage: true,\r\n\t\t\t},\r\n\r\n\t\t\t// datatable UI icons\r\n\t\t\ticons: {\r\n\t\t\t\tsort: {asc: 'la la-arrow-up', desc: 'la la-arrow-down'},\r\n\t\t\t\tpagination: {\r\n\t\t\t\t\tnext: 'la la-angle-right',\r\n\t\t\t\t\tprev: 'la la-angle-left',\r\n\t\t\t\t\tfirst: 'la la-angle-double-left',\r\n\t\t\t\t\tlast: 'la la-angle-double-right',\r\n\t\t\t\t\tmore: 'la la-ellipsis-h',\r\n\t\t\t\t},\r\n\t\t\t\trowDetail: {expand: 'fa fa-caret-down', collapse: 'fa fa-caret-right'},\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\t// column sorting\r\n\t\tsortable: true,\r\n\r\n\t\t// resize column size with mouse drag coming soon)\r\n\t\tresizable: false,\r\n\r\n\t\t// column based filtering (coming soon)\r\n\t\tfilterable: false,\r\n\r\n\t\tpagination: true,\r\n\r\n\t\t// inline and bactch editing (cooming soon)\r\n\t\teditable: false,\r\n\r\n\t\t// columns definition\r\n\t\tcolumns: [],\r\n\r\n\t\tsearch: {\r\n\t\t\t// enable trigger search by keyup enter\r\n\t\t\tonEnter: false,\r\n\t\t\t// input text for search\r\n\t\t\tinput: null,\r\n\t\t\t// search delay in milliseconds\r\n\t\t\tdelay: 400,\r\n\t\t},\r\n\r\n\t\trows: {\r\n\t\t\t// deprecated\r\n\t\t\tcallback: function() {\r\n\t\t\t},\r\n\t\t\t// call before row template\r\n\t\t\tbeforeTemplate: function() {\r\n\t\t\t},\r\n\t\t\t// call after row template\r\n\t\t\tafterTemplate: function() {\r\n\t\t\t},\r\n\t\t\tautoHide: true,\r\n\t\t},\r\n\r\n\t\t// toolbar\r\n\t\ttoolbar: {\r\n\t\t\t// place pagination and displayInfo blocks according to the array order\r\n\t\t\tlayout: ['pagination', 'info'],\r\n\r\n\t\t\t// toolbar placement can be at top or bottom or both top and bottom repeated\r\n\t\t\tplacement: ['bottom'],  //'top', 'bottom'\r\n\r\n\t\t\t// toolbar items\r\n\t\t\titems: {\r\n\t\t\t\t// pagination\r\n\t\t\t\tpagination: {\r\n\t\t\t\t\t// pagination type(default or scroll)\r\n\t\t\t\t\ttype: 'default',\r\n\r\n\t\t\t\t\t// number of pages to display by breakpoints\r\n\t\t\t\t\tpages: {\r\n\t\t\t\t\t\tdesktop: {\r\n\t\t\t\t\t\t\tlayout: 'default',\r\n\t\t\t\t\t\t\tpagesNumber: 5,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttablet: {\r\n\t\t\t\t\t\t\tlayout: 'default',\r\n\t\t\t\t\t\t\tpagesNumber: 3,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tmobile: {\r\n\t\t\t\t\t\t\tlayout: 'compact',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t// navigation buttons\r\n\t\t\t\t\tnavigation: {\r\n\t\t\t\t\t\tprev: true, // display prev link\r\n\t\t\t\t\t\tnext: true, // display next link\r\n\t\t\t\t\t\tfirst: true, // display first link\r\n\t\t\t\t\t\tlast: true, // display last link\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t// page size select\r\n\t\t\t\t\tpageSizeSelect: [], // display dropdown to select pagination size. -1 is used for \"ALl\" option\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// records info\r\n\t\t\t\tinfo: true,\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\t// here we will keep all strings and message used by datatable UI so developer can easiliy translate to any language.\r\n\t\t// By default the stirngs will be in the plugin source and here can override it\r\n\t\ttranslate: {\r\n\t\t\trecords: {\r\n\t\t\t\tprocessing: 'Please wait...',\r\n\t\t\t\tnoRecords: 'No records found',\r\n\t\t\t},\r\n\t\t\ttoolbar: {\r\n\t\t\t\tpagination: {\r\n\t\t\t\t\titems: {\r\n\t\t\t\t\t\tdefault: {\r\n\t\t\t\t\t\t\tfirst: 'First',\r\n\t\t\t\t\t\t\tprev: 'Previous',\r\n\t\t\t\t\t\t\tnext: 'Next',\r\n\t\t\t\t\t\t\tlast: 'Last',\r\n\t\t\t\t\t\t\tmore: 'More pages',\r\n\t\t\t\t\t\t\tinput: 'Page number',\r\n\t\t\t\t\t\t\tselect: 'Select page size',\r\n\t\t\t\t\t\t\tall: 'all'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tinfo: 'Showing {{start}} - {{end}} of {{total}}',\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\textensions: {},\r\n\t};\r\n\r\n}(jQuery));\n\"use strict\";\r\n(function($) {\r\n\r\n\tvar pluginName = 'KDatatable';\r\n\tvar pfx = 'k-';\r\n\r\n\t$.fn[pluginName] = $.fn[pluginName] || {};\r\n\r\n\t/**\r\n\t * @param datatable Main datatable plugin instance\r\n\t * @param options Extension options\r\n\t * @returns {*}\r\n\t */\r\n\t$.fn[pluginName].checkbox = function(datatable, options) {\r\n\t\tvar Extension = {\r\n\t\t\tselectedAllRows: false,\r\n\t\t\tselectedRows: [],\r\n\t\t\tunselectedRows: [],\r\n\r\n\t\t\tinit: function() {\r\n\t\t\t\tif (Extension.selectorEnabled()) {\r\n\t\t\t\t\t// reset\r\n\t\t\t\t\tdatatable.setDataSourceParam(options.vars.selectedAllRows, false);\r\n\t\t\t\t\tdatatable.stateRemove('checkbox');\r\n\r\n\t\t\t\t\t// requestIds is not null\r\n\t\t\t\t\tif (options.vars.requestIds) {\r\n\t\t\t\t\t\t// request ids in response\r\n\t\t\t\t\t\tdatatable.setDataSourceParam(options.vars.requestIds, true);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// remove selected checkbox on datatable reload\r\n\t\t\t\t\t$(datatable).on(pfx + 'datatable--on-reloaded', function() {\r\n\t\t\t\t\t\tdatatable.stateRemove('checkbox');\r\n\t\t\t\t\t\tdatatable.setDataSourceParam(options.vars.selectedAllRows, false);\r\n\t\t\t\t\t\tExtension.selectedAllRows = false;\r\n\t\t\t\t\t\tExtension.selectedRows = [];\r\n\t\t\t\t\t\tExtension.unselectedRows = [];\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// select all on extension init\r\n\t\t\t\t\tExtension.selectedAllRows = datatable.getDataSourceParam(options.vars.selectedAllRows);\r\n\r\n\t\t\t\t\t$(datatable).on(pfx + 'datatable--on-layout-updated', function(e, args) {\r\n\t\t\t\t\t\tif (args.table != $(datatable.wrap).attr('id')) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdatatable.ready(function() {\r\n\t\t\t\t\t\t\tExtension.initVars();\r\n\t\t\t\t\t\t\tExtension.initEvent();\r\n\t\t\t\t\t\t\tExtension.initSelect();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t$(datatable).on(pfx + 'datatable--on-check', function(e, ids) {\r\n\t\t\t\t\t\tids.forEach(function(id) {\r\n\t\t\t\t\t\t\tExtension.selectedRows.push(id);\r\n\t\t\t\t\t\t\t// // remove from unselected rows\r\n\t\t\t\t\t\t\tExtension.unselectedRows = Extension.remove(Extension.unselectedRows, id);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tvar storage = {};\r\n\t\t\t\t\t\tstorage['selectedRows'] = $.unique(Extension.selectedRows);\r\n\t\t\t\t\t\tstorage['unselectedRows'] = $.unique(Extension.unselectedRows);\r\n\t\t\t\t\t\tdatatable.stateKeep('checkbox', storage);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t$(datatable).on(pfx + 'datatable--on-uncheck', function(e, ids) {\r\n\t\t\t\t\t\tids.forEach(function(id) {\r\n\t\t\t\t\t\t\tExtension.unselectedRows.push(id);\r\n\t\t\t\t\t\t\t// // remove from selected rows\r\n\t\t\t\t\t\t\tExtension.selectedRows = Extension.remove(Extension.selectedRows, id);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tvar storage = {};\r\n\t\t\t\t\t\tstorage['selectedRows'] = $.unique(Extension.selectedRows);\r\n\t\t\t\t\t\tstorage['unselectedRows'] = $.unique(Extension.unselectedRows);\r\n\t\t\t\t\t\tdatatable.stateKeep('checkbox', storage);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Init checkbox clicks event\r\n\t\t\t */\r\n\t\t\tinitEvent: function() {\r\n\t\t\t\t// select all checkbox click\r\n\t\t\t\t$(datatable.tableHead).find('.' + pfx + 'checkbox--all > [type=\"checkbox\"]').click(function(e) {\r\n\t\t\t\t\t// clear selected and unselected rows\r\n\t\t\t\t\tExtension.selectedRows = Extension.unselectedRows = [];\r\n\t\t\t\t\tdatatable.stateRemove('checkbox');\r\n\r\n\t\t\t\t\t// select all rows\r\n\t\t\t\t\tif ($(this).is(':checked')) {\r\n\t\t\t\t\t\tExtension.selectedAllRows = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tExtension.selectedAllRows = false;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// local select all current page rows\r\n\t\t\t\t\tif (!options.vars.requestIds) {\r\n\t\t\t\t\t\tif ($(this).is(':checked')) {\r\n\t\t\t\t\t\t\tExtension.selectedRows = $.makeArray($(datatable.tableBody).find('.' + pfx + 'checkbox--single > [type=\"checkbox\"]').map(function(i, chk) {\r\n\t\t\t\t\t\t\t\treturn $(chk).val();\r\n\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar storage = {};\r\n\t\t\t\t\t\tstorage['selectedRows'] = $.unique(Extension.selectedRows);\r\n\t\t\t\t\t\tdatatable.stateKeep('checkbox', storage);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// keep selectedAllRows in datasource params\r\n\t\t\t\t\tdatatable.setDataSourceParam(options.vars.selectedAllRows, Extension.selectedAllRows);\r\n\r\n\t\t\t\t\t$(datatable).trigger(pfx + 'datatable--on-click-checkbox', [$(this)]);\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// single row checkbox click\r\n\t\t\t\t$(datatable.tableBody).find('.' + pfx + 'checkbox--single > [type=\"checkbox\"]').click(function(e) {\r\n\t\t\t\t\tvar id = $(this).val();\r\n\t\t\t\t\tif ($(this).is(':checked')) {\r\n\t\t\t\t\t\tExtension.selectedRows.push(id);\r\n\t\t\t\t\t\t// remove from unselected rows\r\n\t\t\t\t\t\tExtension.unselectedRows = Extension.remove(Extension.unselectedRows, id);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tExtension.unselectedRows.push(id);\r\n\t\t\t\t\t\t// remove from selected rows\r\n\t\t\t\t\t\tExtension.selectedRows = Extension.remove(Extension.selectedRows, id);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// local checkbox header check\r\n\t\t\t\t\tif (!options.vars.requestIds && Extension.selectedRows.length < 1) {\r\n\t\t\t\t\t\t// remove select all checkbox, if there is no checked checkbox left\r\n\t\t\t\t\t\t$(datatable.tableHead).find('.' + pfx + 'checkbox--all > [type=\"checkbox\"]').prop('checked', false);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar storage = {};\r\n\t\t\t\t\tstorage['selectedRows'] = $.unique(Extension.selectedRows);\r\n\t\t\t\t\tstorage['unselectedRows'] = $.unique(Extension.unselectedRows);\r\n\t\t\t\t\tdatatable.stateKeep('checkbox', storage);\r\n\r\n\t\t\t\t\t$(datatable).trigger(pfx + 'datatable--on-click-checkbox', [$(this)]);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tinitSelect: function() {\r\n\t\t\t\t// selected all rows from server\r\n\t\t\t\tif (Extension.selectedAllRows && options.vars.requestIds) {\r\n\t\t\t\t\tif (!datatable.hasClass(pfx + 'datatable--error')) {\r\n\t\t\t\t\t\t// set header select all checkbox checked\r\n\t\t\t\t\t\t$(datatable.tableHead).find('.' + pfx + 'checkbox--all > [type=\"checkbox\"]').prop('checked', true);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// set all checkbox in table body\r\n\t\t\t\t\tdatatable.setActiveAll(true);\r\n\r\n\t\t\t\t\t// remove unselected rows\r\n\t\t\t\t\tExtension.unselectedRows.forEach(function(id) {\r\n\t\t\t\t\t\tdatatable.setInactive(id);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t// single check for server and local\r\n\t\t\t\t\tExtension.selectedRows.forEach(function(id) {\r\n\t\t\t\t\t\tdatatable.setActive(id);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// local checkbox; check if all checkboxes of currect page are checked\r\n\t\t\t\t\tif (!datatable.hasClass(pfx + 'datatable--error') && $(datatable.tableBody).find('.' + pfx + 'checkbox--single > [type=\"checkbox\"]').not(':checked').length < 1) {\r\n\t\t\t\t\t\t// set header select all checkbox checked\r\n\t\t\t\t\t\t$(datatable.tableHead).find('.' + pfx + 'checkbox--all > [type=\"checkbox\"]').prop('checked', true);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Check if selector is enabled from options\r\n\t\t\t */\r\n\t\t\tselectorEnabled: function() {\r\n\t\t\t\treturn $.grep(datatable.options.columns, function(n, i) {\r\n\t\t\t\t\treturn n.selector || false;\r\n\t\t\t\t})[0];\r\n\t\t\t},\r\n\r\n\t\t\tinitVars: function() {\r\n\t\t\t\t// get single select/unselect from localstorage\r\n\t\t\t\tvar storage = datatable.stateGet('checkbox');\r\n\t\t\t\tif (typeof storage !== 'undefined') {\r\n\t\t\t\t\tExtension.selectedRows = storage['selectedRows'] || [];\r\n\t\t\t\t\tExtension.unselectedRows = storage['unselectedRows'] || [];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tgetSelectedId: function(path) {\r\n\t\t\t\tExtension.initVars();\r\n\r\n\t\t\t\t// server selected all rows\r\n\t\t\t\tif (Extension.selectedAllRows && options.vars.requestIds) {\r\n\t\t\t\t\tif (typeof path === 'undefined') {\r\n\t\t\t\t\t\tpath = options.vars.rowIds;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// if selected all rows, return id from response meta\r\n\t\t\t\t\tvar selectedAllRows = datatable.getObject(path, datatable.lastResponse) || [];\r\n\r\n\t\t\t\t\tif (selectedAllRows.length > 0) {\r\n\t\t\t\t\t\t// remove single unselected rows from selectedAllRows ids from server response emta\r\n\t\t\t\t\t\tExtension.unselectedRows.forEach(function(id) {\r\n\t\t\t\t\t\t\tselectedAllRows = Extension.remove(selectedAllRows, parseInt(id));\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn selectedAllRows;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// else return single checked selected rows\r\n\t\t\t\treturn Extension.selectedRows;\r\n\t\t\t},\r\n\r\n\t\t\tremove: function(array, element) {\r\n\t\t\t\treturn array.filter(function(e) {\r\n\t\t\t\t\treturn e !== element;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\t// make the extension accessible from datatable init\r\n\t\tdatatable.checkbox = function() {\r\n\t\t\treturn Extension;\r\n\t\t};\r\n\r\n\t\tif (typeof options === 'object') {\r\n\t\t\toptions = $.extend(true, {}, $.fn[pluginName].checkbox.default, options);\r\n\t\t\tExtension.init.apply(this, [options]);\r\n\t\t}\r\n\r\n\t\treturn datatable;\r\n\t};\r\n\r\n\t$.fn[pluginName].checkbox.default = {\r\n\t\tvars: {\r\n\t\t\t// select all rows flag to be sent to the server\r\n\t\t\tselectedAllRows: 'selectedAllRows',\r\n\t\t\t// request id parameter's name\r\n\t\t\trequestIds: 'requestIds',\r\n\t\t\t// response path to all rows id\r\n\t\t\trowIds: 'meta.rowIds',\r\n\t\t},\r\n\t};\r\n\r\n}(jQuery));\nvar defaults = {\r\n\tlayout: {\r\n\t\ticons: {\r\n\t\t\tpagination: {\r\n\t\t\t\tnext: 'la la-angle-right',\r\n\t\t\t\tprev: 'la la-angle-left',\r\n\t\t\t\tfirst: 'la la-angle-double-left',\r\n\t\t\t\tlast: 'la la-angle-double-right',\r\n\t\t\t\tmore: 'la la-ellipsis-h',\r\n\t\t\t},\r\n\t\t\trowDetail: {expand: 'fa fa-caret-down', collapse: 'fa fa-caret-right'},\r\n\t\t}\r\n\t}\r\n};\r\n\r\nif (KUtil.isRTL()) {\r\n\tdefaults = {\r\n\t\tlayout: {\r\n\t\t\ticons: {\r\n\t\t\t\tpagination: {\r\n\t\t\t\t\tnext: 'la la-angle-left',\r\n\t\t\t\t\tprev: 'la la-angle-right',\r\n\t\t\t\t\tlast: 'la la-angle-double-left',\r\n\t\t\t\t\tfirst: 'la la-angle-double-right',\r\n\t\t\t\t},\r\n\t\t\t\trowDetail: {collapse: 'fa fa-caret-down', expand: 'fa fa-caret-right'},\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n$.extend(true, $.fn.KDatatable.defaults, defaults);\n\"use strict\";\r\nvar KHeader = function(elementId, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = KUtil.get(elementId);\r\n    var body = KUtil.get('body');\r\n\r\n    if (element === undefined) {\r\n        return;\r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {\r\n        classic: false,\r\n        offset: {\r\n            mobile: 150,\r\n            desktop: 200\r\n        },\r\n        minimize: {\r\n            mobile: false,\r\n            desktop: false\r\n        }\r\n    };\r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        /**\r\n         * Run plugin\r\n         * @returns {KHeader}\r\n         */\r\n        construct: function(options) {\r\n            if (KUtil.data(element).has('header')) {\r\n                the = KUtil.data(element).get('header');\r\n            } else {\r\n                // reset header\r\n                Plugin.init(options);\r\n\r\n                // build header\r\n                Plugin.build();\r\n\r\n                KUtil.data(element).set('header', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Handles subheader click toggle\r\n         * @returns {KHeader}\r\n         */\r\n        init: function(options) {\r\n            the.events = [];\r\n\r\n            // merge default and user defined options\r\n            the.options = KUtil.deepExtend({}, defaultOptions, options);\r\n        },\r\n\r\n        /**\r\n         * Reset header\r\n         * @returns {KHeader}\r\n         */\r\n        build: function() {\r\n            var lastScrollTop = 0;\r\n            var eventTriggerState = true;\r\n            var viewportHeight = KUtil.getViewPort().height;\r\n\r\n            if (the.options.minimize.mobile === false && the.options.minimize.desktop === false) {\r\n                return;\r\n            }\r\n\r\n            window.addEventListener('scroll', function() {\r\n                var offset = 0, on, off, st;\r\n\r\n                if (KUtil.isInResponsiveRange('desktop')) {\r\n                    offset = the.options.offset.desktop;\r\n                    on = the.options.minimize.desktop.on;\r\n                    off = the.options.minimize.desktop.off;\r\n                } else if (KUtil.isInResponsiveRange('tablet-and-mobile')) {\r\n                    offset = the.options.offset.mobile;\r\n                    on = the.options.minimize.mobile.on;\r\n                    off = the.options.minimize.mobile.off;\r\n                }\r\n\r\n                st = window.pageYOffset;\r\n\r\n                if (\r\n                    (KUtil.isInResponsiveRange('tablet-and-mobile') && the.options.classic && the.options.classic.mobile) ||\r\n                    (KUtil.isInResponsiveRange('desktop') && the.options.classic && the.options.classic.desktop)\r\n\r\n                ) {\r\n                    if (st > offset) { // down scroll mode\r\n                        KUtil.addClass(body, on);\r\n                        KUtil.removeClass(body, off);\r\n                        \r\n                        if (eventTriggerState) {\r\n                            Plugin.eventTrigger('minimizeOn', the);\r\n                            eventTriggerState = false;\r\n                        }\r\n                    } else { // back scroll mode\r\n                        KUtil.addClass(body, off);\r\n                        KUtil.removeClass(body, on);\r\n\r\n                        if (eventTriggerState == false) {\r\n                            Plugin.eventTrigger('minimizeOff', the);\r\n                            eventTriggerState = true; \r\n                        }\r\n                    }\r\n                } else {\r\n                    if (st > offset && lastScrollTop < st) { // down scroll mode\r\n                        KUtil.addClass(body, on);\r\n                        KUtil.removeClass(body, off);\r\n\r\n                        if (eventTriggerState) {\r\n                            Plugin.eventTrigger('minimizeOn', the);\r\n                            eventTriggerState = false;\r\n                        }\r\n                    } else { // back scroll mode\r\n                        KUtil.addClass(body, off);\r\n                        KUtil.removeClass(body, on);\r\n\r\n                        if (eventTriggerState == false) {\r\n                            Plugin.eventTrigger('minimizeOff', the);\r\n                            eventTriggerState = true;\r\n                        }\r\n                    }\r\n\r\n                    lastScrollTop = st;\r\n                }\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Trigger events\r\n         */\r\n        eventTrigger: function(name, args) {\r\n            for (var i = 0; i < the.events.length; i++) {\r\n                var event = the.events[i];\r\n                if (event.name == name) {\r\n                    if (event.one == true) {\r\n                        if (event.fired == false) {\r\n                            the.events[i].fired = true;\r\n                            event.handler.call(this, the, args);\r\n                        }\r\n                    } else {\r\n                        event.handler.call(this, the, args);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n\r\n    /**\r\n     * Set default options \r\n     */\r\n\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    /**\r\n     * Register event\r\n     */\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    ///////////////////////////////\r\n    // ** Plugin Construction ** //\r\n    ///////////////////////////////\r\n\r\n    // Run plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    // Init done\r\n    init = true;\r\n\r\n    // Return plugin instance\r\n    return the;\r\n};\n\"use strict\";\r\nvar KMenu = function(elementId, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = KUtil.get(elementId);\r\n    var body = KUtil.get('body');  \r\n\r\n    if (!element) {\r\n        return;\r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {       \r\n        // accordion submenu mode\r\n        accordion: {\r\n            slideSpeed: 200, // accordion toggle slide speed in milliseconds\r\n            autoScroll: false, // enable auto scrolling(focus) to the clicked menu item\r\n            autoScrollSpeed: 1200,\r\n            expandAll: true // allow having multiple expanded accordions in the menu\r\n        },\r\n\r\n        // dropdown submenu mode\r\n        dropdown: {\r\n            timeout: 500 // timeout in milliseconds to show and hide the hoverable submenu dropdown\r\n        }\r\n    };\r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        /**\r\n         * Run plugin\r\n         * @returns {KMenu}\r\n         */\r\n        construct: function(options) {\r\n            if (KUtil.data(element).has('menu')) {\r\n                the = KUtil.data(element).get('menu');\r\n            } else {\r\n                // reset menu\r\n                Plugin.init(options);\r\n\r\n                // reset menu\r\n                Plugin.reset();\r\n\r\n                // build menu\r\n                Plugin.build();\r\n\r\n                KUtil.data(element).set('menu', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Handles submenu click toggle\r\n         * @returns {KMenu}\r\n         */\r\n        init: function(options) {\r\n            the.events = [];\r\n\r\n            the.eventHandlers = {};\r\n\r\n            // merge default and user defined options\r\n            the.options = KUtil.deepExtend({}, defaultOptions, options);\r\n\r\n            // pause menu\r\n            the.pauseDropdownHoverTime = 0;\r\n\r\n            the.uid = KUtil.getUniqueID();\r\n        },\r\n\r\n        update: function(options) {\r\n            // merge default and user defined options\r\n            the.options = KUtil.deepExtend({}, defaultOptions, options);\r\n\r\n            // pause menu\r\n            the.pauseDropdownHoverTime = 0;\r\n\r\n             // reset menu\r\n            Plugin.reset();\r\n\r\n            the.eventHandlers = {};\r\n\r\n            // build menu\r\n            Plugin.build();\r\n\r\n            KUtil.data(element).set('menu', the);\r\n        },\r\n\r\n        reload: function() {\r\n             // reset menu\r\n            Plugin.reset();\r\n\r\n            // build menu\r\n            Plugin.build();\r\n\r\n            // reset submenu props\r\n            Plugin.resetSubmenuProps();\r\n        },\r\n\r\n        /**\r\n         * Reset menu\r\n         * @returns {KMenu}\r\n         */\r\n        build: function() {\r\n            // General accordion submenu toggle\r\n            the.eventHandlers['event_1'] = KUtil.on( element, '.k-menu__toggle', 'click', Plugin.handleSubmenuAccordion);\r\n\r\n            // Dropdown mode(hoverable)\r\n            if (Plugin.getSubmenuMode() === 'dropdown' || Plugin.isConditionalSubmenuDropdown()) {\r\n                // dropdown submenu - hover toggle\r\n                the.eventHandlers['event_2'] = KUtil.on( element, '[data-kmenu-submenu-toggle=\"hover\"]', 'mouseover', Plugin.handleSubmenuDrodownHoverEnter);\r\n                the.eventHandlers['event_3'] = KUtil.on( element, '[data-kmenu-submenu-toggle=\"hover\"]', 'mouseout', Plugin.handleSubmenuDrodownHoverExit);\r\n\r\n                // dropdown submenu - click toggle\r\n                the.eventHandlers['event_4'] = KUtil.on( element, '[data-kmenu-submenu-toggle=\"click\"] > .k-menu__toggle, [data-kmenu-submenu-toggle=\"click\"] > .k-menu__link .k-menu__toggle', 'click', Plugin.handleSubmenuDropdownClick);\r\n                the.eventHandlers['event_5'] = KUtil.on( element, '[data-kmenu-submenu-toggle=\"tab\"] > .k-menu__toggle, [data-kmenu-submenu-toggle=\"tab\"] > .k-menu__link .k-menu__toggle', 'click', Plugin.handleSubmenuDropdownTabClick);\r\n            }\r\n\r\n            // General link click\r\n            // the.eventHandlers['event_6'] = KUtil.on(element, '.k-menu__item:not(.k-menu__item--submenu) > .k-menu__link:not(.k-menu__toggle):not(.k-menu__link--toggle-skip)', 'click', Plugin.handleLinkClick);\r\n\r\n            // Init scrollable menu\r\n            if (the.options.scroll && the.options.scroll.height) {\r\n                Plugin.scrollInit();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Reset menu\r\n         * @returns {KMenu}\r\n         */\r\n        reset: function() { \r\n            KUtil.off( element, 'click', the.eventHandlers['event_1']);\r\n\r\n            // dropdown submenu - hover toggle\r\n            KUtil.off( element, 'mouseover', the.eventHandlers['event_2']);\r\n            KUtil.off( element, 'mouseout', the.eventHandlers['event_3']);\r\n\r\n            // dropdown submenu - click toggle\r\n            KUtil.off( element, 'click', the.eventHandlers['event_4']);\r\n            KUtil.off( element, 'click', the.eventHandlers['event_5']);\r\n            \r\n            KUtil.off(element, 'click', the.eventHandlers['event_6']);\r\n        },\r\n\r\n        /**\r\n         * Init scroll menu\r\n         *\r\n        */\r\n        scrollInit: function() {\r\n            if ( the.options.scroll && the.options.scroll.height ) {\r\n                KUtil.scrollDestroy(element);\r\n                KUtil.scrollInit(element, {disableForMobile: true, resetHeightOnDestroy: true, handleWindowResize: true, height: the.options.scroll.height});\r\n            } else {\r\n                KUtil.scrollDestroy(element);\r\n            }           \r\n        },\r\n\r\n        /**\r\n         * Update scroll menu\r\n        */\r\n        scrollUpdate: function() {\r\n            if ( the.options.scroll && the.options.scroll.height ) {\r\n                KUtil.scrollUpdate(element);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Scroll top\r\n        */\r\n        scrollTop: function() {\r\n            if ( the.options.scroll && the.options.scroll.height ) {\r\n                KUtil.scrollTop(element);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get submenu mode for current breakpoint and menu state\r\n         * @returns {KMenu}\r\n         */\r\n        getSubmenuMode: function(el) {\r\n            if ( KUtil.isInResponsiveRange('desktop') ) {\r\n                if (el && KUtil.hasAttr(el, 'data-kmenu-submenu-toggle')) {\r\n                    return KUtil.attr(el, 'data-kmenu-submenu-toggle');\r\n                }\r\n\r\n                if ( KUtil.isset(the.options.submenu, 'desktop.state.body') ) {\r\n                    if ( KUtil.hasClass(body, the.options.submenu.desktop.state.body) ) {\r\n                        return the.options.submenu.desktop.state.mode;\r\n                    } else {\r\n                        return the.options.submenu.desktop.default;\r\n                    }\r\n                } else if ( KUtil.isset(the.options.submenu, 'desktop') ) {\r\n                    return the.options.submenu.desktop;\r\n                }\r\n            } else if ( KUtil.isInResponsiveRange('tablet') && KUtil.isset(the.options.submenu, 'tablet') ) {\r\n                return the.options.submenu.tablet;\r\n            } else if ( KUtil.isInResponsiveRange('mobile') && KUtil.isset(the.options.submenu, 'mobile') ) {\r\n                return the.options.submenu.mobile;\r\n            } else {\r\n                return false;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get submenu mode for current breakpoint and menu state\r\n         * @returns {KMenu}\r\n         */\r\n        isConditionalSubmenuDropdown: function() {\r\n            if ( KUtil.isInResponsiveRange('desktop') && KUtil.isset(the.options.submenu, 'desktop.state.body') ) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        },\r\n\r\n\r\n        /**\r\n         * Reset submenu attributes\r\n         * @returns {KMenu}\r\n         */\r\n        resetSubmenuProps: function(e) {\r\n            var submenus = KUtil.findAll(element, '.k-menu__submenu');\r\n            if ( submenus ) {\r\n                for (var i = 0, len = submenus.length; i < len; i++) {\r\n                    KUtil.css(submenus[0], 'display', '');\r\n                    KUtil.css(submenus[0], 'overflow', '');                                        \r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handles submenu hover toggle\r\n         * @returns {KMenu}\r\n         */\r\n        handleSubmenuDrodownHoverEnter: function(e) {\r\n            if ( Plugin.getSubmenuMode(this) === 'accordion' ) {\r\n                return;\r\n            }\r\n\r\n            if ( the.resumeDropdownHover() === false ) {\r\n                return;\r\n            }\r\n\r\n            var item = this;\r\n\r\n            if ( item.getAttribute('data-hover') == '1' ) {\r\n                item.removeAttribute('data-hover');\r\n                clearTimeout( item.getAttribute('data-timeout') );\r\n                item.removeAttribute('data-timeout');\r\n                //Plugin.hideSubmenuDropdown(item, false);\r\n            }\r\n\r\n            // console.log('test!');\r\n\r\n            Plugin.showSubmenuDropdown(item);\r\n        },\r\n\r\n        /**\r\n         * Handles submenu hover toggle\r\n         * @returns {KMenu}\r\n         */\r\n        handleSubmenuDrodownHoverExit: function(e) {\r\n            if ( the.resumeDropdownHover() === false ) {\r\n                return;\r\n            }\r\n\r\n            if ( Plugin.getSubmenuMode(this) === 'accordion' ) {\r\n                return;\r\n            }\r\n\r\n            var item = this;\r\n            var time = the.options.dropdown.timeout;\r\n\r\n            var timeout = setTimeout(function() {\r\n                if ( item.getAttribute('data-hover') == '1' ) {\r\n                    Plugin.hideSubmenuDropdown(item, true);\r\n                } \r\n            }, time);\r\n\r\n            item.setAttribute('data-hover', '1');\r\n            item.setAttribute('data-timeout', timeout);  \r\n        },\r\n\r\n        /**\r\n         * Handles submenu click toggle\r\n         * @returns {KMenu}\r\n         */\r\n        handleSubmenuDropdownClick: function(e) {\r\n            if ( Plugin.getSubmenuMode(this) === 'accordion' ) {\r\n                return;\r\n            }\r\n \r\n            var item = this.closest('.k-menu__item'); \r\n\r\n            if ( item.getAttribute('data-kmenu-submenu-mode') == 'accordion' ) {\r\n                return;\r\n            }\r\n\r\n            if ( KUtil.hasClass(item, 'k-menu__item--hover') === false ) {\r\n                KUtil.addClass(item, 'k-menu__item--open-dropdown');\r\n                Plugin.showSubmenuDropdown(item);\r\n            } else {\r\n                KUtil.removeClass(item, 'k-menu__item--open-dropdown' );\r\n                Plugin.hideSubmenuDropdown(item, true);\r\n            }\r\n\r\n            e.preventDefault();\r\n        },\r\n\r\n        /**\r\n         * Handles tab click toggle\r\n         * @returns {KMenu}\r\n         */\r\n        handleSubmenuDropdownTabClick: function(e) {\r\n            if (Plugin.getSubmenuMode(this) === 'accordion') {\r\n                return;\r\n            }\r\n\r\n            var item = this.closest('.k-menu__item');\r\n\r\n            if (item.getAttribute('data-kmenu-submenu-mode') == 'accordion') {\r\n                return;\r\n            }\r\n\r\n            if (KUtil.hasClass(item, 'k-menu__item--hover') == false) {\r\n                KUtil.addClass(item, 'k-menu__item--open-dropdown');\r\n                Plugin.showSubmenuDropdown(item);\r\n            }\r\n\r\n            e.preventDefault();\r\n        },\r\n\r\n        /**\r\n         * Handles submenu dropdown close on link click\r\n         * @returns {KMenu}\r\n         */\r\n        handleSubmenuDropdownClose: function(e, el) {\r\n            // exit if its not submenu dropdown mode\r\n            if (Plugin.getSubmenuMode(el) === 'accordion') {\r\n                return;\r\n            }\r\n\r\n            var shown = element.querySelectorAll('.k-menu__item.k-menu__item--submenu.k-menu__item--hover:not(.k-menu__item--tabs)');\r\n\r\n            // check if currently clicked link's parent item ha\r\n            if (shown.length > 0 && KUtil.hasClass(el, 'k-menu__toggle') === false && el.querySelectorAll('.k-menu__toggle').length === 0) {\r\n                // close opened dropdown menus\r\n                for (var i = 0, len = shown.length; i < len; i++) {\r\n                    Plugin.hideSubmenuDropdown(shown[0], true);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * helper functions\r\n         * @returns {KMenu}\r\n         */\r\n        handleSubmenuAccordion: function(e, el) {\r\n            var query;\r\n            var item = el ? el : this;\r\n\r\n            if ( Plugin.getSubmenuMode(el) === 'dropdown' && (query = item.closest('.k-menu__item') ) ) {\r\n                if (query.getAttribute('data-kmenu-submenu-mode') != 'accordion' ) {\r\n                    e.preventDefault();\r\n                    return;\r\n                }\r\n            }\r\n\r\n            var li = item.closest('.k-menu__item');\r\n            var submenu = KUtil.child(li, '.k-menu__submenu, .k-menu__inner');\r\n\r\n            if (KUtil.hasClass(item.closest('.k-menu__item'), 'k-menu__item--open-always')) {\r\n                return;\r\n            }\r\n\r\n            if ( li && submenu ) {\r\n                e.preventDefault();\r\n                var speed = the.options.accordion.slideSpeed;\r\n                var hasClosables = false;\r\n\r\n                if ( KUtil.hasClass(li, 'k-menu__item--open') === false ) {\r\n                    // hide other accordions                    \r\n                    if ( the.options.accordion.expandAll === false ) {\r\n                        var subnav = item.closest('.k-menu__nav, .k-menu__subnav');\r\n                        var closables = KUtil.children(subnav, '.k-menu__item.k-menu__item--open.k-menu__item--submenu:not(.k-menu__item--here):not(.k-menu__item--open-always)');\r\n\r\n                        if ( subnav && closables ) {\r\n                            for (var i = 0, len = closables.length; i < len; i++) {\r\n                                var el_ = closables[0];\r\n                                var submenu_ = KUtil.child(el_, '.k-menu__submenu');\r\n                                if ( submenu_ ) {\r\n                                    KUtil.slideUp(submenu_, speed, function() {\r\n                                        Plugin.scrollUpdate();\r\n                                        KUtil.removeClass(el_, 'k-menu__item--open');\r\n                                    });                    \r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    KUtil.slideDown(submenu, speed, function() {\r\n                        Plugin.scrollToItem(item);\r\n                        Plugin.scrollUpdate();\r\n                        \r\n                        Plugin.eventTrigger('submenuToggle', submenu);\r\n                    });\r\n                \r\n                    KUtil.addClass(li, 'k-menu__item--open');\r\n\r\n                } else {\r\n                    KUtil.slideUp(submenu, speed, function() {\r\n                        Plugin.scrollToItem(item);\r\n                        Plugin.eventTrigger('submenuToggle', submenu);\r\n                    });\r\n\r\n                    KUtil.removeClass(li, 'k-menu__item--open');       \r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * scroll to item function\r\n         * @returns {KMenu}\r\n         */\r\n        scrollToItem: function(item) {\r\n            // handle auto scroll for accordion submenus\r\n            if ( KUtil.isInResponsiveRange('desktop') && the.options.accordion.autoScroll && element.getAttribute('data-kmenu-scroll') !== '1' ) {\r\n                KUtil.scrollTo(item, the.options.accordion.autoScrollSpeed);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * helper functions\r\n         * @returns {KMenu}\r\n         */\r\n        hideSubmenuDropdown: function(item, classAlso) {\r\n            // remove submenu activation class\r\n            if ( classAlso ) {\r\n                KUtil.removeClass(item, 'k-menu__item--hover');\r\n                KUtil.removeClass(item, 'k-menu__item--active-tab');\r\n            }\r\n\r\n            // clear timeout\r\n            item.removeAttribute('data-hover');\r\n\r\n            if ( item.getAttribute('data-kmenu-dropdown-toggle-class') ) {\r\n                KUtil.removeClass(body, item.getAttribute('data-kmenu-dropdown-toggle-class'));\r\n            }\r\n\r\n            var timeout = item.getAttribute('data-timeout');\r\n            item.removeAttribute('data-timeout');\r\n            clearTimeout(timeout);\r\n        },\r\n\r\n        /**\r\n         * helper functions\r\n         * @returns {KMenu}\r\n         */\r\n        showSubmenuDropdown: function(item) {\r\n            // close active submenus\r\n            var list = element.querySelectorAll('.k-menu__item--submenu.k-menu__item--hover, .k-menu__item--submenu.k-menu__item--active-tab');\r\n\r\n            if ( list ) {\r\n                for (var i = 0, len = list.length; i < len; i++) {\r\n                    var el = list[i];\r\n                    if ( item !== el && el.contains(item) === false && item.contains(el) === false ) {\r\n                        Plugin.hideSubmenuDropdown(el, true);\r\n                    }\r\n                }\r\n            } \r\n\r\n            // add submenu activation class\r\n            KUtil.addClass(item, 'k-menu__item--hover');\r\n            \r\n            if ( item.getAttribute('data-kmenu-dropdown-toggle-class') ) {\r\n                KUtil.addClass(body, item.getAttribute('data-kmenu-dropdown-toggle-class'));\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handles submenu slide toggle\r\n         * @returns {KMenu}\r\n         */\r\n        createSubmenuDropdownClickDropoff: function(el) {\r\n            var query;\r\n            var zIndex = (query = KUtil.child(el, '.k-menu__submenu') ? KUtil.css(query, 'z-index') : 0) - 1;\r\n\r\n            var dropoff = document.createElement('<div class=\"k-menu__dropoff\" style=\"background: transparent; position: fixed; top: 0; bottom: 0; left: 0; right: 0; z-index: ' + zIndex + '\"></div>');\r\n\r\n            body.appendChild(dropoff);\r\n\r\n            KUtil.addEvent(dropoff, 'click', function(e) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n                KUtil.remove(this);\r\n                Plugin.hideSubmenuDropdown(el, true);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Handles submenu hover toggle\r\n         * @returns {KMenu}\r\n         */\r\n        pauseDropdownHover: function(time) {\r\n            var date = new Date();\r\n\r\n            the.pauseDropdownHoverTime = date.getTime() + time;\r\n        },\r\n\r\n        /**\r\n         * Handles submenu hover toggle\r\n         * @returns {KMenu}\r\n         */\r\n        resumeDropdownHover: function() {\r\n            var date = new Date();\r\n\r\n            return (date.getTime() > the.pauseDropdownHoverTime ? true : false);\r\n        },\r\n\r\n        /**\r\n         * Reset menu's current active item\r\n         * @returns {KMenu}\r\n         */\r\n        resetActiveItem: function(item) {\r\n            var list;\r\n            var parents;\r\n\r\n            list = element.querySelectorAll('.k-menu__item--active');\r\n            \r\n            for (var i = 0, len = list.length; i < len; i++) {\r\n                var el = list[0];\r\n                KUtil.removeClass(el, 'k-menu__item--active');\r\n                KUtil.hide( KUtil.child(el, '.k-menu__submenu') );\r\n                parents = KUtil.parents(el, '.k-menu__item--submenu');\r\n\r\n                for (var i_ = 0, len_ = parents.length; i_ < len_; i_++) {\r\n                    var el_ = parents[i];\r\n                    KUtil.removeClass(el_, 'k-menu__item--open');\r\n                    KUtil.hide( KUtil.child(el_, '.k-menu__submenu') );\r\n                }\r\n            }\r\n\r\n            // close open submenus\r\n            if ( the.options.accordion.expandAll === false ) {\r\n                if ( list = element.querySelectorAll('.k-menu__item--open') ) {\r\n                    for (var i = 0, len = list.length; i < len; i++) {\r\n                        KUtil.removeClass(parents[0], 'k-menu__item--open');\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Sets menu's active item\r\n         * @returns {KMenu}\r\n         */\r\n        setActiveItem: function(item) {\r\n            // reset current active item\r\n            Plugin.resetActiveItem();\r\n\r\n            KUtil.addClass(item, 'k-menu__item--active');\r\n            \r\n            var parents = KUtil.parents(item, '.k-menu__item--submenu');\r\n            for (var i = 0, len = parents.length; i < len; i++) {\r\n                KUtil.addClass(parents[i], 'k-menu__item--open');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Returns page breadcrumbs for the menu's active item\r\n         * @returns {KMenu}\r\n         */\r\n        getBreadcrumbs: function(item) {\r\n            var query;\r\n            var breadcrumbs = [];\r\n            var link = KUtil.child(item, '.k-menu__link');\r\n\r\n            breadcrumbs.push({\r\n                text: (query = KUtil.child(link, '.k-menu__link-text') ? query.innerHTML : ''),\r\n                title: link.getAttribute('title'),\r\n                href: link.getAttribute('href')\r\n            });\r\n\r\n            var parents = KUtil.parents(item, '.k-menu__item--submenu');\r\n            for (var i = 0, len = parents.length; i < len; i++) {\r\n                var submenuLink = KUtil.child(parents[i], '.k-menu__link');\r\n\r\n                breadcrumbs.push({\r\n                    text: (query = KUtil.child(submenuLink, '.k-menu__link-text') ? query.innerHTML : ''),\r\n                    title: submenuLink.getAttribute('title'),\r\n                    href: submenuLink.getAttribute('href')\r\n                });\r\n            }\r\n\r\n            return  breadcrumbs.reverse();\r\n        },\r\n\r\n        /**\r\n         * Returns page title for the menu's active item\r\n         * @returns {KMenu}\r\n         */\r\n        getPageTitle: function(item) {\r\n            var query;\r\n\r\n            return (query = KUtil.child(item, '.k-menu__link-text') ? query.innerHTML : '');\r\n        },\r\n\r\n        /**\r\n         * Trigger events\r\n         */\r\n        eventTrigger: function(name, args) {\r\n            for (var i = 0; i < the.events.length; i++ ) {\r\n                var event = the.events[i];\r\n                if ( event.name == name ) {\r\n                    if ( event.one == true ) {\r\n                        if ( event.fired == false ) {\r\n                            the.events[i].fired = true;\r\n                            event.handler.call(this, the, args);\r\n                        }\r\n                    } else {\r\n                        event.handler.call(this, the, args);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n        },\r\n\r\n        removeEvent: function(name) {\r\n            if (the.events[name]) {\r\n                delete the.events[name];\r\n            }\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n\r\n    /**\r\n     * Set default options \r\n     */\r\n\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    /**\r\n     * Update scroll\r\n     */\r\n    the.scrollUpdate = function() {\r\n        return Plugin.scrollUpdate();\r\n    };\r\n\r\n    /**\r\n     * Re-init scroll\r\n     */\r\n    the.scrollReInit = function() {\r\n        return Plugin.scrollInit();\r\n    };\r\n\r\n    /**\r\n     * Scroll top\r\n     */\r\n    the.scrollTop = function() {\r\n        return Plugin.scrollTop();\r\n    };\r\n\r\n    /**\r\n     * Set active menu item\r\n     */\r\n    the.setActiveItem = function(item) {\r\n        return Plugin.setActiveItem(item);\r\n    };\r\n\r\n    the.reload = function() {\r\n        return Plugin.reload();\r\n    };\r\n\r\n    the.update = function(options) {\r\n        return Plugin.update(options);\r\n    };\r\n\r\n    /**\r\n     * Set breadcrumb for menu item\r\n     */\r\n    the.getBreadcrumbs = function(item) {\r\n        return Plugin.getBreadcrumbs(item);\r\n    };\r\n\r\n    /**\r\n     * Set page title for menu item\r\n     */\r\n    the.getPageTitle = function(item) {\r\n        return Plugin.getPageTitle(item);\r\n    };\r\n\r\n    /**\r\n     * Get submenu mode\r\n     */\r\n    the.getSubmenuMode = function(el) {\r\n        return Plugin.getSubmenuMode(el);\r\n    };\r\n\r\n    /**\r\n     * Hide dropdown submenu\r\n     * @returns {jQuery}\r\n     */\r\n    the.hideDropdown = function(item) {\r\n        Plugin.hideSubmenuDropdown(item, true);\r\n    };\r\n\r\n    /**\r\n     * Disable menu for given time\r\n     * @returns {jQuery}\r\n     */\r\n    the.pauseDropdownHover = function(time) {\r\n        Plugin.pauseDropdownHover(time);\r\n    };\r\n\r\n    /**\r\n     * Disable menu for given time\r\n     * @returns {jQuery}\r\n     */\r\n    the.resumeDropdownHover = function() {\r\n        return Plugin.resumeDropdownHover();\r\n    };\r\n\r\n    /**\r\n     * Register event\r\n     */\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    the.off = function(name) {\r\n        return Plugin.removeEvent(name);\r\n    };\r\n\r\n    the.one = function(name, handler) {\r\n        return Plugin.addEvent(name, handler, true);\r\n    };\r\n\r\n    ///////////////////////////////\r\n    // ** Plugin Construction ** //\r\n    ///////////////////////////////\r\n\r\n    // Run plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    // Handle plugin on window resize\r\n    KUtil.addResizeHandler(function() {\r\n        if (init) {\r\n            the.reload();\r\n        }  \r\n    });\r\n\r\n    // Init done\r\n    init = true;\r\n\r\n    // Return plugin instance\r\n    return the;\r\n};\r\n\r\n// Plugin global lazy initialization\r\ndocument.addEventListener(\"click\", function (e) {\r\n    var body = KUtil.get('body');\r\n    var query;\r\n    if ( query = body.querySelectorAll('.k-menu__nav .k-menu__item.k-menu__item--submenu.k-menu__item--hover:not(.k-menu__item--tabs)[data-kmenu-submenu-toggle=\"click\"]') ) {\r\n        for (var i = 0, len = query.length; i < len; i++) {\r\n            var element = query[i].closest('.k-menu__nav').parentNode;\r\n\r\n            if ( element ) {\r\n                var the = KUtil.data(element).get('menu');\r\n\r\n                if ( !the ) {\r\n                    break;\r\n                }\r\n\r\n                if ( !the || the.getSubmenuMode() !== 'dropdown' ) {\r\n                    break;\r\n                }\r\n\r\n                if ( e.target !== element && element.contains(e.target) === false ) {\r\n                    var items;\r\n                    if ( items = element.querySelectorAll('.k-menu__item--submenu.k-menu__item--hover:not(.k-menu__item--tabs)[data-kmenu-submenu-toggle=\"click\"]') ) {\r\n                        for (var j = 0, cnt = items.length; j < cnt; j++) {\r\n                            the.hideDropdown(items[j]);\r\n                        }\r\n                    }\r\n                }\r\n            }            \r\n        }\r\n    } \r\n});\n\"use strict\";\r\nvar KOffcanvas = function(elementId, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = KUtil.get(elementId);\r\n    var body = KUtil.get('body');\r\n\r\n    if (!element) {\r\n        return;\r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {};\r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        construct: function(options) {\r\n            if (KUtil.data(element).has('offcanvas')) {\r\n                the = KUtil.data(element).get('offcanvas');\r\n            } else {\r\n                // reset offcanvas\r\n                Plugin.init(options);\r\n                \r\n                // build offcanvas\r\n                Plugin.build();\r\n\r\n                KUtil.data(element).set('offcanvas', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        init: function(options) {\r\n            the.events = [];\r\n\r\n            // merge default and user defined options\r\n            the.options = KUtil.deepExtend({}, defaultOptions, options);\r\n            the.overlay;\r\n\r\n            the.classBase = the.options.baseClass;\r\n            the.classShown = the.classBase + '--on';\r\n            the.classOverlay = the.classBase + '-overlay';\r\n\r\n            the.state = KUtil.hasClass(element, the.classShown) ? 'shown' : 'hidden';\r\n        },\r\n\r\n        build: function() {\r\n            // offcanvas toggle\r\n            if (the.options.toggleBy) {\r\n                if (typeof the.options.toggleBy === 'string') { \r\n                    KUtil.addEvent( the.options.toggleBy, 'click', function(e) {\r\n                        e.preventDefault();\r\n                        Plugin.toggle();\r\n                    }); \r\n                } else if (the.options.toggleBy && the.options.toggleBy[0] && the.options.toggleBy[0].target) {\r\n                    for (var i in the.options.toggleBy) { \r\n                        KUtil.addEvent( the.options.toggleBy[i].target, 'click', function(e) {\r\n                            e.preventDefault();\r\n                            Plugin.toggle();\r\n                        }); \r\n                    }\r\n                } else if (the.options.toggleBy && the.options.toggleBy.target) {\r\n                    KUtil.addEvent( the.options.toggleBy.target, 'click', function(e) {\r\n                        e.preventDefault();\r\n                        Plugin.toggle();\r\n                    }); \r\n                } \r\n            }\r\n\r\n            // offcanvas close\r\n            var closeBy = KUtil.get(the.options.closeBy);\r\n            if (closeBy) {\r\n                KUtil.addEvent(closeBy, 'click', function(e) {\r\n                    e.preventDefault();\r\n                    Plugin.hide();\r\n                });\r\n            }\r\n        },\r\n\r\n        isShown: function(target) {\r\n            return (the.state == 'shown' ? true : false);\r\n        },\r\n\r\n        toggle: function() {;\r\n            Plugin.eventTrigger('toggle'); \r\n\r\n            if (the.state == 'shown') {\r\n                Plugin.hide(this);\r\n            } else {\r\n                Plugin.show(this);\r\n            }\r\n        },\r\n\r\n        show: function(target) {\r\n            if (the.state == 'shown') {\r\n                return;\r\n            }\r\n\r\n            Plugin.eventTrigger('beforeShow');\r\n\r\n            Plugin.togglerClass(target, 'show');\r\n\r\n            // Offcanvas panel\r\n            KUtil.addClass(body, the.classShown);\r\n            KUtil.addClass(element, the.classShown);\r\n\r\n            the.state = 'shown';\r\n\r\n            if (the.options.overlay) {\r\n                the.overlay = KUtil.insertAfter(document.createElement('DIV') , element );\r\n                KUtil.addClass(the.overlay, the.classOverlay);\r\n                KUtil.addEvent(the.overlay, 'click', function(e) {\r\n                    e.stopPropagation();\r\n                    e.preventDefault();\r\n                    Plugin.hide(target);       \r\n                });\r\n            }\r\n\r\n            Plugin.eventTrigger('afterShow');\r\n        },\r\n\r\n        hide: function(target) {\r\n            if (the.state == 'hidden') {\r\n                return;\r\n            }\r\n\r\n            Plugin.eventTrigger('beforeHide');\r\n\r\n            Plugin.togglerClass(target, 'hide');\r\n\r\n            KUtil.removeClass(body, the.classShown);\r\n            KUtil.removeClass(element, the.classShown);\r\n\r\n            the.state = 'hidden';\r\n\r\n            if (the.options.overlay && the.overlay) {\r\n                KUtil.remove(the.overlay);\r\n            }\r\n\r\n            Plugin.eventTrigger('afterHide');\r\n        },\r\n\r\n        togglerClass: function(target, mode) {\r\n            // Toggler\r\n            var id = KUtil.attr(target, 'id');\r\n            var toggleBy;\r\n\r\n            if (the.options.toggleBy && the.options.toggleBy[0] && the.options.toggleBy[0].target) {\r\n                for (var i in the.options.toggleBy) {\r\n                    if (the.options.toggleBy[i].target === id) {\r\n                        toggleBy = the.options.toggleBy[i];\r\n                    }        \r\n                }\r\n            } else if (the.options.toggleBy && the.options.toggleBy.target) {\r\n                toggleBy = the.options.toggleBy;\r\n            }\r\n\r\n            if (toggleBy) {                \r\n                var el = KUtil.get(toggleBy.target);\r\n                \r\n                if (mode === 'show') {\r\n                    KUtil.addClass(el, toggleBy.state);\r\n                }\r\n\r\n                if (mode === 'hide') {\r\n                    KUtil.removeClass(el, toggleBy.state);\r\n                }\r\n            }\r\n        },\r\n\r\n        eventTrigger: function(name, args) {\r\n            for (var i = 0; i < the.events.length; i++) {\r\n                var event = the.events[i];\r\n                if (event.name == name) {\r\n                    if (event.one == true) {\r\n                        if (event.fired == false) {\r\n                            the.events[i].fired = true;\r\n                            event.handler.call(this, the, args);\r\n                        }\r\n                    } else {\r\n                        event.handler.call(this, the, args);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    the.isShown = function() {\r\n        return Plugin.isShown();\r\n    };\r\n\r\n    the.hide = function() {\r\n        return Plugin.hide();\r\n    };\r\n\r\n    the.show = function() {\r\n        return Plugin.show();\r\n    };\r\n\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    the.one = function(name, handler) {\r\n        return Plugin.addEvent(name, handler, true);\r\n    };\r\n\r\n    ///////////////////////////////\r\n    // ** Plugin Construction ** //\r\n    ///////////////////////////////\r\n\r\n    // Run plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    // Init done\r\n    init = true;\r\n\r\n    // Return plugin instance\r\n    return the;\r\n};\n\"use strict\";\r\n// plugin setup\r\nvar KPortlet = function(elementId, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = KUtil.get(elementId);\r\n    var body = KUtil.get('body');\r\n\r\n    if (!element) {\r\n        return;\r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {\r\n        bodyToggleSpeed: 400,\r\n        tooltips: true,\r\n        tools: {\r\n            toggle: {\r\n                collapse: 'Collapse',\r\n                expand: 'Expand'\r\n            },\r\n            reload: 'Reload',\r\n            remove: 'Remove',\r\n            fullscreen: {\r\n                on: 'Fullscreen',\r\n                off: 'Exit Fullscreen'\r\n            }\r\n        },\r\n        sticky: {\r\n            offset: 300,\r\n            zIndex: 101\r\n        }\r\n    };\r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        /**\r\n         * Construct\r\n         */\r\n\r\n        construct: function(options) {\r\n            if (KUtil.data(element).has('portlet')) {\r\n                the = KUtil.data(element).get('portlet');\r\n            } else {\r\n                // reset menu\r\n                Plugin.init(options);\r\n\r\n                // build menu\r\n                Plugin.build();\r\n\r\n                KUtil.data(element).set('portlet', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Init portlet\r\n         */\r\n        init: function(options) {\r\n            the.element = element;\r\n            the.events = [];\r\n\r\n            // merge default and user defined options\r\n            the.options = KUtil.deepExtend({}, defaultOptions, options);\r\n            the.head = KUtil.child(element, '.k-portlet__head');\r\n            the.foot = KUtil.child(element, '.k-portlet__foot');\r\n\r\n            if (KUtil.child(element, '.k-portlet__body')) {\r\n                the.body = KUtil.child(element, '.k-portlet__body');\r\n            } else if (KUtil.child(element, '.k-form').length !== 0) {\r\n                the.body = KUtil.child(element, '.k-form');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Build Form Wizard\r\n         */\r\n        build: function() {\r\n            // Remove\r\n            var remove = KUtil.find(the.head, '[data-kportlet-tool=remove]');\r\n            if (remove) {\r\n                KUtil.addEvent(remove, 'click', function(e) {\r\n                    e.preventDefault();\r\n                    Plugin.remove();\r\n                });\r\n            }\r\n\r\n            // Reload\r\n            var reload = KUtil.find(the.head, '[data-kportlet-tool=reload]');\r\n            if (reload) {\r\n                KUtil.addEvent(reload, 'click', function(e) {\r\n                    e.preventDefault();\r\n                    Plugin.reload();\r\n                });\r\n            }\r\n\r\n            // Toggle\r\n            var toggle = KUtil.find(the.head, '[data-kportlet-tool=toggle]');\r\n            if (toggle) {\r\n                KUtil.addEvent(toggle, 'click', function(e) {\r\n                    e.preventDefault();\r\n                    Plugin.toggle();\r\n                });\r\n            }\r\n\r\n            //== Fullscreen\r\n            var fullscreen = KUtil.find(the.head, '[data-kportlet-tool=fullscreen]');\r\n            if (fullscreen) {\r\n                KUtil.addEvent(fullscreen, 'click', function(e) {\r\n                    e.preventDefault();\r\n                    Plugin.fullscreen();\r\n                });\r\n            }\r\n\r\n            Plugin.setupTooltips();\r\n        },\r\n\r\n        /**\r\n         * Enable stickt mode\r\n         */\r\n        initSticky: function() {\r\n            var lastScrollTop = 0;\r\n            var offset = the.options.sticky.offset;\r\n\r\n            if (!the.head) {\r\n                return;\r\n            }\r\n\r\n\t        window.addEventListener('scroll', Plugin.onScrollSticky);\r\n        },\r\n\r\n\t    /**\r\n\t     * Window scroll handle event for sticky portlet\r\n\t     */\r\n\t    onScrollSticky: function(e) {\r\n\t\t    var offset = the.options.sticky.offset;\r\n\t\t    if(isNaN(offset)) return;\r\n\r\n\t\t    var st = document.documentElement.scrollTop;\r\n\r\n\t\t    if (st >= offset && KUtil.hasClass(body, 'k-portlet--sticky') === false) {\r\n\t\t\t    Plugin.eventTrigger('stickyOn');\r\n\r\n\t\t\t    KUtil.addClass(body, 'k-portlet--sticky');\r\n\t\t\t    KUtil.addClass(element, 'k-portlet--sticky');\r\n\r\n\t\t\t    Plugin.updateSticky();\r\n\r\n\t\t    } else if ((st*1.5) <= offset && KUtil.hasClass(body, 'k-portlet--sticky')) {\r\n\t\t\t    // back scroll mode\r\n\t\t\t    Plugin.eventTrigger('stickyOff');\r\n\r\n\t\t\t    KUtil.removeClass(body, 'k-portlet--sticky');\r\n\t\t\t    KUtil.removeClass(element, 'k-portlet--sticky');\r\n\r\n\t\t\t    Plugin.resetSticky();\r\n\t\t    }\r\n\t    },\r\n\r\n        updateSticky: function() {\r\n            if (!the.head) {\r\n                return;\r\n            }\r\n\r\n            var top;\r\n\r\n            if (KUtil.hasClass(body, 'k-portlet--sticky')) {\r\n                if (the.options.sticky.position.top instanceof Function) {\r\n                    top = parseInt(the.options.sticky.position.top.call());\r\n                } else {\r\n                    top = parseInt(the.options.sticky.position.top);\r\n                }\r\n\r\n                var left;\r\n                if (the.options.sticky.position.left instanceof Function) {\r\n                    left = parseInt(the.options.sticky.position.left.call());\r\n                } else {\r\n                    left = parseInt(the.options.sticky.position.left);\r\n                }\r\n\r\n                var right;\r\n                if (the.options.sticky.position.right instanceof Function) {\r\n                    right = parseInt(the.options.sticky.position.right.call());\r\n                } else {\r\n                    right = parseInt(the.options.sticky.position.right);\r\n                }\r\n\r\n                KUtil.css(the.head, 'z-index', the.options.sticky.zIndex);\r\n                KUtil.css(the.head, 'top', top + 'px');\r\n                KUtil.css(the.head, 'left', left + 'px');\r\n                KUtil.css(the.head, 'right', right + 'px');\r\n            }\r\n        },\r\n\r\n        resetSticky: function() {\r\n            if (!the.head) {\r\n                return;\r\n            }\r\n\r\n            if (KUtil.hasClass(body, 'k-portlet--sticky') === false) {\r\n                KUtil.css(the.head, 'z-index', '');\r\n                KUtil.css(the.head, 'top', '');\r\n                KUtil.css(the.head, 'left', '');\r\n                KUtil.css(the.head, 'right', '');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Remove portlet\r\n         */\r\n        remove: function() {\r\n            if (Plugin.eventTrigger('beforeRemove') === false) {\r\n                return;\r\n            }\r\n\r\n            if (KUtil.hasClass(body, 'k-portlet--fullscreen') && KUtil.hasClass(element, 'k-portlet--fullscreen')) {\r\n                Plugin.fullscreen('off');\r\n            }\r\n\r\n            Plugin.removeTooltips();\r\n\r\n            KUtil.remove(element);\r\n\r\n            Plugin.eventTrigger('afterRemove');\r\n        },\r\n\r\n        /**\r\n         * Set content\r\n         */\r\n        setContent: function(html) {\r\n            if (html) {\r\n                the.body.innerHTML = html;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get body\r\n         */\r\n        getBody: function() {\r\n            return the.body;\r\n        },\r\n\r\n        /**\r\n         * Get self\r\n         */\r\n        getSelf: function() {\r\n            return element;\r\n        },\r\n\r\n        /**\r\n         * Setup tooltips\r\n         */\r\n        setupTooltips: function() {\r\n            if (the.options.tooltips) {\r\n                var collapsed = KUtil.hasClass(element, 'k-portlet--collapse') || KUtil.hasClass(element, 'k-portlet--collapsed');\r\n                var fullscreenOn = KUtil.hasClass(body, 'k-portlet--fullscreen') && KUtil.hasClass(element, 'k-portlet--fullscreen');\r\n\r\n                //== Remove\r\n                var remove = KUtil.find(the.head, '[data-kportlet-tool=remove]');\r\n                if (remove) {\r\n                    var placement = (fullscreenOn ? 'bottom' : 'top');\r\n                    var tip = new Tooltip(remove, {\r\n                        title: the.options.tools.remove,\r\n                        placement: placement,\r\n                        offset: (fullscreenOn ? '0,10px,0,0' : '0,5px'),\r\n                        trigger: 'hover',\r\n                        template: '<div class=\"tooltip tooltip-portlet tooltip bs-tooltip-' + placement + '\" role=\"tooltip\">\\\r\n                            <div class=\"tooltip-arrow arrow\"></div>\\\r\n                            <div class=\"tooltip-inner\"></div>\\\r\n                        </div>'\r\n                    });\r\n\r\n                    KUtil.data(remove).set('tooltip', tip);\r\n                }\r\n\r\n                //== Reload\r\n                var reload = KUtil.find(the.head, '[data-kportlet-tool=reload]');\r\n                if (reload) {\r\n                    var placement = (fullscreenOn ? 'bottom' : 'top');\r\n                    var tip = new Tooltip(reload, {\r\n                        title: the.options.tools.reload,\r\n                        placement: placement,\r\n                        offset: (fullscreenOn ? '0,10px,0,0' : '0,5px'),\r\n                        trigger: 'hover',\r\n                        template: '<div class=\"tooltip tooltip-portlet tooltip bs-tooltip-' + placement + '\" role=\"tooltip\">\\\r\n                            <div class=\"tooltip-arrow arrow\"></div>\\\r\n                            <div class=\"tooltip-inner\"></div>\\\r\n                        </div>'\r\n                    });\r\n\r\n                    KUtil.data(reload).set('tooltip', tip);\r\n                }\r\n\r\n                //== Toggle\r\n                var toggle = KUtil.find(the.head, '[data-kportlet-tool=toggle]');\r\n                if (toggle) {\r\n                    var placement = (fullscreenOn ? 'bottom' : 'top');\r\n                    var tip = new Tooltip(toggle, {\r\n                        title: (collapsed ? the.options.tools.toggle.expand : the.options.tools.toggle.collapse),\r\n                        placement: placement,\r\n                        offset: (fullscreenOn ? '0,10px,0,0' : '0,5px'),\r\n                        trigger: 'hover',\r\n                        template: '<div class=\"tooltip tooltip-portlet tooltip bs-tooltip-' + placement + '\" role=\"tooltip\">\\\r\n                            <div class=\"tooltip-arrow arrow\"></div>\\\r\n                            <div class=\"tooltip-inner\"></div>\\\r\n                        </div>'\r\n                    });\r\n\r\n                    KUtil.data(toggle).set('tooltip', tip);\r\n                }\r\n\r\n                //== Fullscreen\r\n                var fullscreen = KUtil.find(the.head, '[data-kportlet-tool=fullscreen]');\r\n                if (fullscreen) {\r\n                    var placement = (fullscreenOn ? 'bottom' : 'top');\r\n                    var tip = new Tooltip(fullscreen, {\r\n                        title: (fullscreenOn ? the.options.tools.fullscreen.off : the.options.tools.fullscreen.on),\r\n                        placement: placement,\r\n                        offset: (fullscreenOn ? '0,10px,0,0' : '0,5px'),\r\n                        trigger: 'hover',\r\n                        template: '<div class=\"tooltip tooltip-portlet tooltip bs-tooltip-' + placement + '\" role=\"tooltip\">\\\r\n                            <div class=\"tooltip-arrow arrow\"></div>\\\r\n                            <div class=\"tooltip-inner\"></div>\\\r\n                        </div>'\r\n                    });\r\n\r\n                    KUtil.data(fullscreen).set('tooltip', tip);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Setup tooltips\r\n         */\r\n        removeTooltips: function() {\r\n            if (the.options.tooltips) {\r\n                //== Remove\r\n                var remove = KUtil.find(the.head, '[data-kportlet-tool=remove]');\r\n                if (remove && KUtil.data(remove).has('tooltip')) {\r\n                    KUtil.data(remove).get('tooltip').dispose();\r\n                }\r\n\r\n                //== Reload\r\n                var reload = KUtil.find(the.head, '[data-kportlet-tool=reload]');\r\n                if (reload && KUtil.data(reload).has('tooltip')) {\r\n                    KUtil.data(reload).get('tooltip').dispose();\r\n                }\r\n\r\n                //== Toggle\r\n                var toggle = KUtil.find(the.head, '[data-kportlet-tool=toggle]');\r\n                if (toggle && KUtil.data(toggle).has('tooltip')) {\r\n                    KUtil.data(toggle).get('tooltip').dispose();\r\n                }\r\n\r\n                //== Fullscreen\r\n                var fullscreen = KUtil.find(the.head, '[data-kportlet-tool=fullscreen]');\r\n                if (fullscreen && KUtil.data(fullscreen).has('tooltip')) {\r\n                    KUtil.data(fullscreen).get('tooltip').dispose();\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Reload\r\n         */\r\n        reload: function() {\r\n            Plugin.eventTrigger('reload');\r\n        },\r\n\r\n        /**\r\n         * Toggle\r\n         */\r\n        toggle: function() {\r\n            if (KUtil.hasClass(element, 'k-portlet--collapse') || KUtil.hasClass(element, 'k-portlet--collapsed')) {\r\n                Plugin.expand();\r\n            } else {\r\n                Plugin.collapse();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Collapse\r\n         */\r\n        collapse: function() {\r\n            if (Plugin.eventTrigger('beforeCollapse') === false) {\r\n                return;\r\n            }\r\n\r\n            KUtil.slideUp(the.body, the.options.bodyToggleSpeed, function() {\r\n                Plugin.eventTrigger('afterCollapse');\r\n            });\r\n\r\n            KUtil.addClass(element, 'k-portlet--collapse');\r\n\r\n            var toggle = KUtil.find(the.head, '[data-kportlet-tool=toggle]');\r\n            if (toggle && KUtil.data(toggle).has('tooltip')) {\r\n                KUtil.data(toggle).get('tooltip').updateTitleContent(the.options.tools.toggle.expand);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Expand\r\n         */\r\n        expand: function() {\r\n            if (Plugin.eventTrigger('beforeExpand') === false) {\r\n                return;\r\n            }\r\n\r\n            KUtil.slideDown(the.body, the.options.bodyToggleSpeed, function() {\r\n                Plugin.eventTrigger('afterExpand');\r\n            });\r\n\r\n            KUtil.removeClass(element, 'k-portlet--collapse');\r\n            KUtil.removeClass(element, 'k-portlet--collapsed');\r\n\r\n            var toggle = KUtil.find(the.head, '[data-kportlet-tool=toggle]');\r\n            if (toggle && KUtil.data(toggle).has('tooltip')) {\r\n                KUtil.data(toggle).get('tooltip').updateTitleContent(the.options.tools.toggle.collapse);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * fullscreen\r\n         */\r\n        fullscreen: function(mode) {\r\n            var d = {};\r\n            var speed = 300;\r\n\r\n            if (mode === 'off' || (KUtil.hasClass(body, 'k-portlet--fullscreen') && KUtil.hasClass(element, 'k-portlet--fullscreen'))) {\r\n                Plugin.eventTrigger('beforeFullscreenOff');\r\n\r\n                KUtil.removeClass(body, 'k-portlet--fullscreen');\r\n                KUtil.removeClass(element, 'k-portlet--fullscreen');\r\n\r\n                Plugin.removeTooltips();\r\n                Plugin.setupTooltips();\r\n\r\n                if (the.foot) {\r\n                    KUtil.css(the.body, 'margin-bottom', '');\r\n                    KUtil.css(the.foot, 'margin-top', '');\r\n                }\r\n\r\n                Plugin.eventTrigger('afterFullscreenOff');\r\n            } else {\r\n                Plugin.eventTrigger('beforeFullscreenOn');\r\n\r\n                KUtil.addClass(element, 'k-portlet--fullscreen');\r\n                KUtil.addClass(body, 'k-portlet--fullscreen');\r\n\r\n                Plugin.removeTooltips();\r\n                Plugin.setupTooltips();\r\n\r\n\r\n                if (the.foot) {\r\n                    var height1 = parseInt(KUtil.css(the.foot, 'height'));\r\n                    var height2 = parseInt(KUtil.css(the.foot, 'height')) + parseInt(KUtil.css(the.head, 'height'));\r\n                    KUtil.css(the.body, 'margin-bottom', height1 + 'px');\r\n                    KUtil.css(the.foot, 'margin-top', '-' + height2 + 'px');\r\n                }\r\n\r\n                Plugin.eventTrigger('afterFullscreenOn');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Trigger events\r\n         */\r\n        eventTrigger: function(name) {\r\n            //KUtil.triggerCustomEvent(name);\r\n            for (var i = 0; i < the.events.length; i++) {\r\n                var event = the.events[i];\r\n                if (event.name == name) {\r\n                    if (event.one == true) {\r\n                        if (event.fired == false) {\r\n                            the.events[i].fired = true;\r\n                            event.handler.call(this, the);\r\n                        }\r\n                    } else {\r\n                        event.handler.call(this, the);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n\r\n            return the;\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n\r\n    /**\r\n     * Set default options\r\n     */\r\n\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    /**\r\n     * Remove portlet\r\n     * @returns {KPortlet}\r\n     */\r\n    the.remove = function() {\r\n        return Plugin.remove(html);\r\n    };\r\n\r\n    /**\r\n     * Remove portlet\r\n     * @returns {KPortlet}\r\n     */\r\n    the.initSticky = function() {\r\n        return Plugin.initSticky();\r\n    };\r\n\r\n    /**\r\n     * Remove portlet\r\n     * @returns {KPortlet}\r\n     */\r\n    the.updateSticky = function() {\r\n        return Plugin.updateSticky();\r\n    };\r\n\r\n    /**\r\n     * Remove portlet\r\n     * @returns {KPortlet}\r\n     */\r\n    the.resetSticky = function() {\r\n        return Plugin.resetSticky();\r\n    };\r\n\r\n\t/**\r\n\t * Destroy sticky portlet\r\n\t */\r\n\tthe.destroySticky = function() {\r\n\t\tPlugin.resetSticky();\r\n\t\twindow.removeEventListener('scroll', Plugin.onScrollSticky);\r\n\t};\r\n\r\n    /**\r\n     * Reload portlet\r\n     * @returns {KPortlet}\r\n     */\r\n    the.reload = function() {\r\n        return Plugin.reload();\r\n    };\r\n\r\n    /**\r\n     * Set portlet content\r\n     * @returns {KPortlet}\r\n     */\r\n    the.setContent = function(html) {\r\n        return Plugin.setContent(html);\r\n    };\r\n\r\n    /**\r\n     * Toggle portlet\r\n     * @returns {KPortlet}\r\n     */\r\n    the.toggle = function() {\r\n        return Plugin.toggle();\r\n    };\r\n\r\n    /**\r\n     * Collapse portlet\r\n     * @returns {KPortlet}\r\n     */\r\n    the.collapse = function() {\r\n        return Plugin.collapse();\r\n    };\r\n\r\n    /**\r\n     * Expand portlet\r\n     * @returns {KPortlet}\r\n     */\r\n    the.expand = function() {\r\n        return Plugin.expand();\r\n    };\r\n\r\n    /**\r\n     * Fullscreen portlet\r\n     * @returns {MPortlet}\r\n     */\r\n    the.fullscreen = function() {\r\n        return Plugin.fullscreen('on');\r\n    };\r\n\r\n    /**\r\n     * Fullscreen portlet\r\n     * @returns {MPortlet}\r\n     */\r\n    the.unFullscreen = function() {\r\n        return Plugin.fullscreen('off');\r\n    };\r\n\r\n    /**\r\n     * Get portletbody\r\n     * @returns {jQuery}\r\n     */\r\n    the.getBody = function() {\r\n        return Plugin.getBody();\r\n    };\r\n\r\n    /**\r\n     * Get portletbody\r\n     * @returns {jQuery}\r\n     */\r\n    the.getSelf = function() {\r\n        return Plugin.getSelf();\r\n    };\r\n\r\n    /**\r\n     * Attach event\r\n     */\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    /**\r\n     * Attach event that will be fired once\r\n     */\r\n    the.one = function(name, handler) {\r\n        return Plugin.addEvent(name, handler, true);\r\n    };\r\n\r\n    // Construct plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    return the;\r\n};\n\"use strict\";\r\nvar KScrolltop = function(elementId, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = KUtil.get(elementId);\r\n    var body = KUtil.get('body');\r\n\r\n    if (!element) {\r\n        return;\r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {\r\n        offset: 300,\r\n        speed: 600,\r\n        toggleClass: 'k-scrolltop--on'\r\n    };\r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        /**\r\n         * Run plugin\r\n         * @returns {mscrolltop}\r\n         */\r\n        construct: function(options) {\r\n            if (KUtil.data(element).has('scrolltop')) {\r\n                the = KUtil.data(element).get('scrolltop');\r\n            } else {\r\n                // reset scrolltop\r\n                Plugin.init(options);\r\n\r\n                // build scrolltop\r\n                Plugin.build();\r\n\r\n                KUtil.data(element).set('scrolltop', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Handles subscrolltop click toggle\r\n         * @returns {mscrolltop}\r\n         */\r\n        init: function(options) {\r\n            the.events = [];\r\n\r\n            // merge default and user defined options\r\n            the.options = KUtil.deepExtend({}, defaultOptions, options);\r\n        },\r\n\r\n        build: function() {\r\n            // handle window scroll\r\n            if (navigator.userAgent.match(/iPhone|iPad|iPod/i)) {\r\n                window.addEventListener('touchend', function() {\r\n                    Plugin.handle();\r\n                });\r\n\r\n                window.addEventListener('touchcancel', function() {\r\n                    Plugin.handle();\r\n                });\r\n\r\n                window.addEventListener('touchleave', function() {\r\n                    Plugin.handle();\r\n                });\r\n            } else {\r\n                window.addEventListener('scroll', function() { \r\n                    Plugin.handle();\r\n                });\r\n            }\r\n\r\n            // handle button click \r\n            KUtil.addEvent(element, 'click', Plugin.scroll);\r\n        },\r\n\r\n        /**\r\n         * Handles scrolltop click scrollTop\r\n         */\r\n        handle: function() {\r\n            var pos = window.pageYOffset; // current vertical position\r\n            if (pos > the.options.offset) {\r\n                KUtil.addClass(body, the.options.toggleClass);\r\n            } else {\r\n                KUtil.removeClass(body, the.options.toggleClass);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handles scrolltop click scrollTop\r\n         */\r\n        scroll: function(e) {\r\n            e.preventDefault();\r\n\r\n            KUtil.scrollTop(0, the.options.speed);\r\n        },\r\n\r\n\r\n        /**\r\n         * Trigger events\r\n         */\r\n        eventTrigger: function(name, args) {\r\n            for (var i = 0; i < the.events.length; i++) {\r\n                var event = the.events[i];\r\n                if (event.name == name) {\r\n                    if (event.one == true) {\r\n                        if (event.fired == false) {\r\n                            the.events[i].fired = true;\r\n                            event.handler.call(this, the, args);\r\n                        }\r\n                    } else {\r\n                        event.handler.call(this, the, args);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n\r\n    /**\r\n     * Set default options \r\n     */\r\n\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    /**\r\n     * Get subscrolltop mode\r\n     */\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    /**\r\n     * Set scrolltop content\r\n     * @returns {mscrolltop}\r\n     */\r\n    the.one = function(name, handler) {\r\n        return Plugin.addEvent(name, handler, true);\r\n    };\r\n\r\n    ///////////////////////////////\r\n    // ** Plugin Construction ** //\r\n    ///////////////////////////////\r\n\r\n    // Run plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    // Init done\r\n    init = true;\r\n\r\n    // Return plugin instance\r\n    return the;\r\n};\n\"use strict\";\r\n\r\n// plugin setup\r\nvar KToggle = function(elementId, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = KUtil.get(elementId);\r\n    var body = KUtil.get('body');  \r\n\r\n    if (!element) {\r\n        return;\r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {\r\n        togglerState: '',\r\n        targetState: ''\r\n    };    \r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        /**\r\n         * Construct\r\n         */\r\n\r\n        construct: function(options) {\r\n            if (KUtil.data(element).has('toggle')) {\r\n                the = KUtil.data(element).get('toggle');\r\n            } else {\r\n                // reset menu\r\n                Plugin.init(options);\r\n\r\n                // build menu\r\n                Plugin.build();\r\n\r\n                KUtil.data(element).set('toggle', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Handles subtoggle click toggle\r\n         */\r\n        init: function(options) {\r\n            the.element = element;\r\n            the.events = [];\r\n\r\n            // merge default and user defined options\r\n            the.options = KUtil.deepExtend({}, defaultOptions, options);\r\n\r\n            the.target = KUtil.get(the.options.target);\r\n            the.targetState = the.options.targetState;\r\n            the.togglerState = the.options.togglerState;\r\n\r\n            the.state = KUtil.hasClasses(the.target, the.targetState) ? 'on' : 'off';\r\n        },\r\n\r\n        /**\r\n         * Setup toggle\r\n         */\r\n        build: function() {\r\n            KUtil.addEvent(element, 'mouseup', Plugin.toggle);\r\n        },\r\n        \r\n        /**\r\n         * Handles offcanvas click toggle\r\n         */\r\n        toggle: function(e) {\r\n            Plugin.eventTrigger('beforeToggle');\r\n\r\n            if (the.state == 'off') {\r\n                Plugin.toggleOn();\r\n            } else {\r\n                Plugin.toggleOff();\r\n            }\r\n\r\n            Plugin.eventTrigger('afterToggle');\r\n\r\n            e.preventDefault();\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Handles toggle click toggle\r\n         */\r\n        toggleOn: function() {\r\n            Plugin.eventTrigger('beforeOn');\r\n\r\n            KUtil.addClass(the.target, the.targetState);\r\n\r\n            if (the.togglerState) {\r\n                KUtil.addClass(element, the.togglerState);\r\n            }\r\n\r\n            the.state = 'on';\r\n\r\n            Plugin.eventTrigger('afterOn');\r\n\r\n            Plugin.eventTrigger('toggle');\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Handles toggle click toggle\r\n         */\r\n        toggleOff: function() {\r\n            Plugin.eventTrigger('beforeOff');\r\n\r\n            KUtil.removeClass(the.target, the.targetState);\r\n\r\n            if (the.togglerState) {\r\n                KUtil.removeClass(element, the.togglerState);\r\n            }\r\n\r\n            the.state = 'off';\r\n\r\n            Plugin.eventTrigger('afterOff');\r\n\r\n            Plugin.eventTrigger('toggle');\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Trigger events\r\n         */\r\n        eventTrigger: function(name) {\r\n            for (var i = 0; i < the.events.length; i++) {\r\n                var event = the.events[i];\r\n\r\n                if (event.name == name) {\r\n                    if (event.one == true) {\r\n                        if (event.fired == false) {\r\n                            the.events[i].fired = true;                            \r\n                            event.handler.call(this, the);\r\n                        }\r\n                    } else {\r\n                        event.handler.call(this, the);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n\r\n            return the;\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n\r\n    /**\r\n     * Set default options \r\n     */\r\n\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    /**\r\n     * Get toggle state \r\n     */\r\n    the.getState = function() {\r\n        return the.state;\r\n    };\r\n\r\n    /**\r\n     * Toggle \r\n     */\r\n    the.toggle = function() {\r\n        return Plugin.toggle();\r\n    };\r\n\r\n    /**\r\n     * Toggle on \r\n     */\r\n    the.toggleOn = function() {\r\n        return Plugin.toggleOn();\r\n    };\r\n\r\n    /**\r\n     * Toggle off \r\n     */\r\n    the.toggleOff = function() {\r\n        return Plugin.toggleOff();\r\n    };\r\n\r\n    /**\r\n     * Attach event\r\n     * @returns {KToggle}\r\n     */\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    /**\r\n     * Attach event that will be fired once\r\n     * @returns {KToggle}\r\n     */\r\n    the.one = function(name, handler) {\r\n        return Plugin.addEvent(name, handler, true);\r\n    };\r\n\r\n    // Construct plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    return the;\r\n};\n// plugin setup\r\nvar KWizard = function(elementId, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = KUtil.get(elementId);\r\n    var body = KUtil.get('body');\r\n\r\n    if (!element) {\r\n        return; \r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {\r\n        startStep: 1,\r\n        manualStepForward: false\r\n    };\r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        /**\r\n         * Construct\r\n         */\r\n\r\n        construct: function(options) {\r\n            if (KUtil.data(element).has('wizard')) {\r\n                the = KUtil.data(element).get('wizard');\r\n            } else {\r\n                // reset menu\r\n                Plugin.init(options);\r\n\r\n                // build menu\r\n                Plugin.build();\r\n\r\n                KUtil.data(element).set('wizard', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Init wizard\r\n         */\r\n        init: function(options) {\r\n            the.element = element;\r\n            the.events = [];\r\n\r\n            // merge default and user defined options\r\n            the.options = KUtil.deepExtend({}, defaultOptions, options);\r\n\r\n            // Elements\r\n            the.steps = KUtil.findAll(element, '[data-kwizard-type=\"step\"]');\r\n\r\n            the.btnSubmit = KUtil.find(element, '[data-kwizard-type=\"action-submit\"]');\r\n            the.btnNext = KUtil.find(element, '[data-kwizard-type=\"action-next\"]');\r\n            the.btnPrev = KUtil.find(element, '[data-kwizard-type=\"action-prev\"]');\r\n            the.btnLast = KUtil.find(element, '[data-kwizard-type=\"action-last\"]');\r\n            the.btnFirst = KUtil.find(element, '[data-kwizard-type=\"action-first\"]');\r\n\r\n            // Variables\r\n            the.events = [];\r\n            the.currentStep = 1;\r\n            the.stopped = false;\r\n            the.totalSteps = the.steps.length;\r\n\r\n            // Init current step\r\n            if (the.options.startStep > 1) {\r\n                Plugin.goTo(the.options.startStep);\r\n            }\r\n\r\n            // Init UI\r\n            Plugin.updateUI();\r\n        },\r\n\r\n        /**\r\n         * Build Form Wizard\r\n         */\r\n        build: function() {\r\n            // Next button event handler\r\n            KUtil.addEvent(the.btnNext, 'click', function(e) {\r\n                e.preventDefault();\r\n                Plugin.goNext();\r\n            });\r\n\r\n            // Prev button event handler\r\n            KUtil.addEvent(the.btnPrev, 'click', function(e) {\r\n                e.preventDefault();\r\n                Plugin.goPrev();\r\n            });\r\n\r\n            // First button event handler\r\n            KUtil.addEvent(the.btnFirst, 'click', function(e) {\r\n                e.preventDefault();\r\n                Plugin.goFirst();\r\n            });\r\n\r\n            // Last button event handler\r\n            KUtil.addEvent(the.btnLast, 'click', function(e) {\r\n                e.preventDefault();\r\n                Plugin.goLast();\r\n            });\r\n\r\n            KUtil.on(element, 'a[data-kwizard-type=\"step\"]', 'click', function() {\r\n                var index = KUtil.index(this) + 1;\r\n                if (index !== the.currentStep) {\r\n                    Plugin.goTo(index);\r\n                }                \r\n            });\r\n        },\r\n\r\n        /**\r\n         * Handles wizard click wizard\r\n         */\r\n        goTo: function(number) {\r\n            // Skip if this step is already shown\r\n            if (number === the.currentStep || number > the.totalSteps || number < 0) {\r\n                return;\r\n            }\r\n\r\n            // Validate step number\r\n            if (number) {\r\n                number = parseInt(number);\r\n            } else {\r\n                number = Plugin.getNextStep();\r\n            }\r\n\r\n            // Before next and prev events\r\n            var callback;\r\n\r\n            if (number > the.currentStep) {\r\n                callback = Plugin.eventTrigger('beforeNext');\r\n            } else {\r\n                callback = Plugin.eventTrigger('beforePrev');\r\n            }\r\n            \r\n            // Skip if stopped\r\n            if (the.stopped === true) {\r\n                the.stopped = false;\r\n                return;\r\n            }\r\n\r\n            // Continue if no exit\r\n            if (callback !== false) {\r\n                // Before change\r\n                Plugin.eventTrigger('beforeChange');\r\n\r\n                // Set current step \r\n                the.currentStep = number;\r\n\r\n                Plugin.updateUI();\r\n\r\n                // Trigger change event\r\n                Plugin.eventTrigger('change');\r\n            }\r\n\r\n            // After next and prev events\r\n            if (number > the.startStep) {\r\n                Plugin.eventTrigger('afterNext');\r\n            } else {\r\n                Plugin.eventTrigger('afterPrev');\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Cancel\r\n         */\r\n        stop: function() {\r\n            the.stopped = true;\r\n        },\r\n\r\n        /**\r\n         * Resume\r\n         */\r\n        start: function() {\r\n            the.stopped = false;\r\n        },\r\n\r\n        /**\r\n         * Check last step\r\n         */\r\n        isLastStep: function() {\r\n            return the.currentStep === the.totalSteps;\r\n        },\r\n\r\n        /**\r\n         * Check first step\r\n         */\r\n        isFirstStep: function() {\r\n            return the.currentStep === 1;\r\n        },\r\n\r\n        /**\r\n         * Check between step\r\n         */\r\n        isBetweenStep: function() {\r\n            return Plugin.isLastStep() === false && Plugin.isFirstStep() === false;\r\n        },\r\n\r\n        /**\r\n         * Go to the next step\r\n         */\r\n        goNext: function() {\r\n            return Plugin.goTo(Plugin.getNextStep());\r\n        },\r\n\r\n        /**\r\n         * Go to the prev step\r\n         */\r\n        goPrev: function() {\r\n            return Plugin.goTo(Plugin.getPrevStep());\r\n        },\r\n\r\n        /**\r\n         * Go to the last step\r\n         */\r\n        goLast: function() {\r\n            return Plugin.goTo(the.totalSteps);\r\n        },\r\n\r\n        /**\r\n         * Go to the first step\r\n         */\r\n        goFirst: function() {\r\n            return Plugin.goTo(1);\r\n        },\r\n\r\n        /**\r\n         * Go to the first step\r\n         */\r\n        updateUI: function() {\r\n            var stepType = '';\r\n            var index = the.currentStep - 1;\r\n\r\n            if (Plugin.isLastStep()) {\r\n                stepType = 'last';\r\n            } else if (Plugin.isFirstStep()) {\r\n                stepType = 'first';\r\n            } else {\r\n                stepType = 'between';\r\n            }\r\n\r\n            KUtil.attr(the.element, 'data-kwizard-state', stepType);\r\n\r\n            // Steps\r\n            var steps = KUtil.findAll(the.element, '[data-kwizard-type=\"step\"]');\r\n\r\n            if (steps && steps.length > 0) {\r\n                for (var i = 0, len = steps.length; i < len; i++) {\r\n                    if (i == index) {\r\n                        KUtil.attr(steps[i], 'data-kwizard-state', 'current');\r\n                    } else {\r\n                        if (i < index) {\r\n                            KUtil.attr(steps[i], 'data-kwizard-state', 'done');\r\n                        } else {\r\n                            KUtil.attr(steps[i], 'data-kwizard-state', 'pending');\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Steps Info\r\n            var stepsInfo = KUtil.findAll(the.element, '[data-kwizard-type=\"step-info\"]');\r\n            if (stepsInfo &&stepsInfo.length > 0) {\r\n                for (var i = 0, len = stepsInfo.length; i < len; i++) {\r\n                    if (i == index) {\r\n                        KUtil.attr(stepsInfo[i], 'data-kwizard-state', 'current');\r\n                    } else {\r\n                        KUtil.removeAttr(stepsInfo[i], 'data-kwizard-state');\r\n                    }\r\n                }\r\n            }  \r\n\r\n            // Steps Content\r\n            var stepsContent = KUtil.findAll(the.element, '[data-kwizard-type=\"step-content\"]');\r\n            if (stepsContent&& stepsContent.length > 0) {\r\n                for (var i = 0, len = stepsContent.length; i < len; i++) {\r\n                    if (i == index) {\r\n                        KUtil.attr(stepsContent[i], 'data-kwizard-state', 'current');\r\n                    } else {\r\n                        KUtil.removeAttr(stepsContent[i], 'data-kwizard-state');\r\n                    }\r\n                }\r\n            }            \r\n        },\r\n\r\n        /**\r\n         * Get next step\r\n         */\r\n        getNextStep: function() {\r\n            if (the.totalSteps >= (the.currentStep + 1)) {\r\n                return the.currentStep + 1;\r\n            } else {\r\n                return the.totalSteps;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get prev step\r\n         */\r\n        getPrevStep: function() {\r\n            if ((the.currentStep - 1) >= 1) {\r\n                return the.currentStep - 1;\r\n            } else {\r\n                return 1;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Trigger events\r\n         */\r\n        eventTrigger: function(name) {\r\n            //KUtil.triggerCustomEvent(name);\r\n            for (var i = 0; i < the.events.length; i++) {\r\n                var event = the.events[i];\r\n                if (event.name == name) {\r\n                    if (event.one == true) {\r\n                        if (event.fired == false) {\r\n                            the.events[i].fired = true;\r\n                            event.handler.call(this, the);\r\n                        }\r\n                    } else {\r\n                        event.handler.call(this, the);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n\r\n            return the;\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n\r\n    /**\r\n     * Set default options \r\n     */\r\n\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    /**\r\n     * Go to the next step \r\n     */\r\n    the.goNext = function() {\r\n        return Plugin.goNext();\r\n    };\r\n\r\n    /**\r\n     * Go to the prev step \r\n     */\r\n    the.goPrev = function() {\r\n        return Plugin.goPrev();\r\n    };\r\n\r\n    /**\r\n     * Go to the last step \r\n     */\r\n    the.goLast = function() {\r\n        return Plugin.goLast();\r\n    };\r\n\r\n    /**\r\n     * Cancel step \r\n     */\r\n    the.stop = function() {\r\n        return Plugin.stop();\r\n    };\r\n\r\n    /**\r\n     * Resume step \r\n     */\r\n    the.start = function() {\r\n        return Plugin.start();\r\n    };\r\n\r\n    /**\r\n     * Go to the first step \r\n     */\r\n    the.goFirst = function() {\r\n        return Plugin.goFirst();\r\n    };\r\n\r\n    /**\r\n     * Go to a step\r\n     */\r\n    the.goTo = function(number) {\r\n        return Plugin.goTo(number);\r\n    };\r\n\r\n    /**\r\n     * Get current step number \r\n     */\r\n    the.getStep = function() {\r\n        return the.currentStep;\r\n    };\r\n\r\n    /**\r\n     * Check last step \r\n     */\r\n    the.isLastStep = function() {\r\n        return Plugin.isLastStep();\r\n    };\r\n\r\n    /**\r\n     * Check first step \r\n     */\r\n    the.isFirstStep = function() {\r\n        return Plugin.isFirstStep();\r\n    };\r\n    \r\n    /**\r\n     * Attach event\r\n     */\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    /**\r\n     * Attach event that will be fired once\r\n     */\r\n    the.one = function(name, handler) {\r\n        return Plugin.addEvent(name, handler, true);\r\n    };\r\n\r\n    // Construct plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    return the;\r\n};\n// plugin setup\r\nvar KAvatar = function(elementId, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = KUtil.get(elementId);\r\n    var body = KUtil.get('body');\r\n\r\n    if (!element) {\r\n        return; \r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {\r\n    };\r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        /**\r\n         * Construct\r\n         */\r\n\r\n        construct: function(options) {\r\n            if (KUtil.data(element).has('avatar')) {\r\n                the = KUtil.data(element).get('avatar');\r\n            } else {\r\n                // reset menu\r\n                Plugin.init(options);\r\n\r\n                // build menu\r\n                Plugin.build();\r\n\r\n                KUtil.data(element).set('avatar', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Init avatar\r\n         */\r\n        init: function(options) {\r\n            the.element = element;\r\n            the.events = [];\r\n\r\n            the.input = KUtil.find(element, 'input[type=\"file\"]');\r\n            the.holder = KUtil.find(element, '.k-avatar__holder');\r\n            the.cancel = KUtil.find(element, '.k-avatar__cancel');\r\n            the.src = KUtil.css(the.holder, 'backgroundImage');\r\n\r\n            // merge default and user defined options\r\n            the.options = KUtil.deepExtend({}, defaultOptions, options);\r\n        },\r\n\r\n        /**\r\n         * Build Form Wizard\r\n         */\r\n        build: function() {\r\n            // Handle avatar change\r\n            KUtil.addEvent(the.input, 'change', function(e) {\r\n                e.preventDefault();\r\n\r\n\t            if (the.input && the.input.files && the.input.files[0]) {\r\n\t                var reader = new FileReader();\r\n\t                reader.onload = function(e) {\r\n\t                    KUtil.css(the.holder, 'background-image', 'url('+e.target.result +')');\r\n\t                }\r\n\t                reader.readAsDataURL(the.input.files[0]);\r\n\r\n\t                KUtil.addClass(the.element, 'k-avatar--changed');\r\n\t            }\r\n            });\r\n\r\n            // Handle avatar cancel\r\n            KUtil.addEvent(the.cancel, 'click', function(e) {\r\n                e.preventDefault();\r\n\r\n\t            KUtil.removeClass(the.element, 'k-avatar--changed');\r\n\t            KUtil.css(the.holder, 'background-image', the.src);\r\n\t            the.input.value = \"\";\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Trigger events\r\n         */\r\n        eventTrigger: function(name) {\r\n            //KUtil.triggerCustomEvent(name);\r\n            for (var i = 0; i < the.events.length; i++) {\r\n                var event = the.events[i];\r\n                if (event.name == name) {\r\n                    if (event.one == true) {\r\n                        if (event.fired == false) {\r\n                            the.events[i].fired = true;\r\n                            event.handler.call(this, the);\r\n                        }\r\n                    } else {\r\n                        event.handler.call(this, the);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n\r\n            return the;\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n\r\n    /**\r\n     * Set default options \r\n     */\r\n\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n    \r\n    /**\r\n     * Attach event\r\n     */\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    /**\r\n     * Attach event that will be fired once\r\n     */\r\n    the.one = function(name, handler) {\r\n        return Plugin.addEvent(name, handler, true);\r\n    };\r\n\r\n    // Construct plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    return the;\r\n};\n\"use strict\";\r\nvar KLayout = function() {\r\n    var body;\r\n\r\n    var header;\r\n    var headerMenu;\r\n    var headerMenuOffcanvas;\r\n    var mobileHeaderTopbarToggle;\r\n\r\n    var asideMenu;\r\n    var asideMenuOffcanvas;\r\n\r\n    var scrollTop;\r\n\r\n    var pageStickyPortlet;\r\n\r\n    // Header\r\n    var initHeader = function() {\r\n        var tmp;\r\n        var headerEl = KUtil.get('k_header');\r\n        var options = {\r\n            classic: {\r\n                desktop: true,\r\n                mobile: false\r\n            },\r\n            offset: {},\r\n            minimize: {}\r\n        };\r\n\r\n        options.minimize.mobile = false;\r\n\r\n        if (KUtil.attr(headerEl, 'data-kheader-minimize') == 'on') {\r\n            options.minimize.desktop = {};\r\n            options.minimize.desktop.on = 'k-header--minimize';\r\n            options.offset.desktop = parseInt(KUtil.css(headerEl, 'height')) - 10;\r\n        } else {\r\n            options.minimize.desktop = false;\r\n        }\r\n\r\n        header = new KHeader('k_header', options);\r\n\r\n        if (asideMenu) {\r\n            header.on('minimizeOn', function() {\r\n                asideMenu.scrollReInit();\r\n            });\r\n\r\n            header.on('minimizeOff', function() {\r\n                asideMenu.scrollReInit();\r\n            });\r\n        }        \r\n    }\r\n\r\n    // Header Menu\r\n    var initHeaderMenu = function() {\r\n        // init aside left offcanvas\r\n        headerMenuOffcanvas = new KOffcanvas('k_header_menu_wrapper', {\r\n            overlay: true,\r\n            baseClass: 'k-header-menu-wrapper',\r\n            closeBy: 'k_header_menu_mobile_close_btn',\r\n            toggleBy: {\r\n                target: 'k_header_mobile_toggler',\r\n                state: 'k-header-mobile__toolbar-toggler--active'\r\n            }\r\n        });\r\n\r\n        headerMenu = new KMenu('k_header_menu', {\r\n            submenu: {\r\n                desktop: 'dropdown',\r\n                tablet: 'accordion',\r\n                mobile: 'accordion'\r\n            },\r\n            accordion: {\r\n                slideSpeed: 200, // accordion toggle slide speed in milliseconds\r\n                expandAll: false // allow having multiple expanded accordions in the menu\r\n            }\r\n        });\r\n    }\r\n\r\n    // Header Topbar\r\n    var initHeaderTopbar = function() {\r\n        mobileHeaderTopbarToggle = new KToggle('k_header_mobile_topbar_toggler', {\r\n            target: 'body',\r\n            targetState: 'k-header__topbar--mobile-on',\r\n            togglerState: 'k-header-mobile__toolbar-topbar-toggler--active'\r\n        });\r\n    }\r\n\r\n    // Aside\r\n    var initAside = function() {\r\n        // init aside left offcanvas\r\n        var asidBrandHover = false;\r\n        var aside = KUtil.get('k_aside');\r\n        var asideBrand = KUtil.get('k_aside_brand');\r\n        var asideOffcanvasClass = KUtil.hasClass(aside, 'k-aside--offcanvas-default') ? 'k-aside--offcanvas-default' : 'k-aside';\r\n\r\n        asideMenuOffcanvas = new KOffcanvas('k_aside', {\r\n            baseClass: asideOffcanvasClass,\r\n            overlay: true,\r\n            closeBy: 'k_aside_close_btn',\r\n            toggleBy: {\r\n                target: 'k_aside_mobile_toggler',\r\n                state: 'k-header-mobile__toolbar-toggler--active'\r\n            }\r\n        });\r\n\r\n        // Handle minimzied aside hover\r\n        if (KUtil.hasClass(body, 'k-aside--fixed')) {\r\n            var insideTm;\r\n            var outsideTm;\r\n\r\n            KUtil.addEvent(aside, 'mouseenter', function(e) {\r\n                e.preventDefault();\r\n\r\n                if (KUtil.isInResponsiveRange('desktop') === false) {\r\n                    return;\r\n                }\r\n\r\n                if (outsideTm) {\r\n                    clearTimeout(outsideTm);\r\n                    outsideTm = null;\r\n                }\r\n\r\n                insideTm = setTimeout(function() {\r\n                    if (KUtil.hasClass(body, 'k-aside--minimize') && KUtil.isInResponsiveRange('desktop')) {\r\n                        KUtil.removeClass(body, 'k-aside--minimize');\r\n                        \r\n                        // Minimizing class\r\n                        KUtil.addClass(body, 'k-aside--minimizing');\r\n                        KUtil.transitionEnd(body, function() {\r\n                            KUtil.removeClass(body, 'k-aside--minimizing');\r\n                        });\r\n\r\n                        // Hover class\r\n                        KUtil.addClass(body, 'k-aside--minimize-hover');\r\n                        asideMenu.scrollUpdate();\r\n                        asideMenu.scrollTop();\r\n                    }\r\n                }, 50);\r\n            });\r\n\r\n            KUtil.addEvent(aside, 'mouseleave', function(e) {\r\n                e.preventDefault();\r\n\r\n                if (KUtil.isInResponsiveRange('desktop') === false) {\r\n                    return;\r\n                }\r\n\r\n                if (insideTm) {\r\n                    clearTimeout(insideTm);\r\n                    insideTm = null;\r\n                }\r\n\r\n                outsideTm = setTimeout(function() {\r\n                    if (KUtil.hasClass(body, 'k-aside--minimize-hover') && KUtil.isInResponsiveRange('desktop')) {\r\n                        KUtil.removeClass(body, 'k-aside--minimize-hover');\r\n                        KUtil.addClass(body, 'k-aside--minimize');\r\n\r\n                        // Minimizing class\r\n                        KUtil.addClass(body, 'k-aside--minimizing');\r\n                        KUtil.transitionEnd(body, function() {\r\n                            KUtil.removeClass(body, 'k-aside--minimizing');\r\n                        });\r\n\r\n                        // Hover class\r\n                        asideMenu.scrollUpdate();\r\n                        asideMenu.scrollTop();\r\n                    }\r\n                }, 100);\r\n            });\r\n        }\r\n    }\r\n\r\n    // Aside menu\r\n    var initAsideMenu = function() {\r\n        // Init aside menu\r\n        var menu = KUtil.get('k_aside_menu');\r\n        var menuDesktopMode = (KUtil.attr(menu, 'data-kmenu-dropdown') === '1' ? 'dropdown' : 'accordion');\r\n\r\n        // Init scrollable menu container\r\n        var scroll;\r\n        if (KUtil.attr(menu, 'data-kmenu-scroll') === '1') {\r\n            scroll = {\r\n                height: function() {\r\n                    var height;\r\n\r\n                    if (KUtil.isInResponsiveRange('desktop')) {\r\n                        height = parseInt(KUtil.getViewPort().height) - parseInt(KUtil.actualHeight('k_header', false)) - parseInt(KUtil.actualHeight('k_footer', false));\r\n                        height = height - parseInt(KUtil.css(menu, 'marginTop')) - parseInt(KUtil.css(menu, 'marginBottom'));\r\n                    } else {\r\n                        height = parseInt(KUtil.getViewPort().height);\r\n                    }\r\n\r\n                    return height;\r\n                }\r\n            };\r\n        }\r\n\r\n        // Init aside menu\r\n        asideMenu = new KMenu('k_aside_menu', {\r\n            // vertical scroll\r\n            scroll: scroll,\r\n\r\n            // submenu setup\r\n            submenu: {\r\n                desktop: {\r\n                    // by default the menu mode set to accordion in desktop mode\r\n                    default: menuDesktopMode,\r\n                    // whenever body has this class switch the menu mode to dropdown\r\n                    state: {\r\n                        body: 'k-aside--minimize',\r\n                        mode: 'dropdown'\r\n                    }\r\n                },\r\n                tablet: 'accordion', // menu set to accordion in tablet mode\r\n                mobile: 'accordion' // menu set to accordion in mobile mode\r\n            },\r\n\r\n            //accordion setup\r\n            accordion: {\r\n                expandAll: false // allow having multiple expanded accordions in the menu\r\n            }\r\n        });      \r\n    }\r\n\r\n    // Scrolltop\r\n    var initScrolltop = function() {\r\n        var scrolltop = new KScrolltop('k_scrolltop', {\r\n            offset: 200,\r\n            speed: 400\r\n        });\r\n    }\r\n\r\n    // Init page sticky portlet\r\n    var initPageStickyPortlet = function() {\r\n        return new KPortlet('k_page_portlet', {\r\n            sticky: {\r\n                offset: parseInt(KUtil.css( KUtil.get('k_header'), 'height')) + 200,\r\n                zIndex: 90,\r\n                position: {\r\n                    top: function() {\r\n                        var h = 0;\r\n\r\n                        if (KUtil.isInResponsiveRange('desktop')) {\r\n                            if (KUtil.hasClass(body, 'k-header--fixed')) {\r\n                                h = h + parseInt(KUtil.css( KUtil.get('k_header'), 'height') );\r\n                            }\r\n                        } else {\r\n                            if (KUtil.hasClass(body, 'k-header-mobile--fixed')) {\r\n                                h = h + parseInt(KUtil.css( KUtil.get('k_header_mobile'), 'height') );\r\n                            }\r\n                        }    \r\n                        \r\n                        return h;              \r\n                    },\r\n                    left: function() {\r\n                        if (KUtil.isInResponsiveRange('tablet-and-mobile')) {    \r\n                            return parseInt(KUtil.css( KUtil.get('k_body'), 'paddingLeft')); \r\n                        }\r\n\r\n                        return;\r\n                    },\r\n                    right: function() {\r\n                        if (KUtil.isInResponsiveRange('tablet-and-mobile')) {    \r\n                            return parseInt(KUtil.css( KUtil.get('k_body'), 'paddingRight')); \r\n                        }\r\n\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    return {\r\n        init: function() {\r\n            body = KUtil.get('body');\r\n\r\n            this.initHeader();\r\n            this.initAside();\r\n            this.initPageStickyPortlet();\r\n\r\n            // Non functional links notice(can be removed in production)\r\n            $('#k_aside_menu, #k_header_menu').on('click', '.k-menu__link[href=\"#\"]', function(e) {\r\n                swal(\"\", \"You have clicked on a non-functional dummy link!\");\r\n\r\n                e.preventDefault();\r\n            });\r\n        },\r\n\r\n        initHeader: function() {\r\n            initHeader();\r\n            initHeaderMenu();\r\n            initHeaderTopbar();\r\n            initScrolltop();\r\n        },\r\n\r\n        initAside: function() { \r\n            initAside();\r\n            initAsideMenu();\r\n        },\r\n\r\n        getAsideMenu: function() {\r\n            return asideMenu;\r\n        },\r\n\r\n        initPageStickyPortlet: function() {\r\n            if (!KUtil.get('k_page_portlet')) {\r\n                return;\r\n            }\r\n            \r\n            pageStickyPortlet = initPageStickyPortlet();\r\n            pageStickyPortlet.initSticky();\r\n            \r\n            KUtil.addResizeHandler(function(){\r\n                pageStickyPortlet.updateSticky();\r\n            });\r\n\r\n            initPageStickyPortlet();\r\n        },\r\n\r\n        closeMobileAsideMenuOffcanvas: function() {\r\n            if (KUtil.isMobileDevice()) {\r\n                asideMenuOffcanvas.hide();\r\n            }\r\n        },\r\n\r\n        closeMobileHeaderMenuOffcanvas: function() {\r\n            if (KUtil.isMobileDevice()) {\r\n                headerMenuOffcanvas.hide();\r\n            }\r\n        }\r\n    };\r\n}();\r\n\r\n$(document).ready(function() {\r\n    KLayout.init();\r\n});"]}